<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="post-inner-content">
		<header class="entry-header page-header"><h1 class="entry-title ">PL/SQL &#1088;&#1072;&#1073;&#1086;&#1090;&#1072; &#1089; IP &#1072;&#1076;&#1088;&#1077;&#1089;&#1086;&#1084;</h1>

			
<!-- .entry-meta -->
		</header><!-- .entry-header --><div class="entry-content">
			<p>&#1060;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; &#1088;&#1072;&#1079;&#1073;&#1080;&#1088;&#1072;&#1077;&#1090; &#1089;&#1090;&#1088;&#1086;&#1082;&#1091; IP &#1087;&#1086; &#1073;&#1072;&#1081;&#1090;&#1072;&#1084; &#1080; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1095;&#1080;&#1089;&#1083;&#1086; &#1082; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1077;&#1084;&#1091; &#1073;&#1072;&#1081;&#1090;&#1091;. utl_inaddr.get_host_address &mdash; &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090; IP &#1072;&#1076;&#1088;&#1077;&#1089; &#1089;&#1077;&#1088;&#1074;&#1077;&#1088;&#1072;.</p>
<pre class="lang:plsql">
function IP_PLUS(ip_string in varchar2, iNUM in integer) return varchar2 is
d1 integer;
d2 integer;
d3 integer;
q1 varchar2(3);
q2 varchar2(3);
q3 varchar2(3);
q4 varchar2(3);
v8 varchar2(15);
begin
-- 1. parse the input, e.g. '203.30.237.2'
d1 := INSTR(ip_string, '.'); -- first dot
d2 := INSTR(ip_string, '.', 1, 2); -- second dot
d3 := INSTR(ip_string, '.', 1, 3); -- third dot
q1 := SUBSTR(ip_string, 1, d1 - 1); -- e.g. '203'
q2 := SUBSTR(ip_string, d1 + 1, d2 - d1 - 1); -- e.g. '30'
q3 := SUBSTR(ip_string, d2 + 1, d3 - d2 - 1); -- e.g. '237'
q4 := SUBSTR(ip_string, d3 + 1); -- e.g. '2'
q4 := q4 + iNUM;
v8 := q1 || '.' || q2 || '.' || q3 || '.' || q4;
return v8;
end IP_PLUS;

</pre>
					</div>
<!-- .entry-content -->

		<!-- .entry-meta --></div></body></html>
