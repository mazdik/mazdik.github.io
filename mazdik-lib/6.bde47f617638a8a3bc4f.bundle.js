(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{39:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return a}));var i=s(73),n=s(0);class a{constructor(){this.dynElements=[new i.a({title:"Id",name:"id",type:"number"}),new i.a({title:"Name",name:"name",validatorFunc:n.Validators.get({required:!0,minLength:2,pattern:"^[a-zA-Z ]+$"})}),new i.a({title:"Race",name:"race",type:"select",options:[{id:"ASMODIANS",name:"ASMODIANS"},{id:"ELYOS",name:"ELYOS"}],validatorFunc:n.Validators.get({required:!0})}),new i.a({title:"Cascading Select",name:"note",type:"select-dropdown",getOptionsFunc:this.getOptions,optionsUrl:"assets/options.json",dependsElement:"race"}),new i.a({title:"Gender",name:"gender",type:"radio",options:[{id:"MALE",name:"MALE"},{id:"FEMALE",name:"FEMALE"}]}),new i.a({title:"Exp",name:"exp",type:"number",validatorFunc:n.Validators.get({required:!0,maxLength:10,pattern:"^[0-9]+$"})}),new i.a({title:"Last online",name:"last_online",type:"datetime-local"}),new i.a({title:"Account name",name:"account_name",type:"select-modal",getOptionsFunc:this.getOptions,optionsUrl:"assets/accounts.json",keyElement:"account_id"}),new i.a({title:"Account id",name:"account_id"}),new i.a({title:"Player class",name:"player_class",validatorFunc:this.customValidation}),new i.a({title:"Online",name:"online",type:"checkbox",options:[{id:"1",name:"Online"}]}),new i.a({title:"Comment",name:"comment",type:"textarea"})]}get template(){return'<web-dynamic-form class="dynamic-form-demo"></web-dynamic-form>'}load(){const t=document.querySelector("web-dynamic-form");t.dynElements=this.dynElements,t.addEventListener("valid",t=>{console.log(t.detail)})}customValidation(t,e){return null==e||0===e.length?["Custom validator "+t]:[]}getOptions(t,e){return fetch(t).then(t=>t.json()).then(t=>{const s=t.filter(t=>t.parentId===e);return new Promise(t=>{setTimeout(()=>t(s),1e3)})})}}},67:function(t,e){},68:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return l}));var i=s(0);class n{constructor(t){this.element=t,this.addEventListeners()}addEventListeners(){this.clickListener=this.onClick.bind(this),this.element.addEventListener("click",this.clickListener),this.windowClickListener=this.onWindowClick.bind(this),window.document.addEventListener("click",this.windowClickListener),this.windowKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.windowKeydownListener)}removeEventListeners(){this.element.removeEventListener("click",this.clickListener),window.document.removeEventListener("click",this.windowClickListener),window.document.removeEventListener("keydown",this.windowKeydownListener)}onClick(){this.selectContainerClicked=!0}onWindowClick(){this.selectContainerClicked||this.closeDropdown(),this.selectContainerClicked=!1}onKeyDown(t){t.keyCode!==i.Keys.ESCAPE&&"Escape"!==t.key||this.closeDropdown()}toggleDropdown(){this.isOpen?this.closeDropdown():this.openDropdown()}openDropdown(){this.isOpen||(this.isOpen=!0,this.element.dispatchEvent(new CustomEvent("open",{detail:this.isOpen})))}closeDropdown(){this.isOpen&&(this.isOpen=!1,this.element.dispatchEvent(new CustomEvent("open",{detail:this.isOpen})))}}class a{constructor(t){this.element=t,this.isOpen=!1,this.listeners=[],this.addEventListeners()}set clickedElement(t){t!==this.element&&this.isOpen&&(this.isOpen=!1,this.updateStyles())}addEventListeners(){this.listeners=[{eventName:"click",target:this.element,handler:this.toggleDropdown.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}toggle(){this.isOpen=!this.isOpen}toggleDropdown(t){t.stopPropagation(),this.toggle(),this.updateStyles(),this.element.dispatchEvent(new CustomEvent("clickElement",{detail:this.element}))}onWindowClick(t){const e=t.target;if(!e)return;this.element.contains(e)||(this.isOpen=!1),this.updateStyles()}updateStyles(){this.isOpen?this.element.classList.add("open"):this.element.classList.remove("open")}}class l{constructor(t){this.dropdowns=[],this.listeners=[],t.forEach(t=>{this.dropdowns.push(new a(t))}),this.addEventListeners(t)}destroy(){this.removeEventListeners(),this.dropdowns.forEach(t=>{t.removeEventListeners()})}addEventListeners(t){this.listeners=[{eventName:"click",target:window,handler:this.onWindowClick.bind(this)}],t.forEach(t=>{this.listeners.push({eventName:"clickElement",target:t,handler:this.onClickElement.bind(this)})}),this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}onWindowClick(t){this.dropdowns.forEach(e=>{e.onWindowClick(t)})}onClickElement(t){this.dropdowns.forEach(e=>{e.clickedElement=t.detail})}}},69:function(t,e,s){"use strict";var i=s(0);class n{static getTotalPages(t,e){const s=e<1?1:Math.ceil(t/e);return Math.max(s||0,1)}static getPages(t,e){const s=[];let i=1,n=e;3<e&&(i=Math.max(t-Math.floor(1.5),1),n=i+3-1,n>e&&(n=e,i=n-3+1));for(let t=i;t<=n;t++)s.push(t);return s}}n.getRangeLabel=(t,e,s)=>{if(0===s||0===e)return"0 of "+s;const i=(t-1)*e;return`${i+1} - ${i<(s=Math.max(s,0))?Math.min(i+e,s):i+e} of ${s}`};class a extends HTMLElement{constructor(){super(),this._perPage=10,this._totalItems=0,this._currentPage=1,this._pageSizeOptions=[],this.listeners=[],this.pageElements=[]}get perPage(){return this._perPage}set perPage(t){this._perPage=t,this.totalPages=n.getTotalPages(this.totalItems,this.perPage),this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages(),this.setSelectedIndex()}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this.totalPages=n.getTotalPages(this.totalItems,this.perPage),this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages()}get currentPage(){return this._currentPage}set currentPage(t){this._currentPage=t>this.totalPages?this.totalPages:t||1,this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).sort((t,e)=>t-e),this.loadSelect(),this.select.style.display=Object(i.isBlank)(t)?"none":"block"}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){this.classList.add("pagination"),this.render(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onChangePageSize.bind(this)},{eventName:"click",target:this.navigation,handler:this.onClick.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}setPage(t){t>0&&t<=this.totalPages&&t!==this.currentPage&&(this.currentPage=t,this.emitEvent())}onChangePageSize(t){this.perPage=parseInt(t.target.value,10),this.currentPage=this._currentPage,this.emitEvent()}emitEvent(){const t={currentPage:this.currentPage,perPage:this.perPage};this.dispatchEvent(new CustomEvent("pageChanged",{detail:t}))}render(){this.pageSize=document.createElement("div"),this.pageSize.classList.add("pagination-page-size"),this.select=document.createElement("select"),this.select.classList.add("pagination-page-size-select"),this.select.style.display="none",this.pageSize.append(this.select),this.rangeLabel=document.createElement("div"),this.rangeLabel.classList.add("pagination-range-label"),this.navigation=document.createElement("div"),this.navigation.classList.add("pagination-navigation"),this.append(this.pageSize),this.append(this.rangeLabel),this.append(this.navigation)}renderPages(){const t=[];t.push(this.createActionLink("first","&laquo;")),t.push(this.createActionLink("prev","&lsaquo;")),this.pages.forEach(e=>{const s=document.createElement("a");s.dataset.id=e.toString(),s.textContent=e.toString(),s.href="",t.push(s)}),t.push(this.createActionLink("next","&rsaquo;")),t.push(this.createActionLink("last","&raquo;")),this.navigation.innerHTML="",this.navigation.append(...t),this.pageElements=t,this.updateStyles(),this.setRangeLabel()}createActionLink(t,e){const s=document.createElement("a");return s.dataset.action=t,s.innerHTML=e,s.href="",s}loadSelect(){this.select.style.display="block",this.select.innerHTML="",this.pageSizeOptions.forEach(t=>{const e=t.toString();this.select.options.add(new Option(e,e))}),this.setSelectedIndex()}setSelectedIndex(){if(this.pageSizeOptions&&this.pageSizeOptions.length){const t=this.pageSizeOptions.findIndex(t=>t===this.perPage);this.select.selectedIndex=t}}onClick(t){const e=t.target,s="A"===e.tagName?e:e.closest("a");if(s)if(t.stopPropagation(),t.preventDefault(),s.blur(),Object(i.isBlank)(s.dataset.id))"first"===s.dataset.action?this.setPage(1):"prev"===s.dataset.action?this.setPage(this.currentPage-1):"next"===s.dataset.action?this.setPage(this.currentPage+1):"last"===s.dataset.action&&this.setPage(this.totalPages);else{const t=parseInt(s.dataset.id,10);this.setPage(t)}}updateStyles(){this.pageElements.forEach(t=>{Object(i.toggleClass)(t,"active",this.currentPage.toString()===t.dataset.id),"first"!==t.dataset.action&&"prev"!==t.dataset.action||Object(i.toggleClass)(t,"disabled",1===this.currentPage),"next"!==t.dataset.action&&"last"!==t.dataset.action||Object(i.toggleClass)(t,"disabled",this.currentPage===this.totalPages)})}setRangeLabel(){this.rangeLabel.textContent=n.getRangeLabel(this.currentPage,this.perPage,this.totalItems)}}customElements.define("web-pagination",a)},72:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{constructor(t){this.multiple=!1,this.selectAllMessage="Select all",this.cancelMessage="Cancel",this.clearMessage="Clear",this.searchMessage="Search...",this.enableSelectAll=!0,this.enableFilterInput=!0,t&&Object.assign(this,t)}}class n extends HTMLElement{constructor(){super(),this._settings=new i,this._model=[],this.selectedOptions=[],this.listeners=[]}get settings(){return this._settings}set settings(t){this._settings=new i(t),this.contentInit()}get options(){return this._options||[]}set options(t){this._options=t,this.render()}get model(){return this._model}set model(t){this._model=t,this.selectedOptions=t&&t.length?t.slice(0):[],this.refreshStyles()}get isOpen(){return this._isOpen}set isOpen(t){this._isOpen=t,!0===t&&(this.setFocus(),this.filterInput.value="",this.render())}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0),this.addEventListeners()}disconnectedCallback(){this.removeEventListeners()}onInit(){const t=(~~(1e3*Math.random())).toString(),e=document.createElement("template");e.innerHTML=function(t){return`\n  <input class="dt-input dt-form-group" id="filterInput${t}">\n  <ul class="dt-list-menu dt-list-menu-scroll" id="listMenu${t}"></ul>\n  <div class="dt-list-menu-row">\n    <button class="dt-button dt-button-sm" id="okButton${t}"></button>\n    <button class="dt-button dt-button-sm" id="cancelButton${t}"></button>\n    <button class="dt-button dt-button-sm" id="clearButton${t}"></button>\n  </div>\n  `}(t),this.append(e.content.cloneNode(!0)),this.filterInput=this.querySelector("#filterInput"+t),this.listMenu=this.querySelector("#listMenu"+t),this.okButton=this.querySelector("#okButton"+t),this.cancelButton=this.querySelector("#cancelButton"+t),this.clearButton=this.querySelector("#clearButton"+t),this.createElements(),this.contentInit()}addEventListeners(){this.listeners=[{eventName:"input",target:this.filterInput,handler:this.onInputFilter.bind(this)},{eventName:"click",target:this.okButton,handler:this.onClickOk.bind(this)},{eventName:"click",target:this.cancelButton,handler:this.onClickCancel.bind(this)},{eventName:"click",target:this.clearButton,handler:this.onClickClear.bind(this)},{eventName:"click",target:this.listMenu,handler:this.onClickListMenu.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}setSelectedOptions(t){const e=this.selectedOptions.indexOf(t);e>-1?this.selectedOptions.splice(e,1):(this.settings.multiple||(this.selectedOptions=[]),this.selectedOptions.push(t))}setSelected(t){this.setSelectedOptions(t),this.settings.multiple||this.selectionChangeEmit()}setSelectedAll(){this.allSelected?this.selectedOptions=[]:this.checkAll()}checkAll(){this.selectedOptions=this.options.map(t=>t.id),this.settings.multiple||this.selectionChangeEmit()}isSelected(t){return this.selectedOptions.indexOf(t)>-1}setFocus(){this.filterInput&&setTimeout(()=>{this.filterInput.focus()},1)}onClickOk(t){t.stopPropagation(),this.selectionChangeEmit()}onClickCancel(t){t.stopPropagation(),this.selectedOptions=this.model.slice(0),this.dispatchEvent(new CustomEvent("selectionCancel",{detail:!0})),this.refreshStyles()}onClickClear(t){t.stopPropagation(),this.selectedOptions.length>0&&(this.selectedOptions=[]),this.selectionChangeEmit(),this.refreshStyles()}get allSelected(){return this.options&&0!==this.options.length&&this.selectedOptions&&this.selectedOptions.length===this.options.length}get partiallySelected(){return 0!==this.selectedOptions.length&&!this.allSelected}selectionChangeEmit(){this.model.length===this.selectedOptions.length&&this.model.every((t,e)=>t===this.selectedOptions[e])?this.dispatchEvent(new CustomEvent("selectionCancel",{detail:!0})):(this.model=this.selectedOptions.slice(0),this.dispatchEvent(new CustomEvent("selectionChange",{detail:this.model})))}onInputFilter(){this.filteredOptions=this.filterOptionsByName(this.filterInput.value),this.render()}get viewOptions(){return this.filterInput.value?this.filteredOptions:this.options}filterOptionsByName(t){return t&&this.options?this.options.filter(e=>e.name.toLowerCase().indexOf(t.toLowerCase())>-1):this.options}createElements(){this.selectAll=document.createElement("li"),this.selectAll.classList.add("dt-list-menu-item","dt-list-menu-select-all"),this.selectAll.dataset.id="-1";const t=document.createElement("span");t.classList.add("dt-checkbox"),this.selectAll.append(t),this.checkboxAll=document.createElement("input"),this.checkboxAll.type="checkbox",t.append(this.checkboxAll);const e=document.createElement("label");t.append(e)}contentInit(){this.filterInput.placeholder=this.settings.searchMessage,this.okButton.textContent="OK",this.cancelButton.textContent=this.settings.cancelMessage,this.clearButton.textContent=this.settings.clearMessage,this.checkboxAll.nextElementSibling.textContent=this.settings.selectAllMessage,this.okButton.style.display=this.settings.multiple?"block":"none",this.selectAll.style.display=this.settings.multiple&&this.settings.enableSelectAll?"block":"none",this.filterInput.style.display=this.settings.enableFilterInput?"block":"none"}render(){this.listMenu.innerHTML="",this.listMenu.append(this.selectAll),this.listMenu.append(...this.createListContent()),this.refreshStyles()}createListContent(){const t=[];return this.viewOptions.forEach(e=>{const s=document.createElement("li");if(s.classList.add("dt-list-menu-item"),s.dataset.id=e.id,this.settings.multiple)s.append(this.createMultipleElement(e));else{const t=document.createElement("i");t.classList.add("dt-icon"),s.append(t);const i=document.createTextNode(e.name);s.append(i)}t.push(s)}),t}createMultipleElement(t){const e=document.createElement("span");e.classList.add("dt-checkbox");const s=document.createElement("input");s.type="checkbox",e.append(s);const i=document.createElement("label");return i.textContent=t.name,e.append(i),e}getDataId(t){const e="LI"===t.tagName?t:t.closest("li");return e&&e.dataset.id?e.dataset.id:null}get listContent(){return Array.from(this.listMenu.children)}onClickListMenu(t){const e=this.getDataId(t.target);null!=e&&(t.stopPropagation(),"-1"===e?this.setSelectedAll():this.setSelected(e),this.refreshStyles())}refreshStyles(){this.listContent.forEach(t=>{const e=this.getDataId(t);this.isSelected(e)?this.addActiveStyles(t):this.removeActiveStyles(t)}),this.checkboxAll.checked=this.allSelected,this.checkboxAll.indeterminate=this.partiallySelected}addActiveStyles(t){t.firstElementChild&&(this.settings.multiple?this.setInputChecked(t,!0):(t.classList.add("active"),t.firstElementChild.classList.add("dt-icon-ok")))}removeActiveStyles(t){t.firstElementChild&&(this.settings.multiple?this.setInputChecked(t,!1):(t.classList.remove("active"),t.firstElementChild.classList.remove("dt-icon-ok")))}setInputChecked(t,e){t.firstElementChild.firstElementChild.checked=e}}customElements.define("web-select-list",n)},76:function(t,e,s){"use strict";s(69),s(67)}}]);