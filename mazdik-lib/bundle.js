!function(e){function t(t){for(var i,n,o=t[0],a=t[1],r=0,d=[];r<o.length;r++)n=o[r],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);for(h&&h(t);d.length;)d.shift()()}var i={},s={0:0};function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,n){i=s[e]=[t,n]}));t.push(i[2]=o);var a,r=document.createElement("script");r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.src=function(e){return n.p+""+e+".bundle.js"}(e);var h=new Error;a=function(t){r.onerror=r.onload=null,clearTimeout(d);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",h.name="ChunkLoadError",h.type=n,h.request=o,i[1](h)}s[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:r})}),12e4);r.onerror=r.onload=a,document.head.appendChild(r)}return Promise.all(t)},n.m=e,n.c=i,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var r=0;r<o.length;r++)t(o[r]);var h=a;n(n.s=7)}([function(e,t,i){"use strict";function s(e){return null==e||("string"==typeof e&&0===e.trim().length||e instanceof Array&&0===e.length||0===Object.keys(e).length&&e.constructor===Object)}function n(e,t,i){(t=a(t,e.length-1))!==(i=a(i,e.length-1))&&e.splice(i,0,e.splice(t,1)[0])}function o(e,t,i,s){i=a(i,e.length-1),s=a(s,t.length),e.length&&t.splice(s,0,e.splice(i,1)[0])}function a(e,t){return Math.max(0,Math.min(e,t))}function r(e,t){if(t){const s=t instanceof Date?(i=t,new Date(i.getTime()-6e4*i.getTimezoneOffset()).toISOString()):t;if("datetime-local"===e)return s.slice(0,16);if("date"===e)return s.slice(0,10);if("month"===e)return s.slice(0,7)}var i;return t}function h(e){return"date"===e||"datetime-local"===e||"month"===e}function d(e){return!(!e||"000"===e.substring(0,3)||"00"===e.substring(0,2)||"0"===e.substring(0,1))}function l(e){return"touchstart"===e.type||"mousedown"===e.type&&0===e.button}function c(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches[0]:e.type.startsWith("touch")?e.targetTouches[0]:e}function m(e="body *"){return Array.from(document.querySelectorAll(e)).map(e=>parseFloat(window.getComputedStyle(e).zIndex)).filter(e=>!isNaN(e)).sort((e,t)=>e-t).pop()||0}var u;!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.DELETE=46]="DELETE",e[e.KEY_F2=113]="KEY_F2"}(u||(u={})),i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"f",(function(){return r})),i.d(t,"g",(function(){return h})),i.d(t,"d",(function(){return d})),i.d(t,"i",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"j",(function(){return m})),i.d(t,"a",(function(){return u}))},function(e,t,i){"use strict";var s=i(0);class n{constructor(e,t=!0,i=!0){this.element=e,this.dragX=t,this.dragY=i,this.globalListeners=new Map}start(e){this.onMousedown(e)}destroy(){this.removeEventListeners()}onMousedown(e){if(Object(s.i)(e)&&(this.dragX||this.dragY)){const t=Object(s.e)(e);this.initDrag(t.pageX,t.pageY),this.addEventListeners(e),this.element.dispatchEvent(new CustomEvent("dragStart",{detail:e}))}}onMousemove(e){const t=Object(s.e)(e);this.onDrag(t.pageX,t.pageY),this.element.dispatchEvent(new CustomEvent("dragMove",{detail:e}))}onMouseup(e){this.endDrag(),this.removeEventListeners(),this.element.dispatchEvent(new CustomEvent("dragEnd",{detail:e}))}addEventListeners(e){const t=e.type.startsWith("touch"),i=t?"touchmove":"mousemove",s=t?"touchend":"mouseup";this.globalListeners.set(i,{handler:this.onMousemove.bind(this),options:!1}).set(s,{handler:this.onMouseup.bind(this),options:!1}),this.globalListeners.forEach((e,t)=>{window.document.addEventListener(t,e.handler,e.options)})}removeEventListeners(){this.globalListeners.forEach((e,t)=>{window.document.removeEventListener(t,e.handler,e.options)})}initDrag(e,t){this.isDragging=!0,this.lastPageX=e,this.lastPageY=t,this.element.classList.add("dragging")}onDrag(e,t){if(this.isDragging){const i=e-this.lastPageX,s=t-this.lastPageY,n=this.element.getBoundingClientRect();this.element.style.left=n.left+i+"px",this.element.style.top=n.top+s+"px",this.lastPageX=e,this.lastPageY=t}}endDrag(){this.isDragging=!1,this.element.classList.remove("dragging")}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var s=i(0);class n{constructor(e,t=!0,i=!0,s=!0,n=!1){this.element=e,this.south=t,this.east=i,this.southEast=s,this.ghost=n,this.startListeners=new Map,this.globalListeners=new Map,this.viewInit()}viewInit(){this.south&&this.createHandle("resize-handle-s"),this.east&&this.createHandle("resize-handle-e"),this.southEast&&this.createHandle("resize-handle-se");const e=window.getComputedStyle(this.element);this.minWidth=parseFloat(e.minWidth),this.maxWidth=parseFloat(e.maxWidth),this.minHeight=parseFloat(e.minHeight),this.maxHeight=parseFloat(e.maxHeight)}destroy(){this.removeEventListeners()}addEventListeners(){this.startListeners.set("mousedown",{handler:this.onMousedown.bind(this),options:!1}).set("touchstart",{handler:this.onMousedown.bind(this),options:!1}),this.startListeners.forEach((e,t)=>{this.element.addEventListener(t,e.handler,e.options)})}removeEventListeners(){this.startListeners.forEach((e,t)=>{this.element.removeEventListener(t,e.handler,e.options)})}onMousedown(e){if(!Object(s.i)(e))return;const t=e.target.classList,i=t.contains("resize-handle-s"),n=t.contains("resize-handle-e"),o=t.contains("resize-handle-se"),a=Object(s.e)(e),r=this.element.clientWidth,h=this.element.clientHeight,d=a.screenX,l=a.screenY,c=e.type.startsWith("touch"),m=c?"touchmove":"mousemove",u=c?"touchend":"mouseup";(i||n||o)&&(this.initResize(e,i,n,o),this.globalListeners.set(m,{handler:this.onMove.bind(this,r,h,d,l),options:!1}).set(u,{handler:this.onMouseup.bind(this),options:!1}),this.globalListeners.forEach((e,t)=>{window.document.addEventListener(t,e.handler,e.options)}))}onMove(e,t,i,n,o){const a=Object(s.e)(o),r=a.screenX-i,h=a.screenY-n;this.newWidth=e+r,this.newHeight=t+h,this.resizeWidth(a),this.resizeHeight(a)}onMouseup(e){this.endResize(e),this.globalListeners.forEach((e,t)=>{window.document.removeEventListener(t,e.handler,e.options)})}createHandle(e){const t=document.createElement("span");t.className=e,this.element.appendChild(t)}initResize(e,t,i,s){t&&(this.resizingS=!0),i&&(this.resizingE=!0),s&&(this.resizingSE=!0),this.element.classList.add("resizing"),this.newWidth=this.element.clientWidth,this.newHeight=this.element.clientHeight,e.stopPropagation(),this.element.dispatchEvent(new CustomEvent("resizeBegin"))}endResize(e){this.resizingS=!1,this.resizingE=!1,this.resizingSE=!1,this.element.classList.remove("resizing");const t={event:Object(s.e)(e),width:this.newWidth,height:this.newHeight};this.element.dispatchEvent(new CustomEvent("resizeEnd",{detail:t}))}resizeWidth(e){const t=!this.minWidth||this.newWidth>=this.minWidth,i=!this.maxWidth||this.newWidth<=this.maxWidth;if((this.resizingSE||this.resizingE)&&t&&i){this.ghost||(this.element.style.width=`${this.newWidth}px`);const t={event:e,width:this.newWidth,height:this.newHeight,direction:"horizontal"};this.element.dispatchEvent(new CustomEvent("resizing",{detail:t}))}}resizeHeight(e){const t=!this.minHeight||this.newHeight>=this.minHeight,i=!this.maxHeight||this.newHeight<=this.maxHeight;if((this.resizingSE||this.resizingS)&&t&&i){this.ghost||(this.element.style.height=`${this.newHeight}px`);const t={event:e,width:this.newWidth,height:this.newHeight,direction:"vertical"};this.element.dispatchEvent(new CustomEvent("resizing",{detail:t}))}}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var s,n=i(0);class o{constructor(e,t,i){this.tree=i,this.id=e.id,this.name=e.name,this.data=e.data,this.icon=e.icon,this.expanded=e.expanded,this.leaf=e.leaf,this.parent=t,this.$$id=this.tree.generateId(),this.$$level=t?t.$$level+1:0,this.children=e.children}get children(){return this._children}set children(e){this._children=[],e&&(this._children=e.map(e=>new o(e,this,this.tree)))}get path(){return this.parent?[...this.parent.path,this.id]:[]}get hasChildren(){return this.children&&this.children.length>0}get isSelected(){return this===this.tree.selectedNode}setSelected(){this.tree.selectedNode=this}isLeaf(){return!1!==this.leaf&&!this.hasChildren}ensureVisible(){return this.parent&&(this.parent.expanded=!0,this.parent.ensureVisible()),this}}!function(e){e[e.FOUND=0]="FOUND",e[e.ON_FOUND_PATH=1]="ON_FOUND_PATH",e[e.NOT_FOUND=2]="NOT_FOUND"}(s||(s={}));class a{constructor(){this.uidNode=0}get nodes(){return this._nodes}set nodes(e){this._nodes=[];for(const t of e)this._nodes.push(new o(t,null,this))}generateId(){return this.uidNode++}initLoadNodes(){return!this.service||this.nodes&&this.nodes.length?Promise.resolve():this.service.getNodes().then(e=>{this.nodes=e})}loadNode(e){return e.children&&0!==e.children.length||!1!==e.leaf?Promise.resolve():this.service?this.service.getNodes(e).then(t=>{this.addNode(e.$$id,t)}):void 0}addNode(e,t){this.nodes.forEach(i=>{this._addNode(i,e,t)})}_addNode(e,t,i){if(e.$$id===t)return e.children=i,!0;e.children&&e.children.forEach(e=>{this._addNode(e,t,i)})}doForAll(e){this.doForEach(this.nodes,e).then()}filterTree(e){this.serverSideFiltering?this.filterServerSide(e):this.filterClientSide(e)}filterClientSide(e){if(!e.trim())return void this.clearSearchState();const t=i=>{let n=!1;if(i.name.toLowerCase().indexOf(e.toLowerCase())>=0?(i.$$filterState=s.FOUND,n=!0):(i.$$filterState=s.NOT_FOUND,i.expanded=!1,n=!1),i.children){i.children.map(t).find(e=>e)&&(i.$$filterState!==s.FOUND&&(i.$$filterState=s.ON_FOUND_PATH),i.expanded=!0,n=!0)}return n};this.nodes&&this.nodes.forEach(t)}clearSearchState(){this.doForAll(e=>{e.$$filterState=null,e.expanded=!1})}getNodeById(e){return this.getNodeBy(t=>t.id&&t.id.toString()===e.toString())}getNodeBy(e,t=null){if(!(t=t||{children:this.nodes}).children)return null;const i=t.children.find(e);if(i)return i;for(const i of t.children){const t=this.getNodeBy(e,i);if(t)return t}}getChildren(e){return e.children&&0!==e.children.length||!1!==e.leaf?Promise.resolve():this.service.getNodes(e).then(t=>{e.children=t})}doForEach(e,t){return Promise.all(e.map(e=>Promise.resolve(t(e)).then(()=>{if(e.children)return this.doForEach(e.children,t)}),this))}expandAll(){this.doForEach(this.nodes,e=>(e.expanded=!0,this.getChildren(e))).then()}collapseAll(){this.doForEach(this.nodes,e=>{e.expanded=!1}).then()}loadPath(e){return e&&e.length?Promise.all(e.map(e=>this.doForEach(this.nodes,t=>{if(t.id===e)return this.getChildren(t)}),this)).then(()=>(e.shift(),this.loadPath(e))):Promise.resolve()}filterServerSide(e){Object(n.h)(e)?this.clearSearchState():this.service&&(this.filterLoading=!0,this.service.searchNodes(e).then(t=>{this.loadPath(t).then(()=>{this.filterClientSide(e),this.filterLoading=!1})}))}}function r(e,t){e?(t.classList.add("expanded"),t.classList.remove("collapsed")):(t.classList.remove("expanded"),t.classList.add("collapsed"))}class h{constructor(e){this.node=e,this.element=this.createNavItemElement(e)}getTemplate(e,t,i){return`${t?`<i class="${t}"></i>`:""}<span class="menu-item-text">${e}</span>${i?'<div class="rotating-icon">\n      <svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z" />\n      </svg>\n    </div>':""}`}createNavItemElement(e){const t=e.icon?"nav-menu-icon "+e.icon:"",i=document.createElement("a");return i.innerHTML=this.getTemplate(e.name,t,e.hasChildren),i.dataset.id=e.$$id.toString(),i.classList.add("vertical-menu-item"),i.classList.add("level-"+(this.node.$$level+1)),this.updateNavItemStyles(e,i),i}updateNavItemStyles(e,t){e.isSelected?t.classList.add("active"):t.classList.remove("active"),e.hasChildren,t.classList.add("heading"),r(e.expanded,t)}updateStyles(){this.updateNavItemStyles(this.node,this.element);const e=this.element.nextElementSibling;e&&r(this.node.expanded,e)}onClick(){this.node.hasChildren?this.node.expanded=!this.node.expanded:this.node.setSelected(),this.updateStyles()}}class d extends HTMLElement{constructor(){super(),this.tree=new a,this.collapsed=!0,this.listeners=[],this.navItems=[],this.classList.add("nav-menu"),this.addEventListeners()}get nodes(){return this.tree.nodes}set nodes(e){this.tree.nodes=e,this.render(),this.updateStyles()}disconnectedCallback(){this.removeEventListeners()}addEventListeners(){this.listeners=[{eventName:"mouseenter",target:this,handler:this.onMouseEnter.bind(this)},{eventName:"mouseleave",target:this,handler:this.onMouseLeave.bind(this)},{eventName:"click",target:this,handler:this.onClick.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}updateStyles(){this.minimize?this.collapsed?(this.classList.add("nav-collapsed"),this.classList.remove("nav-expanded")):(this.classList.remove("nav-collapsed"),this.classList.add("nav-expanded")):this.classList.add("nav-expanded")}onMouseEnter(){this.collapsed=!1,this.updateStyles()}onMouseLeave(){this.collapsed=!0,this.updateStyles()}render(){const e=document.createDocumentFragment();this.nodes.forEach(t=>{const i=this.createTreeDom(t);e.appendChild(i)}),this.appendChild(e)}createTreeDom(e){const t=document.createElement("div");t.classList.add("nav-item");const i=new h(e);if(this.navItems.push(i),t.appendChild(i.element),e.hasChildren){const i=document.createElement("div");i.classList.add("heading-children"),t.appendChild(i),r(e.expanded,i),e.children.forEach(e=>{const t=this.createTreeDom(e);i.appendChild(t)})}return t}onClick(e){const t=e.target,i="A"===t.tagName?t:t.closest("a");if(i&&!Object(n.h)(i.dataset.id)){e.stopPropagation();const t=this.navItems.find(e=>e.node.$$id.toString()===i.dataset.id);t.onClick(),this.updateAllItemsStyles(),Object(n.h)(t.node.id)||this.dispatchEvent(new CustomEvent("linkClicked",{detail:t.node}))}}updateAllItemsStyles(){this.navItems.forEach(e=>e.updateStyles())}ensureVisible(e){const t=this.tree.getNodeById(e);t&&(t.ensureVisible(),t.setSelected()),this.updateAllItemsStyles()}}customElements.define("web-nav-menu",d)},function(e,t,i){},function(e,t,i){},function(e,t,i){var s={"./context-menu.ts":[18,2],"./drag-drop.ts":[16,5],"./draggable.ts":[8,6],"./dropdown-select.ts":[17,1],"./dropdown.ts":[9,3],"./inline-edit.ts":[19,7],"./modal-basic.ts":[10,8],"./modal-nested.ts":[11,9],"./modal-panels.ts":[12,10],"./nav-menu.ts":[13,11],"./resizable.ts":[14,12],"./select-list.ts":[15,4]};function n(e){if(!i.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return i.e(t[1]).then((function(){return i(n)}))}n.keys=function(){return Object.keys(s)},n.id=6,e.exports=n},function(e,t,i){"use strict";i.r(t);i(4),i(5);var s=i(0),n=i(1),o=i(2);class a extends HTMLElement{constructor(){super(),this.scrollTopEnable=!0,this.maximizable=!0,this.backdrop=!0,this.listeners=[];const e=document.createElement("template");e.innerHTML='\n  <div class="ui-modal-overlay" id="modalOverlay"></div>\n  <div class="ui-modal" tabindex="-1" role="dialog" id="modalRoot">\n    <div class="ui-modal-header" id="modalHeader">\n      <div class="ui-titlebar" id="titlebar">\n      </div>\n      <div class="ui-controlbar">\n        <i class="ui-icon" id="maximizeIcon"></i>\n        <i class="ui-icon dt-icon-close" id="closeIcon"></i>\n      </div>\n    </div>\n    <div class="ui-modal-body" id="modalBody"></div>\n    <div class="ui-modal-footer" id="modalFooter"></div>\n  </div>\n  ',this.appendChild(e.content.cloneNode(!0)),this.modalOverlay=this.querySelector("#modalOverlay"),this.modalRoot=this.querySelector("#modalRoot"),this.modalBody=this.querySelector("#modalBody"),this.modalHeader=this.querySelector("#modalHeader"),this.modalFooter=this.querySelector("#modalFooter"),this.maximizeIcon=this.querySelector("#maximizeIcon"),this.closeIcon=this.querySelector("#closeIcon"),this.titlebar=this.querySelector("#titlebar"),this.setDialogStyles(),this.setMaximizeIconStyles(),this.renderContent(),this.draggableDirective=new n.a(this.modalRoot),this.resizableDirective=new o.a(this.modalRoot)}get open(){return this.hasAttribute("open")}set open(e){e?this.setAttribute("open",""):this.removeAttribute("open")}disconnectedCallback(){this.removeEventListeners(),this.draggableDirective.destroy(),this.resizableDirective.destroy()}static get observedAttributes(){return["open"]}attributeChangedCallback(e,t,i){switch(e){case"open":this.open?this.show():this.hide()}}addEventListeners(){this.listeners=[{eventName:"click",target:this.closeIcon,handler:this.onCloseIconClick.bind(this)},{eventName:"click",target:this.maximizeIcon,handler:this.toggleMaximize.bind(this)},{eventName:"mousedown",target:this.modalHeader,handler:this.initDrag.bind(this)},{eventName:"touchstart",target:this.modalHeader,handler:this.initDrag.bind(this)},{eventName:"mousedown",target:this.modalRoot,handler:this.moveOnTop.bind(this)},{eventName:"touchstart",target:this.modalRoot,handler:this.moveOnTop.bind(this)},{eventName:"keydown",target:this,handler:this.onKeyDown.bind(this)},{eventName:"resizing",target:this.modalRoot,handler:this.onResize.bind(this)},{eventName:"resize",target:window,handler:this.onWindowResize.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}renderContent(){const e=this.querySelector('[select="app-modal-header"]'),t=this.querySelector('[select="app-modal-body"]'),i=this.querySelector('[select="app-modal-footer"]');e&&this.titlebar.appendChild(e.content),t&&this.modalBody.appendChild(t.content),i&&this.modalFooter.appendChild(i.content)}show(){this.addEventListeners(),this.resizableDirective.addEventListeners(),this.center(),this.visible=!0,setTimeout(()=>{this.modalRoot.focus(),this.scrollTopEnable&&(this.modalBody.scrollTop=0)},1),this.setDialogStyles()}hide(){this.removeEventListeners(),this.resizableDirective.destroy(),this.visible=!1,this.dispatchEvent(new CustomEvent("closeModal")),this.focusLastModal(),this.setDialogStyles()}center(){let e=this.modalRoot.offsetWidth,t=this.modalRoot.offsetHeight;0===e&&0===t&&(this.modalRoot.style.visibility="hidden",this.modalRoot.style.display="block",e=this.modalRoot.offsetWidth,t=this.modalRoot.offsetHeight,this.modalRoot.style.display="none",this.modalRoot.style.visibility="visible");const i=Math.max((window.innerWidth-e)/2,0),s=Math.max((window.innerHeight-t)/2,0);this.modalRoot.style.left=i+"px",this.modalRoot.style.top=s+"px"}initDrag(e){e.target!==this.closeIcon&&(this.maximized||this.draggableDirective.start(e))}onResize(e){"vertical"===e.detail.direction&&this.calcBodyHeight()}calcBodyHeight(){const e=this.modalHeader.offsetHeight+this.modalFooter.offsetHeight,t=this.modalRoot.offsetHeight-e;this.modalBody.style.height=t+"px",this.modalBody.style.maxHeight="none"}getMaxModalIndex(){return Object(s.j)(".ui-modal")}focusLastModal(){const e=this.parentElement.closest(".ui-modal");e&&e.focus()}toggleMaximize(e){this.maximized?this.revertMaximize():this.maximize(),e.preventDefault(),this.setMaximizeIconStyles()}maximize(){this.preMaximizePageX=parseFloat(this.modalRoot.style.top),this.preMaximizePageY=parseFloat(this.modalRoot.style.left),this.preMaximizeRootWidth=this.modalRoot.offsetWidth,this.preMaximizeRootHeight=this.modalRoot.offsetHeight,this.preMaximizeBodyHeight=this.modalBody.offsetHeight,this.modalRoot.style.top="0px",this.modalRoot.style.left="0px",this.modalRoot.style.width="100vw",this.modalRoot.style.height="100vh";const e=this.modalHeader.offsetHeight+this.modalFooter.offsetHeight;this.modalBody.style.height="calc(100vh - "+e+"px)",this.modalBody.style.maxHeight="none",this.maximized=!0}revertMaximize(){this.modalRoot.style.top=this.preMaximizePageX+"px",this.modalRoot.style.left=this.preMaximizePageY+"px",this.modalRoot.style.width=this.preMaximizeRootWidth+"px",this.modalRoot.style.height=this.preMaximizeRootHeight+"px",this.modalBody.style.height=this.preMaximizeBodyHeight+"px",this.maximized=!1}moveOnTop(){if(!this.backdrop){const e=this.getMaxModalIndex();let t=parseFloat(window.getComputedStyle(this.modalRoot).zIndex)||0;t<=e&&(t=e+1,this.modalRoot.style.zIndex=t.toString())}}setDialogStyles(){this.modalRoot.style.display=this.visible?"block":"none",this.modalOverlay.style.display=this.visible&&this.backdrop?"block":"none"}setMaximizeIconStyles(){this.maximizeIcon.style.display=this.maximizable?"block":"none";const e=this.maximized?"dt-icon-normalize":"dt-icon-maximize";this.maximizeIcon.className="ui-icon "+e}onCloseIconClick(){this.hide()}onKeyDown(e){"Escape"==e.key&&(e.preventDefault(),e.stopPropagation(),this.hide())}onWindowResize(){this.center()}}customElements.define("web-modal",a);i(3);class r{constructor(){this.navbarExpand=!1,this.link="https://github.com/mazdik/mazdik-lib",this.mainNav=document.querySelector("#main-nav"),this.navbarToggle=document.querySelector("#navbar-toggle"),this.sourceLink=document.querySelector("#source-link"),this.githubIcon=document.querySelector("#github-icon"),this.sourceLink.href=this.link,this.githubIcon.href=this.link,this.navbarToggle.addEventListener("click",()=>{this.navbarExpand=!this.navbarExpand,this.updateStyles()})}set state(e){this.updateSourceLink(e)}updateStyles(){this.navbarExpand?this.mainNav.classList.add("navbar-expand"):this.mainNav.classList.remove("navbar-expand")}updateSourceLink(e){const t=this.link+"/blob/master/packages/web/src/pages/";this.sourceLink.href=e?t+e+".ts":t}}class h{constructor(){this.currentPage=null,this.indexPageTitle=document.title,this.header=new r,this.main=document.querySelector("main"),this.navMenu=document.querySelector("#nav-menu"),this.navMenu.nodes=this.getNavMenuNodes();const e=location.hash.slice(1)||"modal-basic";this.setPage(e,""),this.navMenu.ensureVisible(e),this.navMenu.addEventListener("linkClicked",e=>{this.destroy(this.currentPage),this.setPage(e.detail.id,e.detail.name)})}async setPage(e,t){try{const s=await i(6)(`./${e}.ts`);history.replaceState({},`${t}`,`/#${e}`),this.currentPage=new s.default,this.main.innerHTML=this.currentPage.template,this.currentPage.load(),document.title=t?t+" - "+this.indexPageTitle:this.indexPageTitle,this.header.state=e}catch(e){this.main.textContent=e.message}}destroy(e){e&&"function"==typeof e.onDestroy&&e.onDestroy()}getNavMenuNodes(){return[{name:"Modal",children:[{id:"modal-basic",name:"Basic modal"},{id:"modal-nested",name:"Nested modals"},{id:"modal-panels",name:"Panels"}]},{name:"Base",expanded:!0,children:[{id:"select-list",name:"Select list"},{id:"dropdown-select",name:"Dropdown select"},{id:"resizable",name:"Resizable"},{id:"draggable",name:"Draggable"},{id:"drag-drop",name:"Drag and drop"},{id:"context-menu",name:"Context menu"},{id:"dropdown",name:"Dropdown"},{id:"inline-edit",name:"Inline edit"},{id:"nav-menu",name:"Navigation menu"}]}]}}document.addEventListener("DOMContentLoaded",()=>{new h})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9saWIvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9saWIvdXRpbHMvYXJyYXktdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9saWIvdXRpbHMvZGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vY29tbW9uL2xpYi91dGlscy9kb20tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9saWIva2V5Y29kZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbW1vbi9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL2RyYWdnYWJsZS9saWIvZHJhZ2dhYmxlLmpzIiwid2VicGFjazovLy8uLi9kcmFnZ2FibGUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9yZXNpemFibGUvbGliL3Jlc2l6YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi4vcmVzaXphYmxlL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vdHJlZS1saWIvbGliL3R5cGVzLmpzIiwid2VicGFjazovLy8uLi90cmVlLWxpYi9saWIvdHJlZS1ub2RlLmpzIiwid2VicGFjazovLy8uLi90cmVlLWxpYi9saWIvdHJlZS5qcyIsIndlYnBhY2s6Ly8vLi4vbmF2LW1lbnUvbGliL25hdi1pdGVtLmpzIiwid2VicGFjazovLy8uLi9uYXYtbWVudS9saWIvbmF2LW1lbnUuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcyBsYXp5IF5cXC5cXC8uKlxcLnRzJCBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uLi9tb2RhbC9saWIvbW9kYWwuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9oZWFkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwiZSIsInByb21pc2VzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25TY3JpcHRDb21wbGV0ZSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJ0aW1lb3V0IiwibmMiLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJwIiwianNvbnBTY3JpcHRTcmMiLCJlcnJvciIsIkVycm9yIiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiY2h1bmsiLCJlcnJvclR5cGUiLCJ0eXBlIiwicmVhbFNyYyIsInRhcmdldCIsIm1lc3NhZ2UiLCJuYW1lIiwicmVxdWVzdCIsInVuZGVmaW5lZCIsInNldFRpbWVvdXQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJhbGwiLCJtIiwiYyIsImQiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJvZSIsImVyciIsImNvbnNvbGUiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwicyIsImlzQmxhbmsiLCJ2YWwiLCJ0cmltIiwiQXJyYXkiLCJrZXlzIiwiY29uc3RydWN0b3IiLCJhcnJheU1vdmUiLCJhcnJheSIsImZyb21JbmRleCIsInRvSW5kZXgiLCJjbGFtcCIsInNwbGljZSIsImFycmF5VHJhbnNmZXIiLCJhcnJheUZyb20iLCJhcnJheVRvIiwiYSIsImIiLCJNYXRoIiwibWF4IiwibWluIiwiaW5wdXRGb3JtYXR0ZWREYXRlIiwic3RyRGF0ZSIsIkRhdGUiLCJkYXRlIiwiZ2V0VGltZSIsImdldFRpbWV6b25lT2Zmc2V0IiwidG9JU09TdHJpbmciLCJpbnB1dElzRGF0ZVR5cGUiLCJjaGVja1N0ckRhdGUiLCJzdWJzdHJpbmciLCJpc0xlZnRCdXR0b24iLCJidXR0b24iLCJnZXRFdmVudCIsImNoYW5nZWRUb3VjaGVzIiwic3RhcnRzV2l0aCIsInRhcmdldFRvdWNoZXMiLCJtYXhaSW5kZXgiLCJzZWxlY3RvcnMiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsInBhcnNlRmxvYXQiLCJnZXRDb21wdXRlZFN0eWxlIiwiekluZGV4IiwiZmlsdGVyIiwiaXNOYU4iLCJzb3J0IiwicG9wIiwiS2V5cyIsImVsZW1lbnQiLCJkcmFnWCIsImRyYWdZIiwidGhpcyIsImdsb2JhbExpc3RlbmVycyIsIk1hcCIsImRyYWdFdmVudFRhcmdldCIsIm9uTW91c2Vkb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJldnQiLCJpbml0RHJhZyIsInBhZ2VYIiwicGFnZVkiLCJhZGRFdmVudExpc3RlbmVycyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsIm9uRHJhZyIsImVuZERyYWciLCJpc1RvdWNoRXZlbnQiLCJtb3ZlRXZlbnQiLCJ1cEV2ZW50Iiwic2V0IiwiaGFuZGxlciIsIm9uTW91c2Vtb3ZlIiwib3B0aW9ucyIsIm9uTW91c2V1cCIsImZvckVhY2giLCJjb25maWciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRHJhZ2dpbmciLCJsYXN0UGFnZVgiLCJsYXN0UGFnZVkiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZWx0YVgiLCJkZWx0YVkiLCJjb29yZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJyZW1vdmUiLCJzb3V0aCIsImVhc3QiLCJzb3V0aEVhc3QiLCJnaG9zdCIsInN0YXJ0TGlzdGVuZXJzIiwidmlld0luaXQiLCJjcmVhdGVIYW5kbGUiLCJjb21wdXRlZFN0eWxlIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImlzU291dGgiLCJjb250YWlucyIsImlzRWFzdCIsImlzU291dGhFYXN0Iiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiaW5pdFJlc2l6ZSIsIm9uTW92ZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwicmVzaXplV2lkdGgiLCJyZXNpemVIZWlnaHQiLCJlbmRSZXNpemUiLCJlZGdlQ2xhc3MiLCJub2RlIiwiY2xhc3NOYW1lIiwicmVzaXppbmdTIiwicmVzaXppbmdFIiwicmVzaXppbmdTRSIsInN0b3BQcm9wYWdhdGlvbiIsInJlc2l6YWJsZUV2ZW50Iiwib3Zlck1pbldpZHRoIiwidW5kZXJNYXhXaWR0aCIsImRpcmVjdGlvbiIsIm92ZXJNaW5IZWlnaHQiLCJ1bmRlck1heEhlaWdodCIsIkZpbHRlclN0YXRlIiwiVHJlZU5vZGUiLCJpbml0IiwicGFyZW50Tm9kZSIsInRyZWUiLCJpZCIsImljb24iLCJleHBhbmRlZCIsImxlYWYiLCJwYXJlbnQiLCIkJGlkIiwiZ2VuZXJhdGVJZCIsIiQkbGV2ZWwiLCJjaGlsZHJlbiIsIl9jaGlsZHJlbiIsInBhdGgiLCJzZWxlY3RlZE5vZGUiLCJoYXNDaGlsZHJlbiIsImVuc3VyZVZpc2libGUiLCJ1aWROb2RlIiwiX25vZGVzIiwic2VydmljZSIsIm5vZGVzIiwiZ2V0Tm9kZXMiLCJ0aGVuIiwiYWRkTm9kZSIsIm5vZGVJZCIsIl9hZGROb2RlIiwiY2hpbGQiLCJmbiIsImRvRm9yRWFjaCIsImZpbHRlclZhbHVlIiwic2VydmVyU2lkZUZpbHRlcmluZyIsImZpbHRlclNlcnZlclNpZGUiLCJmaWx0ZXJDbGllbnRTaWRlIiwiY2xlYXJTZWFyY2hTdGF0ZSIsInNlYXJjaE5vZGUiLCJleHBhbmRVcCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsIiQkZmlsdGVyU3RhdGUiLCJGT1VORCIsIk5PVF9GT1VORCIsImZpbmQiLCJzdGF0ZSIsIk9OX0ZPVU5EX1BBVEgiLCJkb0ZvckFsbCIsImdldE5vZGVCeSIsInRvU3RyaW5nIiwicHJlZGljYXRlIiwic3RhcnROb2RlIiwiZm91bmQiLCJmb3VuZEluQ2hpbGRyZW4iLCJnZXRDaGlsZHJlbiIsImxvYWRQYXRoIiwiZmlsdGVyTG9hZGluZyIsInNlYXJjaE5vZGVzIiwiaXRlbXMiLCJ1cGRhdGVFeHBhbmRlZFN0eWxlcyIsIk5hdkl0ZW0iLCJjcmVhdGVOYXZJdGVtRWxlbWVudCIsImljb25DbGFzcyIsImlubmVySFRNTCIsImdldFRlbXBsYXRlIiwiZGF0YXNldCIsInVwZGF0ZU5hdkl0ZW1TdHlsZXMiLCJpc1NlbGVjdGVkIiwiaGVhZGluZ0NoaWxkcmVuIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwic2V0U2VsZWN0ZWQiLCJ1cGRhdGVTdHlsZXMiLCJIVE1MRWxlbWVudCIsInN1cGVyIiwiY29sbGFwc2VkIiwibGlzdGVuZXJzIiwibmF2SXRlbXMiLCJyZW5kZXIiLCJldmVudE5hbWUiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJvbkNsaWNrIiwieCIsIm1pbmltaXplIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlVHJlZURvbSIsImRpdiIsIm5hdkl0ZW0iLCJjaGlsZE5vZGUiLCJkb20iLCJ0YWdOYW1lIiwiY2xvc2VzdCIsInVwZGF0ZUFsbEl0ZW1zU3R5bGVzIiwiZ2V0Tm9kZUJ5SWQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIndlYnBhY2tBc3luY0NvbnRleHQiLCJyZXEiLCJjb2RlIiwiaWRzIiwic2Nyb2xsVG9wRW5hYmxlIiwibWF4aW1pemFibGUiLCJiYWNrZHJvcCIsInRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsIm1vZGFsT3ZlcmxheSIsInF1ZXJ5U2VsZWN0b3IiLCJtb2RhbFJvb3QiLCJtb2RhbEJvZHkiLCJtb2RhbEhlYWRlciIsIm1vZGFsRm9vdGVyIiwibWF4aW1pemVJY29uIiwiY2xvc2VJY29uIiwidGl0bGViYXIiLCJzZXREaWFsb2dTdHlsZXMiLCJzZXRNYXhpbWl6ZUljb25TdHlsZXMiLCJyZW5kZXJDb250ZW50IiwiZHJhZ2dhYmxlRGlyZWN0aXZlIiwicmVzaXphYmxlRGlyZWN0aXZlIiwiaGFzQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZGVzdHJveSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJvcGVuIiwic2hvdyIsImhpZGUiLCJvbkNsb3NlSWNvbkNsaWNrIiwidG9nZ2xlTWF4aW1pemUiLCJtb3ZlT25Ub3AiLCJvbktleURvd24iLCJvblJlc2l6ZSIsIm9uV2luZG93UmVzaXplIiwiaGVhZGVyIiwiYm9keSIsImZvb3RlciIsImNlbnRlciIsInZpc2libGUiLCJmb2N1cyIsInNjcm9sbFRvcCIsImZvY3VzTGFzdE1vZGFsIiwiZWxlbWVudFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJlbGVtZW50SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJpbm5lcldpZHRoIiwieSIsImlubmVySGVpZ2h0IiwibWF4aW1pemVkIiwic3RhcnQiLCJjYWxjQm9keUhlaWdodCIsImRpZmZIZWlnaHQiLCJjb250ZW50SGVpZ2h0IiwibW9kYWwiLCJwYXJlbnRFbGVtZW50IiwicmV2ZXJ0TWF4aW1pemUiLCJtYXhpbWl6ZSIsInByZXZlbnREZWZhdWx0IiwicHJlTWF4aW1pemVQYWdlWCIsInByZU1heGltaXplUGFnZVkiLCJwcmVNYXhpbWl6ZVJvb3RXaWR0aCIsInByZU1heGltaXplUm9vdEhlaWdodCIsInByZU1heGltaXplQm9keUhlaWdodCIsIm1heE1vZGFsSW5kZXgiLCJnZXRNYXhNb2RhbEluZGV4IiwiY2xzIiwiSGVhZGVyIiwibmF2YmFyRXhwYW5kIiwibGluayIsIm1haW5OYXYiLCJuYXZiYXJUb2dnbGUiLCJzb3VyY2VMaW5rIiwiZ2l0aHViSWNvbiIsImhyZWYiLCJ1cGRhdGVTb3VyY2VMaW5rIiwiY3VycmVudFBhZ2UiLCJpbmRleFBhZ2VUaXRsZSIsInRpdGxlIiwibWFpbiIsIm5hdk1lbnUiLCJnZXROYXZNZW51Tm9kZXMiLCJwYWdlIiwibG9jYXRpb24iLCJoYXNoIiwic2V0UGFnZSIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJkZWZhdWx0IiwibG9hZCIsInRleHRDb250ZW50Iiwib25EZXN0cm95Il0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBS0FLLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUYsRUFBU0ksT0FBUUYsSUFDekJILEVBQVVDLEVBQVNFLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlYsSUFBWVUsRUFBZ0JWLElBQ3BGSSxFQUFTTyxLQUFLRCxFQUFnQlYsR0FBUyxJQUV4Q1UsRUFBZ0JWLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkksT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1AsRUFBYUgsS0FDcERhLEVBQVFiLEdBQVlHLEVBQVlILElBS2xDLElBRkdjLEdBQXFCQSxFQUFvQmYsR0FFdENNLEVBQVNDLFFBQ2RELEVBQVNVLE9BQVRWLEdBT0YsSUFBSVcsRUFBbUIsR0FLbkJMLEVBQWtCLENBQ3JCTSxFQUFHLEdBV0osU0FBU0MsRUFBb0JsQixHQUc1QixHQUFHZ0IsRUFBaUJoQixHQUNuQixPQUFPZ0IsRUFBaUJoQixHQUFVbUIsUUFHbkMsSUFBSUMsRUFB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QUFpQixtQkFBb0IsS0FDNUMsSUFBSSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcblxuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHR9O1xuXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG5cblxuIFx0Ly8gc2NyaXB0IHBhdGggZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIGpzb25wU2NyaXB0U3JjKGNodW5rSWQpIHtcbiBcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCJcbiBcdH1cblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG4gXHQvLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4gXHQvLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3NcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZSA9IGZ1bmN0aW9uIHJlcXVpcmVFbnN1cmUoY2h1bmtJZCkge1xuIFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcblxuXG4gXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblxuIFx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cbiBcdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG4gXHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuIFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuIFx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuIFx0XHRcdFx0dmFyIG9uU2NyaXB0Q29tcGxldGU7XG5cbiBcdFx0XHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiBcdFx0XHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuIFx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcbiBcdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c2NyaXB0LnNyYyA9IGpzb25wU2NyaXB0U3JjKGNodW5rSWQpO1xuXG4gXHRcdFx0XHQvLyBjcmVhdGUgZXJyb3IgYmVmb3JlIHN0YWNrIHVud291bmQgdG8gZ2V0IHVzZWZ1bCBzdGFja3RyYWNlIGxhdGVyXG4gXHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiBcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiBcdFx0XHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuIFx0XHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuIFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG4gXHRcdFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0XHRcdFx0aWYoY2h1bmsgIT09IDApIHtcbiBcdFx0XHRcdFx0XHRpZihjaHVuaykge1xuIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcbiBcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG4gXHRcdFx0XHRcdFx0XHRjaHVua1sxXShlcnJvcik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fTtcbiBcdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuIFx0XHRcdFx0XHRvblNjcmlwdENvbXBsZXRlKHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KTtcbiBcdFx0XHRcdH0sIDEyMDAwMCk7XG4gXHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlO1xuIFx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuIFx0fTtcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNCbGFuayh2YWwpIHtcbiAgICBpZiAodmFsICE9PSBudWxsICYmIHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICgodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgdmFsLnRyaW0oKS5sZW5ndGggPT09IDApIHx8XG4gICAgICAgICAgICAodmFsIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgIChPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMCAmJiB2YWwuY29uc3RydWN0b3IgPT09IE9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBhcnJheU1vdmUoYXJyYXksIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGZyb21JbmRleCA9IGNsYW1wKGZyb21JbmRleCwgYXJyYXkubGVuZ3RoIC0gMSk7XG4gICAgdG9JbmRleCA9IGNsYW1wKHRvSW5kZXgsIGFycmF5Lmxlbmd0aCAtIDEpO1xuICAgIGlmIChmcm9tSW5kZXggIT09IHRvSW5kZXgpIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKHRvSW5kZXgsIDAsIGFycmF5LnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXJyYXlUcmFuc2ZlcihhcnJheUZyb20sIGFycmF5VG8sIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGZyb21JbmRleCA9IGNsYW1wKGZyb21JbmRleCwgYXJyYXlGcm9tLmxlbmd0aCAtIDEpO1xuICAgIHRvSW5kZXggPSBjbGFtcCh0b0luZGV4LCBhcnJheVRvLmxlbmd0aCk7XG4gICAgaWYgKGFycmF5RnJvbS5sZW5ndGgpIHtcbiAgICAgICAgYXJyYXlUby5zcGxpY2UodG9JbmRleCwgMCwgYXJyYXlGcm9tLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGFtcChhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKGEsIGIpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVBhZ2luYXRlKGFycmF5LCBjdXJyZW50UGFnZSwgcGVyUGFnZSkge1xuICAgIGlmICghYXJyYXkgfHwgIWN1cnJlbnRQYWdlIHx8ICFwZXJQYWdlKSB7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnQgPSAoY3VycmVudFBhZ2UgLSAxKSAqIHBlclBhZ2U7XG4gICAgY29uc3QgZW5kID0gcGVyUGFnZSA+IC0xID8gKHN0YXJ0ICsgcGVyUGFnZSkgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGFycmF5LnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXktdXRpbHMuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHRvSVNPU3RyaW5nSWdub3JlVFooZGF0ZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSAtIChkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMCkpLnRvSVNPU3RyaW5nKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5wdXRGb3JtYXR0ZWREYXRlKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHN0ckRhdGUgPSAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSA/IHRvSVNPU3RyaW5nSWdub3JlVFoodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmICh0eXBlID09PSAnZGF0ZXRpbWUtbG9jYWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyRGF0ZS5zbGljZSgwLCAxNik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyRGF0ZS5zbGljZSgwLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ21vbnRoJykge1xuICAgICAgICAgICAgcmV0dXJuIHN0ckRhdGUuc2xpY2UoMCwgNyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExhc3REYXRlKHR5cGUpIHtcbiAgICBsZXQgZHQ7XG4gICAgaWYgKHR5cGUgPT09ICd5ZWFyJykge1xuICAgICAgICBkdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGR0LnNldE1vbnRoKGR0LmdldE1vbnRoKCkgLSAxMik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdtb250aCcpIHtcbiAgICAgICAgZHQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBkdC5zZXRNb250aChkdC5nZXRNb250aCgpIC0gMSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdkYXknKSB7XG4gICAgICAgIGR0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIC0xICogMjQgKiAzNjAwICogMTAwMCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdob3VyJykge1xuICAgICAgICBkdCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAtMSAqIDM2MDAgKiAxMDAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGR0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlucHV0SXNEYXRlVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuICh0eXBlID09PSAnZGF0ZScgfHwgdHlwZSA9PT0gJ2RhdGV0aW1lLWxvY2FsJyB8fCB0eXBlID09PSAnbW9udGgnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1N0ckRhdGUodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLnN1YnN0cmluZygwLCAzKSA9PT0gJzAwMCcgfHwgdmFsdWUuc3Vic3RyaW5nKDAsIDIpID09PSAnMDAnIHx8IHZhbHVlLnN1YnN0cmluZygwLCAxKSA9PT0gJzAnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlLXV0aWxzLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc0xlZnRCdXR0b24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBldmVudC50eXBlID09PSAndG91Y2hjYW5jZWwnKSB7XG4gICAgICAgIHJldHVybiBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LnR5cGUuc3RhcnRzV2l0aCgndG91Y2gnKSA/IGV2ZW50LnRhcmdldFRvdWNoZXNbMF0gOiBldmVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXhaSW5kZXgoc2VsZWN0b3JzID0gJ2JvZHkgKicpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycykpXG4gICAgICAgIC5tYXAoYSA9PiBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEpLnpJbmRleCkpXG4gICAgICAgIC5maWx0ZXIoYSA9PiAhaXNOYU4oYSkpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYilcbiAgICAgICAgLnBvcCgpIHx8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEFuY2VzdG9yKGVsLCBzZWxlY3RvcnMpIHtcbiAgICBpZiAodHlwZW9mIGVsLmNsb3Nlc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsb3Nlc3Qoc2VsZWN0b3JzKSB8fCBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgaWYgKGVsLm1hdGNoZXMoc2VsZWN0b3JzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNTdGlja3lQb3NpdGlvbigpIHtcbiAgICBpZiAoISgnQ1NTJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChDU1Muc3VwcG9ydHMoJ3Bvc2l0aW9uJywgJ3N0aWNreScpIHx8XG4gICAgICAgIENTUy5zdXBwb3J0cygncG9zaXRpb24nLCAnLXdlYmtpdC1zdGlja3knKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20tdXRpbHMuanMubWFwIiwiZXhwb3J0IHZhciBLZXlzO1xuKGZ1bmN0aW9uIChLZXlzKSB7XG4gICAgS2V5c1tLZXlzW1wiQkFDS1NQQUNFXCJdID0gOF0gPSBcIkJBQ0tTUEFDRVwiO1xuICAgIEtleXNbS2V5c1tcIlRBQlwiXSA9IDldID0gXCJUQUJcIjtcbiAgICBLZXlzW0tleXNbXCJFTlRFUlwiXSA9IDEzXSA9IFwiRU5URVJcIjtcbiAgICBLZXlzW0tleXNbXCJFU0NBUEVcIl0gPSAyN10gPSBcIkVTQ0FQRVwiO1xuICAgIEtleXNbS2V5c1tcIlNQQUNFXCJdID0gMzJdID0gXCJTUEFDRVwiO1xuICAgIEtleXNbS2V5c1tcIkxFRlRcIl0gPSAzN10gPSBcIkxFRlRcIjtcbiAgICBLZXlzW0tleXNbXCJVUFwiXSA9IDM4XSA9IFwiVVBcIjtcbiAgICBLZXlzW0tleXNbXCJSSUdIVFwiXSA9IDM5XSA9IFwiUklHSFRcIjtcbiAgICBLZXlzW0tleXNbXCJET1dOXCJdID0gNDBdID0gXCJET1dOXCI7XG4gICAgS2V5c1tLZXlzW1wiREVMRVRFXCJdID0gNDZdID0gXCJERUxFVEVcIjtcbiAgICBLZXlzW0tleXNbXCJLRVlfRjJcIl0gPSAxMTNdID0gXCJLRVlfRjJcIjtcbn0pKEtleXMgfHwgKEtleXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5Y29kZXMuanMubWFwIiwiZXhwb3J0ICogZnJvbSAnLi91dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3ZhbGlkYXRvcnMnO1xuZXhwb3J0ICogZnJvbSAnLi9rZXljb2Rlcyc7XG5leHBvcnQgKiBmcm9tICcuL2V4cG9ydC1jc3YnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgaXNMZWZ0QnV0dG9uLCBnZXRFdmVudCB9IGZyb20gJ0BtYXpkaWstbGliL2NvbW1vbic7XG5leHBvcnQgY2xhc3MgRHJhZ2dhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBkcmFnWCA9IHRydWUsIGRyYWdZID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmRyYWdYID0gZHJhZ1g7XG4gICAgICAgIHRoaXMuZHJhZ1kgPSBkcmFnWTtcbiAgICAgICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KGRyYWdFdmVudFRhcmdldCkge1xuICAgICAgICB0aGlzLm9uTW91c2Vkb3duKGRyYWdFdmVudFRhcmdldCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgb25Nb3VzZWRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc0xlZnRCdXR0b24oZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZHJhZ1ggfHwgdGhpcy5kcmFnWSkge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gZ2V0RXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5pbml0RHJhZyhldnQucGFnZVgsIGV2dC5wYWdlWSk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZHJhZ1N0YXJ0JywgeyBkZXRhaWw6IGV2ZW50IH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk1vdXNlbW92ZShldmVudCkge1xuICAgICAgICBjb25zdCBldnQgPSBnZXRFdmVudChldmVudCk7XG4gICAgICAgIHRoaXMub25EcmFnKGV2dC5wYWdlWCwgZXZ0LnBhZ2VZKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkcmFnTW92ZScsIHsgZGV0YWlsOiBldmVudCB9KSk7XG4gICAgfVxuICAgIG9uTW91c2V1cChldmVudCkge1xuICAgICAgICB0aGlzLmVuZERyYWcoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RyYWdFbmQnLCB7IGRldGFpbDogZXZlbnQgfSkpO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVycyhldmVudCkge1xuICAgICAgICBjb25zdCBpc1RvdWNoRXZlbnQgPSBldmVudC50eXBlLnN0YXJ0c1dpdGgoJ3RvdWNoJyk7XG4gICAgICAgIGNvbnN0IG1vdmVFdmVudCA9IGlzVG91Y2hFdmVudCA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZSc7XG4gICAgICAgIGNvbnN0IHVwRXZlbnQgPSBpc1RvdWNoRXZlbnQgPyAndG91Y2hlbmQnIDogJ21vdXNldXAnO1xuICAgICAgICB0aGlzLmdsb2JhbExpc3RlbmVyc1xuICAgICAgICAgICAgLnNldChtb3ZlRXZlbnQsIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25Nb3VzZW1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9wdGlvbnM6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0KHVwRXZlbnQsIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25Nb3VzZXVwLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvcHRpb25zOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnMuZm9yRWFjaCgoY29uZmlnLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBjb25maWcuaGFuZGxlciwgY29uZmlnLm9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzLmZvckVhY2goKGNvbmZpZywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgY29uZmlnLmhhbmRsZXIsIGNvbmZpZy5vcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluaXREcmFnKHBhZ2VYLCBwYWdlWSkge1xuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxhc3RQYWdlWCA9IHBhZ2VYO1xuICAgICAgICB0aGlzLmxhc3RQYWdlWSA9IHBhZ2VZO1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcbiAgICB9XG4gICAgb25EcmFnKHBhZ2VYLCBwYWdlWSkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVggPSBwYWdlWCAtIHRoaXMubGFzdFBhZ2VYO1xuICAgICAgICAgICAgY29uc3QgZGVsdGFZID0gcGFnZVkgLSB0aGlzLmxhc3RQYWdlWTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0ID0gY29vcmRzLmxlZnQgKyBkZWx0YVggKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRvcCA9IGNvb3Jkcy50b3AgKyBkZWx0YVkgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5sYXN0UGFnZVggPSBwYWdlWDtcbiAgICAgICAgICAgIHRoaXMubGFzdFBhZ2VZID0gcGFnZVk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5kRHJhZygpIHtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyYWdnYWJsZS5qcy5tYXAiLCJleHBvcnQgKiBmcm9tICcuL2RyYWdnYWJsZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBpc0xlZnRCdXR0b24sIGdldEV2ZW50IH0gZnJvbSAnQG1hemRpay1saWIvY29tbW9uJztcbmV4cG9ydCBjbGFzcyBSZXNpemFibGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNvdXRoID0gdHJ1ZSwgZWFzdCA9IHRydWUsIHNvdXRoRWFzdCA9IHRydWUsIGdob3N0ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zb3V0aCA9IHNvdXRoO1xuICAgICAgICB0aGlzLmVhc3QgPSBlYXN0O1xuICAgICAgICB0aGlzLnNvdXRoRWFzdCA9IHNvdXRoRWFzdDtcbiAgICAgICAgdGhpcy5naG9zdCA9IGdob3N0O1xuICAgICAgICB0aGlzLnN0YXJ0TGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmdsb2JhbExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy52aWV3SW5pdCgpO1xuICAgIH1cbiAgICB2aWV3SW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc291dGgpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlSGFuZGxlKCdyZXNpemUtaGFuZGxlLXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXN0KSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUhhbmRsZSgncmVzaXplLWhhbmRsZS1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc291dGhFYXN0KSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUhhbmRsZSgncmVzaXplLWhhbmRsZS1zZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLm1pbldpZHRoID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLm1pbldpZHRoKTtcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5tYXhXaWR0aCk7XG4gICAgICAgIHRoaXMubWluSGVpZ2h0ID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLm1pbkhlaWdodCk7XG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLm1heEhlaWdodCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRMaXN0ZW5lcnNcbiAgICAgICAgICAgIC5zZXQoJ21vdXNlZG93bicsIHtcbiAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25Nb3VzZWRvd24uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9wdGlvbnM6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0KCd0b3VjaHN0YXJ0Jywge1xuICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5vbk1vdXNlZG93bi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb3B0aW9uczogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRMaXN0ZW5lcnMuZm9yRWFjaCgoY29uZmlnLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBjb25maWcuaGFuZGxlciwgY29uZmlnLm9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRMaXN0ZW5lcnMuZm9yRWFjaCgoY29uZmlnLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBjb25maWcuaGFuZGxlciwgY29uZmlnLm9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25Nb3VzZWRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFpc0xlZnRCdXR0b24oZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xhc3NMaXN0ID0gKGV2ZW50LnRhcmdldCkuY2xhc3NMaXN0O1xuICAgICAgICBjb25zdCBpc1NvdXRoID0gY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemUtaGFuZGxlLXMnKTtcbiAgICAgICAgY29uc3QgaXNFYXN0ID0gY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemUtaGFuZGxlLWUnKTtcbiAgICAgICAgY29uc3QgaXNTb3V0aEVhc3QgPSBjbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZS1oYW5kbGUtc2UnKTtcbiAgICAgICAgY29uc3QgZXZ0ID0gZ2V0RXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgY29uc3Qgc2NyZWVuWCA9IGV2dC5zY3JlZW5YO1xuICAgICAgICBjb25zdCBzY3JlZW5ZID0gZXZ0LnNjcmVlblk7XG4gICAgICAgIGNvbnN0IGlzVG91Y2hFdmVudCA9IGV2ZW50LnR5cGUuc3RhcnRzV2l0aCgndG91Y2gnKTtcbiAgICAgICAgY29uc3QgbW92ZUV2ZW50ID0gaXNUb3VjaEV2ZW50ID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJztcbiAgICAgICAgY29uc3QgdXBFdmVudCA9IGlzVG91Y2hFdmVudCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCc7XG4gICAgICAgIGlmIChpc1NvdXRoIHx8IGlzRWFzdCB8fCBpc1NvdXRoRWFzdCkge1xuICAgICAgICAgICAgdGhpcy5pbml0UmVzaXplKGV2ZW50LCBpc1NvdXRoLCBpc0Vhc3QsIGlzU291dGhFYXN0KTtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgLnNldChtb3ZlRXZlbnQsIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLm9uTW92ZS5iaW5kKHRoaXMsIHdpZHRoLCBoZWlnaHQsIHNjcmVlblgsIHNjcmVlblkpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zZXQodXBFdmVudCwge1xuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25Nb3VzZXVwLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnMuZm9yRWFjaCgoY29uZmlnLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgY29uZmlnLmhhbmRsZXIsIGNvbmZpZy5vcHRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTW92ZSh3aWR0aCwgaGVpZ2h0LCBzY3JlZW5YLCBzY3JlZW5ZLCBldmVudCkge1xuICAgICAgICBjb25zdCBldnQgPSBnZXRFdmVudChldmVudCk7XG4gICAgICAgIGNvbnN0IG1vdmVtZW50WCA9IGV2dC5zY3JlZW5YIC0gc2NyZWVuWDtcbiAgICAgICAgY29uc3QgbW92ZW1lbnRZID0gZXZ0LnNjcmVlblkgLSBzY3JlZW5ZO1xuICAgICAgICB0aGlzLm5ld1dpZHRoID0gd2lkdGggKyBtb3ZlbWVudFg7XG4gICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gaGVpZ2h0ICsgbW92ZW1lbnRZO1xuICAgICAgICB0aGlzLnJlc2l6ZVdpZHRoKGV2dCk7XG4gICAgICAgIHRoaXMucmVzaXplSGVpZ2h0KGV2dCk7XG4gICAgfVxuICAgIG9uTW91c2V1cChldmVudCkge1xuICAgICAgICB0aGlzLmVuZFJlc2l6ZShldmVudCk7XG4gICAgICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzLmZvckVhY2goKGNvbmZpZywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgY29uZmlnLmhhbmRsZXIsIGNvbmZpZy5vcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0ZUhhbmRsZShlZGdlQ2xhc3MpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBlZGdlQ2xhc3M7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9XG4gICAgaW5pdFJlc2l6ZShldmVudCwgaXNTb3V0aCwgaXNFYXN0LCBpc1NvdXRoRWFzdCkge1xuICAgICAgICBpZiAoaXNTb3V0aCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemluZ1MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Vhc3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXppbmdFID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTb3V0aEVhc3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXppbmdTRSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Jlc2l6aW5nJyk7XG4gICAgICAgIHRoaXMubmV3V2lkdGggPSB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVzaXplQmVnaW4nKSk7XG4gICAgfVxuICAgIGVuZFJlc2l6ZShldmVudCkge1xuICAgICAgICB0aGlzLnJlc2l6aW5nUyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2l6aW5nRSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2l6aW5nU0UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2l6aW5nJyk7XG4gICAgICAgIGNvbnN0IHJlc2l6YWJsZUV2ZW50ID0geyBldmVudDogZ2V0RXZlbnQoZXZlbnQpLCB3aWR0aDogdGhpcy5uZXdXaWR0aCwgaGVpZ2h0OiB0aGlzLm5ld0hlaWdodCB9O1xuICAgICAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Jlc2l6ZUVuZCcsIHsgZGV0YWlsOiByZXNpemFibGVFdmVudCB9KSk7XG4gICAgfVxuICAgIHJlc2l6ZVdpZHRoKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG92ZXJNaW5XaWR0aCA9ICF0aGlzLm1pbldpZHRoIHx8IHRoaXMubmV3V2lkdGggPj0gdGhpcy5taW5XaWR0aDtcbiAgICAgICAgY29uc3QgdW5kZXJNYXhXaWR0aCA9ICF0aGlzLm1heFdpZHRoIHx8IHRoaXMubmV3V2lkdGggPD0gdGhpcy5tYXhXaWR0aDtcbiAgICAgICAgaWYgKHRoaXMucmVzaXppbmdTRSB8fCB0aGlzLnJlc2l6aW5nRSkge1xuICAgICAgICAgICAgaWYgKG92ZXJNaW5XaWR0aCAmJiB1bmRlck1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3RoaXMubmV3V2lkdGh9cHhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXNpemFibGVFdmVudCA9IHsgZXZlbnQsIHdpZHRoOiB0aGlzLm5ld1dpZHRoLCBoZWlnaHQ6IHRoaXMubmV3SGVpZ2h0LCBkaXJlY3Rpb246ICdob3Jpem9udGFsJyB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVzaXppbmcnLCB7IGRldGFpbDogcmVzaXphYmxlRXZlbnQgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2l6ZUhlaWdodChldmVudCkge1xuICAgICAgICBjb25zdCBvdmVyTWluSGVpZ2h0ID0gIXRoaXMubWluSGVpZ2h0IHx8IHRoaXMubmV3SGVpZ2h0ID49IHRoaXMubWluSGVpZ2h0O1xuICAgICAgICBjb25zdCB1bmRlck1heEhlaWdodCA9ICF0aGlzLm1heEhlaWdodCB8fCB0aGlzLm5ld0hlaWdodCA8PSB0aGlzLm1heEhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMucmVzaXppbmdTRSB8fCB0aGlzLnJlc2l6aW5nUykge1xuICAgICAgICAgICAgaWYgKG92ZXJNaW5IZWlnaHQgJiYgdW5kZXJNYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2hvc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubmV3SGVpZ2h0fXB4YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzaXphYmxlRXZlbnQgPSB7IGV2ZW50LCB3aWR0aDogdGhpcy5uZXdXaWR0aCwgaGVpZ2h0OiB0aGlzLm5ld0hlaWdodCwgZGlyZWN0aW9uOiAndmVydGljYWwnIH07XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyZXNpemluZycsIHsgZGV0YWlsOiByZXNpemFibGVFdmVudCB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNpemFibGUuanMubWFwIiwiZXhwb3J0ICogZnJvbSAnLi9yZXNpemFibGUnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiZXhwb3J0IHZhciBGaWx0ZXJTdGF0ZTtcbihmdW5jdGlvbiAoRmlsdGVyU3RhdGUpIHtcbiAgICBGaWx0ZXJTdGF0ZVtGaWx0ZXJTdGF0ZVtcIkZPVU5EXCJdID0gMF0gPSBcIkZPVU5EXCI7XG4gICAgRmlsdGVyU3RhdGVbRmlsdGVyU3RhdGVbXCJPTl9GT1VORF9QQVRIXCJdID0gMV0gPSBcIk9OX0ZPVU5EX1BBVEhcIjtcbiAgICBGaWx0ZXJTdGF0ZVtGaWx0ZXJTdGF0ZVtcIk5PVF9GT1VORFwiXSA9IDJdID0gXCJOT1RfRk9VTkRcIjtcbn0pKEZpbHRlclN0YXRlIHx8IChGaWx0ZXJTdGF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiLCJleHBvcnQgY2xhc3MgVHJlZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGluaXQsIHBhcmVudE5vZGUsIHRyZWUpIHtcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy5pZCA9IGluaXQuaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IGluaXQubmFtZTtcbiAgICAgICAgdGhpcy5kYXRhID0gaW5pdC5kYXRhO1xuICAgICAgICB0aGlzLmljb24gPSBpbml0Lmljb247XG4gICAgICAgIHRoaXMuZXhwYW5kZWQgPSBpbml0LmV4cGFuZGVkO1xuICAgICAgICB0aGlzLmxlYWYgPSBpbml0LmxlYWY7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50Tm9kZTtcbiAgICAgICAgdGhpcy4kJGlkID0gdGhpcy50cmVlLmdlbmVyYXRlSWQoKTtcbiAgICAgICAgdGhpcy4kJGxldmVsID0gKHBhcmVudE5vZGUpID8gcGFyZW50Tm9kZS4kJGxldmVsICsgMSA6IDA7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBpbml0LmNoaWxkcmVuO1xuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHNldCBjaGlsZHJlbih2YWwpIHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB2YWwubWFwKChjKSA9PiBuZXcgVHJlZU5vZGUoYywgdGhpcywgdGhpcy50cmVlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IFsuLi50aGlzLnBhcmVudC5wYXRoLCB0aGlzLmlkXSA6IFtdO1xuICAgIH1cbiAgICBnZXQgaGFzQ2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5jaGlsZHJlbiAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApO1xuICAgIH1cbiAgICBnZXQgaXNTZWxlY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT09IHRoaXMudHJlZS5zZWxlY3RlZE5vZGU7XG4gICAgfVxuICAgIHNldFNlbGVjdGVkKCkge1xuICAgICAgICB0aGlzLnRyZWUuc2VsZWN0ZWROb2RlID0gdGhpcztcbiAgICB9XG4gICAgaXNMZWFmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWFmID09PSBmYWxzZSA/IGZhbHNlIDogIXRoaXMuaGFzQ2hpbGRyZW47XG4gICAgfVxuICAgIGVuc3VyZVZpc2libGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW5zdXJlVmlzaWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyZWUtbm9kZS5qcy5tYXAiLCJpbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4vdHJlZS1ub2RlJztcbmltcG9ydCB7IEZpbHRlclN0YXRlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBpc0JsYW5rIH0gZnJvbSAnQG1hemRpay1saWIvY29tbW9uJztcbmV4cG9ydCBjbGFzcyBUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy51aWROb2RlID0gMDtcbiAgICB9XG4gICAgZ2V0IG5vZGVzKCkgeyByZXR1cm4gdGhpcy5fbm9kZXM7IH1cbiAgICBzZXQgbm9kZXModmFsKSB7XG4gICAgICAgIHRoaXMuX25vZGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX25vZGVzLnB1c2gobmV3IFRyZWVOb2RlKG5vZGUsIG51bGwsIHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZW5lcmF0ZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51aWROb2RlKys7XG4gICAgfVxuICAgIGluaXRMb2FkTm9kZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2UgJiYgISh0aGlzLm5vZGVzICYmIHRoaXMubm9kZXMubGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5nZXROb2RlcygpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlcyA9IGRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2FkTm9kZShub2RlKSB7XG4gICAgICAgIGlmICgoIW5vZGUuY2hpbGRyZW4gfHwgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApICYmIG5vZGUubGVhZiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmdldE5vZGVzKG5vZGUpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm9kZShub2RlLiQkaWQsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZE5vZGUobm9kZUlkLCBjaGlsZHJlbikge1xuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FkZE5vZGUobm9kZSwgbm9kZUlkLCBjaGlsZHJlbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkTm9kZShub2RlLCBub2RlSWQsIGNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChub2RlLiQkaWQgPT09IG5vZGVJZCkge1xuICAgICAgICAgICAgbm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE5vZGUoY2hpbGQsIG5vZGVJZCwgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9Gb3JBbGwoZm4pIHtcbiAgICAgICAgdGhpcy5kb0ZvckVhY2godGhpcy5ub2RlcywgZm4pLnRoZW4oKTtcbiAgICB9XG4gICAgZmlsdGVyVHJlZShmaWx0ZXJWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5zZXJ2ZXJTaWRlRmlsdGVyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclNlcnZlclNpZGUoZmlsdGVyVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJDbGllbnRTaWRlKGZpbHRlclZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaWx0ZXJDbGllbnRTaWRlKGZpbHRlclZhbHVlKSB7XG4gICAgICAgIGlmICghZmlsdGVyVmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VhcmNoU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWFyY2hOb2RlID0gKG5vZGUpID0+IHtcbiAgICAgICAgICAgIGxldCBleHBhbmRVcCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBub2RlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHRlclZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBub2RlLiQkZmlsdGVyU3RhdGUgPSBGaWx0ZXJTdGF0ZS5GT1VORDtcbiAgICAgICAgICAgICAgICBleHBhbmRVcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLiQkZmlsdGVyU3RhdGUgPSBGaWx0ZXJTdGF0ZS5OT1RfRk9VTkQ7XG4gICAgICAgICAgICAgICAgbm9kZS5leHBhbmRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGV4cGFuZFVwID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3RhdGUgPSBub2RlLmNoaWxkcmVuLm1hcChzZWFyY2hOb2RlKS5maW5kKChzdGF0ZSkgPT4gc3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLiQkZmlsdGVyU3RhdGUgIT09IEZpbHRlclN0YXRlLkZPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLiQkZmlsdGVyU3RhdGUgPSBGaWx0ZXJTdGF0ZS5PTl9GT1VORF9QQVRIO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBleHBhbmRVcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV4cGFuZFVwO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKHNlYXJjaE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyU2VhcmNoU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuZG9Gb3JBbGwoKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUuJCRmaWx0ZXJTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICBub2RlLmV4cGFuZGVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXROb2RlQnlJZChub2RlSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5KChub2RlKSA9PiBub2RlLmlkICYmIG5vZGUuaWQudG9TdHJpbmcoKSA9PT0gbm9kZUlkLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBnZXROb2RlQnkocHJlZGljYXRlLCBzdGFydE5vZGUgPSBudWxsKSB7XG4gICAgICAgIHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZSB8fCB7IGNoaWxkcmVuOiB0aGlzLm5vZGVzIH07XG4gICAgICAgIGlmICghc3RhcnROb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3VuZCA9IHN0YXJ0Tm9kZS5jaGlsZHJlbi5maW5kKHByZWRpY2F0ZSk7XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGFydE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZEluQ2hpbGRyZW4gPSB0aGlzLmdldE5vZGVCeShwcmVkaWNhdGUsIGNoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoZm91bmRJbkNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZEluQ2hpbGRyZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoaWxkcmVuKG5vZGUpIHtcbiAgICAgICAgaWYgKCghbm9kZS5jaGlsZHJlbiB8fCBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgJiYgbm9kZS5sZWFmID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5nZXROb2Rlcyhub2RlKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGUuY2hpbGRyZW4gPSBkYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9Gb3JFYWNoKG5vZGVzLCBmbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwobm9kZXMubWFwKChub2RlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZuKG5vZGUpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb0ZvckVhY2gobm9kZS5jaGlsZHJlbiwgZm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzKSk7XG4gICAgfVxuICAgIGV4cGFuZEFsbCgpIHtcbiAgICAgICAgdGhpcy5kb0ZvckVhY2godGhpcy5ub2RlcywgKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4obm9kZSk7XG4gICAgICAgIH0pLnRoZW4oKTtcbiAgICB9XG4gICAgY29sbGFwc2VBbGwoKSB7XG4gICAgICAgIHRoaXMuZG9Gb3JFYWNoKHRoaXMubm9kZXMsIChub2RlKSA9PiB7XG4gICAgICAgICAgICBub2RlLmV4cGFuZGVkID0gZmFsc2U7XG4gICAgICAgIH0pLnRoZW4oKTtcbiAgICB9XG4gICAgbG9hZFBhdGgocGF0aCkge1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBhdGgubWFwKChwKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9Gb3JFYWNoKHRoaXMubm9kZXMsIChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmlkID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZHJlbihub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgdGhpcykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGF0aChwYXRoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbHRlclNlcnZlclNpZGUoZmlsdGVyVmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoZmlsdGVyVmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VhcmNoU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlckxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlLnNlYXJjaE5vZGVzKGZpbHRlclZhbHVlKS50aGVuKGl0ZW1zID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRQYXRoKGl0ZW1zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJDbGllbnRTaWRlKGZpbHRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyZWUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUV4cGFuZGVkU3R5bGVzKGV4cGFuZGVkLCBlbGVtZW50KSB7XG4gICAgaWYgKGV4cGFuZGVkKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZXhwYW5kZWQnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjb2xsYXBzZWQnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kZWQnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzZWQnKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTmF2SXRlbSB7XG4gICAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmNyZWF0ZU5hdkl0ZW1FbGVtZW50KG5vZGUpO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZShuYW1lLCBpY29uQ2xhc3MsIGhhc0NoaWxkcmVuKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW5nSWNvbiA9IGA8ZGl2IGNsYXNzPVwicm90YXRpbmctaWNvblwiPlxuICAgICAgPHN2ZyBmb2N1c2FibGU9XCJmYWxzZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgIDxwYXRoIGQ9XCJNOC41OSAxNi4zNGw0LjU4LTQuNTktNC41OC00LjU5TDEwIDUuNzVsNiA2LTYgNnpcIiAvPlxuICAgICAgPC9zdmc+XG4gICAgPC9kaXY+YDtcbiAgICAgICAgY29uc3QgaWNvbiA9IGljb25DbGFzcyA/IGA8aSBjbGFzcz1cIiR7aWNvbkNsYXNzfVwiPjwvaT5gIDogJyc7XG4gICAgICAgIGNvbnN0IHJvdGF0aW5nID0gaGFzQ2hpbGRyZW4gPyByb3RhdGluZ0ljb24gOiAnJztcbiAgICAgICAgcmV0dXJuIGAke2ljb259PHNwYW4gY2xhc3M9XCJtZW51LWl0ZW0tdGV4dFwiPiR7bmFtZX08L3NwYW4+JHtyb3RhdGluZ31gO1xuICAgIH1cbiAgICBjcmVhdGVOYXZJdGVtRWxlbWVudChub2RlKSB7XG4gICAgICAgIGNvbnN0IGljb25DbGFzcyA9IG5vZGUuaWNvbiA/ICduYXYtbWVudS1pY29uICcgKyBub2RlLmljb24gOiAnJztcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldFRlbXBsYXRlKG5vZGUubmFtZSwgaWNvbkNsYXNzLCBub2RlLmhhc0NoaWxkcmVuKTtcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0LmlkID0gbm9kZS4kJGlkLnRvU3RyaW5nKCk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmVydGljYWwtbWVudS1pdGVtJyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGV2ZWwtJyArICh0aGlzLm5vZGUuJCRsZXZlbCArIDEpKTtcbiAgICAgICAgdGhpcy51cGRhdGVOYXZJdGVtU3R5bGVzKG5vZGUsIGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgdXBkYXRlTmF2SXRlbVN0eWxlcyhub2RlLCBlbGVtZW50KSB7XG4gICAgICAgIGlmIChub2RlLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hlYWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGVhZGluZycpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUV4cGFuZGVkU3R5bGVzKG5vZGUuZXhwYW5kZWQsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB1cGRhdGVTdHlsZXMoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTmF2SXRlbVN0eWxlcyh0aGlzLm5vZGUsIHRoaXMuZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGhlYWRpbmdDaGlsZHJlbiA9IHRoaXMuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIGlmIChoZWFkaW5nQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHVwZGF0ZUV4cGFuZGVkU3R5bGVzKHRoaXMubm9kZS5leHBhbmRlZCwgaGVhZGluZ0NoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkNsaWNrKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlLmhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZXhwYW5kZWQgPSAhdGhpcy5ub2RlLmV4cGFuZGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnNldFNlbGVjdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZXMoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXYtaXRlbS5qcy5tYXAiLCJpbXBvcnQgeyBpc0JsYW5rIH0gZnJvbSAnQG1hemRpay1saWIvY29tbW9uJztcbmltcG9ydCB7IFRyZWUgfSBmcm9tICdAbWF6ZGlrLWxpYi90cmVlLWxpYic7XG5pbXBvcnQgeyBOYXZJdGVtLCB1cGRhdGVFeHBhbmRlZFN0eWxlcyB9IGZyb20gJy4vbmF2LWl0ZW0nO1xuZXhwb3J0IGNsYXNzIE5hdk1lbnVDb21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBUcmVlKCk7XG4gICAgICAgIHRoaXMuY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5uYXZJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ25hdi1tZW51Jyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgZ2V0IG5vZGVzKCkgeyByZXR1cm4gdGhpcy50cmVlLm5vZGVzOyB9XG4gICAgc2V0IG5vZGVzKHZhbCkge1xuICAgICAgICB0aGlzLnRyZWUubm9kZXMgPSB2YWw7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGVzKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdtb3VzZWVudGVyJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdtb3VzZWxlYXZlJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5vbk1vdXNlTGVhdmUuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25DbGljay5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgICB4LnRhcmdldC5hZGRFdmVudExpc3RlbmVyKHguZXZlbnROYW1lLCB4LmhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgICB4LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHguZXZlbnROYW1lLCB4LmhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlU3R5bGVzKCkge1xuICAgICAgICBpZiAodGhpcy5taW5pbWl6ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCduYXYtY29sbGFwc2VkJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCduYXYtZXhwYW5kZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWNvbGxhcHNlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnbmF2LWV4cGFuZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ25hdi1leHBhbmRlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTW91c2VFbnRlcigpIHtcbiAgICAgICAgdGhpcy5jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZXMoKTtcbiAgICB9XG4gICAgb25Nb3VzZUxlYXZlKCkge1xuICAgICAgICB0aGlzLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGVzKCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmNyZWF0ZVRyZWVEb20obm9kZSk7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgIH1cbiAgICBjcmVhdGVUcmVlRG9tKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCduYXYtaXRlbScpO1xuICAgICAgICBjb25zdCBuYXZJdGVtID0gbmV3IE5hdkl0ZW0obm9kZSk7XG4gICAgICAgIHRoaXMubmF2SXRlbXMucHVzaChuYXZJdGVtKTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5hdkl0ZW0uZWxlbWVudCk7XG4gICAgICAgIGlmIChub2RlLmhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkaW5nQ2hpbGRyZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGhlYWRpbmdDaGlsZHJlbi5jbGFzc0xpc3QuYWRkKCdoZWFkaW5nLWNoaWxkcmVuJyk7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZ0NoaWxkcmVuKTtcbiAgICAgICAgICAgIHVwZGF0ZUV4cGFuZGVkU3R5bGVzKG5vZGUuZXhwYW5kZWQsIGhlYWRpbmdDaGlsZHJlbik7XG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuLmZvckVhY2goY2hpbGROb2RlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb20gPSB0aGlzLmNyZWF0ZVRyZWVEb20oY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICBoZWFkaW5nQ2hpbGRyZW4uYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGFyZ2V0LnRhZ05hbWUgPT09ICdBJyA/IHRhcmdldCA6IHRhcmdldC5jbG9zZXN0KCdhJyk7XG4gICAgICAgIGlmIChlbGVtZW50ICYmICFpc0JsYW5rKGVsZW1lbnQuZGF0YXNldC5pZCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgbmF2SXRlbSA9IHRoaXMubmF2SXRlbXMuZmluZCh4ID0+IHgubm9kZS4kJGlkLnRvU3RyaW5nKCkgPT09IGVsZW1lbnQuZGF0YXNldC5pZCk7XG4gICAgICAgICAgICBuYXZJdGVtLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsSXRlbXNTdHlsZXMoKTtcbiAgICAgICAgICAgIGlmICghaXNCbGFuayhuYXZJdGVtLm5vZGUuaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbGlua0NsaWNrZWQnLCB7IGRldGFpbDogbmF2SXRlbS5ub2RlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVBbGxJdGVtc1N0eWxlcygpIHtcbiAgICAgICAgdGhpcy5uYXZJdGVtcy5mb3JFYWNoKHggPT4geC51cGRhdGVTdHlsZXMoKSk7XG4gICAgfVxuICAgIGVuc3VyZVZpc2libGUoaWQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMudHJlZS5nZXROb2RlQnlJZChpZCk7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmVuc3VyZVZpc2libGUoKTtcbiAgICAgICAgICAgIG5vZGUuc2V0U2VsZWN0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUFsbEl0ZW1zU3R5bGVzKCk7XG4gICAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCd3ZWItbmF2LW1lbnUnLCBOYXZNZW51Q29tcG9uZW50KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdi1tZW51LmNvbXBvbmVudC5qcy5tYXAiLCJ2YXIgbWFwID0ge1xuXHRcIi4vY29udGV4dC1tZW51LnRzXCI6IFtcblx0XHQxOCxcblx0XHQyXG5cdF0sXG5cdFwiLi9kcmFnLWRyb3AudHNcIjogW1xuXHRcdDE2LFxuXHRcdDVcblx0XSxcblx0XCIuL2RyYWdnYWJsZS50c1wiOiBbXG5cdFx0OCxcblx0XHQ2XG5cdF0sXG5cdFwiLi9kcm9wZG93bi1zZWxlY3QudHNcIjogW1xuXHRcdDE3LFxuXHRcdDFcblx0XSxcblx0XCIuL2Ryb3Bkb3duLnRzXCI6IFtcblx0XHQ5LFxuXHRcdDNcblx0XSxcblx0XCIuL2lubGluZS1lZGl0LnRzXCI6IFtcblx0XHQxOSxcblx0XHQ3XG5cdF0sXG5cdFwiLi9tb2RhbC1iYXNpYy50c1wiOiBbXG5cdFx0MTAsXG5cdFx0OFxuXHRdLFxuXHRcIi4vbW9kYWwtbmVzdGVkLnRzXCI6IFtcblx0XHQxMSxcblx0XHQ5XG5cdF0sXG5cdFwiLi9tb2RhbC1wYW5lbHMudHNcIjogW1xuXHRcdDEyLFxuXHRcdDEwXG5cdF0sXG5cdFwiLi9uYXYtbWVudS50c1wiOiBbXG5cdFx0MTMsXG5cdFx0MTFcblx0XSxcblx0XCIuL3Jlc2l6YWJsZS50c1wiOiBbXG5cdFx0MTQsXG5cdFx0MTJcblx0XSxcblx0XCIuL3NlbGVjdC1saXN0LnRzXCI6IFtcblx0XHQxNSxcblx0XHQ0XG5cdF1cbn07XG5mdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0KHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KTtcblx0fVxuXG5cdHZhciBpZHMgPSBtYXBbcmVxXSwgaWQgPSBpZHNbMF07XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoaWRzWzFdKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcblx0fSk7XG59XG53ZWJwYWNrQXN5bmNDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IDY7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tBc3luY0NvbnRleHQ7IiwiaW1wb3J0IHsgbWF4WkluZGV4IH0gZnJvbSAnQG1hemRpay1saWIvY29tbW9uJztcbmltcG9ydCB7IERyYWdnYWJsZSB9IGZyb20gJ0BtYXpkaWstbGliL2RyYWdnYWJsZSc7XG5pbXBvcnQgeyBSZXNpemFibGUgfSBmcm9tICdAbWF6ZGlrLWxpYi9yZXNpemFibGUnO1xuZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGBcbiAgPGRpdiBjbGFzcz1cInVpLW1vZGFsLW92ZXJsYXlcIiBpZD1cIm1vZGFsT3ZlcmxheVwiPjwvZGl2PlxuICA8ZGl2IGNsYXNzPVwidWktbW9kYWxcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIGlkPVwibW9kYWxSb290XCI+XG4gICAgPGRpdiBjbGFzcz1cInVpLW1vZGFsLWhlYWRlclwiIGlkPVwibW9kYWxIZWFkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ1aS10aXRsZWJhclwiIGlkPVwidGl0bGViYXJcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInVpLWNvbnRyb2xiYXJcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJ1aS1pY29uXCIgaWQ9XCJtYXhpbWl6ZUljb25cIj48L2k+XG4gICAgICAgIDxpIGNsYXNzPVwidWktaWNvbiBkdC1pY29uLWNsb3NlXCIgaWQ9XCJjbG9zZUljb25cIj48L2k+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidWktbW9kYWwtYm9keVwiIGlkPVwibW9kYWxCb2R5XCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInVpLW1vZGFsLWZvb3RlclwiIGlkPVwibW9kYWxGb290ZXJcIj48L2Rpdj5cbiAgPC9kaXY+XG4gIGA7XG59XG5leHBvcnQgY2xhc3MgTW9kYWxDb21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9wRW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXhpbWl6YWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFja2Ryb3AgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGdldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICB0aGlzLm1vZGFsT3ZlcmxheSA9IHRoaXMucXVlcnlTZWxlY3RvcignI21vZGFsT3ZlcmxheScpO1xuICAgICAgICB0aGlzLm1vZGFsUm9vdCA9IHRoaXMucXVlcnlTZWxlY3RvcignI21vZGFsUm9vdCcpO1xuICAgICAgICB0aGlzLm1vZGFsQm9keSA9IHRoaXMucXVlcnlTZWxlY3RvcignI21vZGFsQm9keScpO1xuICAgICAgICB0aGlzLm1vZGFsSGVhZGVyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcjbW9kYWxIZWFkZXInKTtcbiAgICAgICAgdGhpcy5tb2RhbEZvb3RlciA9IHRoaXMucXVlcnlTZWxlY3RvcignI21vZGFsRm9vdGVyJyk7XG4gICAgICAgIHRoaXMubWF4aW1pemVJY29uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcjbWF4aW1pemVJY29uJyk7XG4gICAgICAgIHRoaXMuY2xvc2VJY29uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcjY2xvc2VJY29uJyk7XG4gICAgICAgIHRoaXMudGl0bGViYXIgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZWJhcicpO1xuICAgICAgICB0aGlzLnNldERpYWxvZ1N0eWxlcygpO1xuICAgICAgICB0aGlzLnNldE1heGltaXplSWNvblN0eWxlcygpO1xuICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5kcmFnZ2FibGVEaXJlY3RpdmUgPSBuZXcgRHJhZ2dhYmxlKHRoaXMubW9kYWxSb290KTtcbiAgICAgICAgdGhpcy5yZXNpemFibGVEaXJlY3RpdmUgPSBuZXcgUmVzaXphYmxlKHRoaXMubW9kYWxSb290KTtcbiAgICB9XG4gICAgZ2V0IG9wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0F0dHJpYnV0ZSgnb3BlbicpO1xuICAgIH1cbiAgICBzZXQgb3Blbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA/IHRoaXMuc2V0QXR0cmlidXRlKCdvcGVuJywgJycpIDogdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5kcmFnZ2FibGVEaXJlY3RpdmUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnJlc2l6YWJsZURpcmVjdGl2ZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gWydvcGVuJ107XG4gICAgfVxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmNsb3NlSWNvbixcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLm9uQ2xvc2VJY29uQ2xpY2suYmluZCh0aGlzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm1heGltaXplSWNvbixcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLnRvZ2dsZU1heGltaXplLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubW9kYWxIZWFkZXIsXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5pbml0RHJhZy5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5tb2RhbEhlYWRlcixcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmluaXREcmFnLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubW9kYWxSb290LFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMubW92ZU9uVG9wLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiAndG91Y2hzdGFydCcsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm1vZGFsUm9vdCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLm1vdmVPblRvcC5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2tleWRvd24nLFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ3Jlc2l6aW5nJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubW9kYWxSb290LFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdyZXNpemUnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogd2luZG93LFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKHggPT4ge1xuICAgICAgICAgICAgeC50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih4LmV2ZW50TmFtZSwgeC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKHggPT4ge1xuICAgICAgICAgICAgeC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih4LmV2ZW50TmFtZSwgeC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMucXVlcnlTZWxlY3RvcignW3NlbGVjdD1cImFwcC1tb2RhbC1oZWFkZXJcIl0nKTtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMucXVlcnlTZWxlY3RvcignW3NlbGVjdD1cImFwcC1tb2RhbC1ib2R5XCJdJyk7XG4gICAgICAgIGNvbnN0IGZvb3RlciA9IHRoaXMucXVlcnlTZWxlY3RvcignW3NlbGVjdD1cImFwcC1tb2RhbC1mb290ZXJcIl0nKTtcbiAgICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICAgICAgdGhpcy50aXRsZWJhci5hcHBlbmRDaGlsZChoZWFkZXIuY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWxCb2R5LmFwcGVuZENoaWxkKGJvZHkuY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvb3Rlcikge1xuICAgICAgICAgICAgdGhpcy5tb2RhbEZvb3Rlci5hcHBlbmRDaGlsZChmb290ZXIuY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlc2l6YWJsZURpcmVjdGl2ZS5hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmNlbnRlcigpO1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubW9kYWxSb290LmZvY3VzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxUb3BFbmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsQm9keS5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxKTtcbiAgICAgICAgdGhpcy5zZXREaWFsb2dTdHlsZXMoKTtcbiAgICB9XG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlc2l6YWJsZURpcmVjdGl2ZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjbG9zZU1vZGFsJykpO1xuICAgICAgICB0aGlzLmZvY3VzTGFzdE1vZGFsKCk7XG4gICAgICAgIHRoaXMuc2V0RGlhbG9nU3R5bGVzKCk7XG4gICAgfVxuICAgIGNlbnRlcigpIHtcbiAgICAgICAgbGV0IGVsZW1lbnRXaWR0aCA9IHRoaXMubW9kYWxSb290Lm9mZnNldFdpZHRoO1xuICAgICAgICBsZXQgZWxlbWVudEhlaWdodCA9IHRoaXMubW9kYWxSb290Lm9mZnNldEhlaWdodDtcbiAgICAgICAgaWYgKGVsZW1lbnRXaWR0aCA9PT0gMCAmJiBlbGVtZW50SGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIGVsZW1lbnRXaWR0aCA9IHRoaXMubW9kYWxSb290Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgZWxlbWVudEhlaWdodCA9IHRoaXMubW9kYWxSb290Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIHRoaXMubW9kYWxSb290LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLm1heCgod2luZG93LmlubmVyV2lkdGggLSBlbGVtZW50V2lkdGgpIC8gMiwgMCk7XG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLm1heCgod2luZG93LmlubmVySGVpZ2h0IC0gZWxlbWVudEhlaWdodCkgLyAyLCAwKTtcbiAgICAgICAgdGhpcy5tb2RhbFJvb3Quc3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS50b3AgPSB5ICsgJ3B4JztcbiAgICB9XG4gICAgaW5pdERyYWcoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5jbG9zZUljb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWF4aW1pemVkKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdnYWJsZURpcmVjdGl2ZS5zdGFydChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25SZXNpemUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY0JvZHlIZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjQm9keUhlaWdodCgpIHtcbiAgICAgICAgY29uc3QgZGlmZkhlaWdodCA9IHRoaXMubW9kYWxIZWFkZXIub2Zmc2V0SGVpZ2h0ICsgdGhpcy5tb2RhbEZvb3Rlci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRIZWlnaHQgPSB0aGlzLm1vZGFsUm9vdC5vZmZzZXRIZWlnaHQgLSBkaWZmSGVpZ2h0O1xuICAgICAgICB0aGlzLm1vZGFsQm9keS5zdHlsZS5oZWlnaHQgPSBjb250ZW50SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5tb2RhbEJvZHkuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xuICAgIH1cbiAgICBnZXRNYXhNb2RhbEluZGV4KCkge1xuICAgICAgICByZXR1cm4gbWF4WkluZGV4KCcudWktbW9kYWwnKTtcbiAgICB9XG4gICAgZm9jdXNMYXN0TW9kYWwoKSB7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gdGhpcy5wYXJlbnRFbGVtZW50LmNsb3Nlc3QoJy51aS1tb2RhbCcpO1xuICAgICAgICBpZiAobW9kYWwpIHtcbiAgICAgICAgICAgIG1vZGFsLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9nZ2xlTWF4aW1pemUoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMubWF4aW1pemVkKSB7XG4gICAgICAgICAgICB0aGlzLnJldmVydE1heGltaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1heGltaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRNYXhpbWl6ZUljb25TdHlsZXMoKTtcbiAgICB9XG4gICAgbWF4aW1pemUoKSB7XG4gICAgICAgIHRoaXMucHJlTWF4aW1pemVQYWdlWCA9IHBhcnNlRmxvYXQodGhpcy5tb2RhbFJvb3Quc3R5bGUudG9wKTtcbiAgICAgICAgdGhpcy5wcmVNYXhpbWl6ZVBhZ2VZID0gcGFyc2VGbG9hdCh0aGlzLm1vZGFsUm9vdC5zdHlsZS5sZWZ0KTtcbiAgICAgICAgdGhpcy5wcmVNYXhpbWl6ZVJvb3RXaWR0aCA9IHRoaXMubW9kYWxSb290Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLnByZU1heGltaXplUm9vdEhlaWdodCA9IHRoaXMubW9kYWxSb290Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5wcmVNYXhpbWl6ZUJvZHlIZWlnaHQgPSB0aGlzLm1vZGFsQm9keS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMubW9kYWxSb290LnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgIHRoaXMubW9kYWxSb290LnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICAgICAgdGhpcy5tb2RhbFJvb3Quc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICAgICAgY29uc3QgZGlmZkhlaWdodCA9IHRoaXMubW9kYWxIZWFkZXIub2Zmc2V0SGVpZ2h0ICsgdGhpcy5tb2RhbEZvb3Rlci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMubW9kYWxCb2R5LnN0eWxlLmhlaWdodCA9ICdjYWxjKDEwMHZoIC0gJyArIGRpZmZIZWlnaHQgKyAncHgpJztcbiAgICAgICAgdGhpcy5tb2RhbEJvZHkuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLm1heGltaXplZCA9IHRydWU7XG4gICAgfVxuICAgIHJldmVydE1heGltaXplKCkge1xuICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS50b3AgPSB0aGlzLnByZU1heGltaXplUGFnZVggKyAncHgnO1xuICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS5sZWZ0ID0gdGhpcy5wcmVNYXhpbWl6ZVBhZ2VZICsgJ3B4JztcbiAgICAgICAgdGhpcy5tb2RhbFJvb3Quc3R5bGUud2lkdGggPSB0aGlzLnByZU1heGltaXplUm9vdFdpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5tb2RhbFJvb3Quc3R5bGUuaGVpZ2h0ID0gdGhpcy5wcmVNYXhpbWl6ZVJvb3RIZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLm1vZGFsQm9keS5zdHlsZS5oZWlnaHQgPSB0aGlzLnByZU1heGltaXplQm9keUhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMubWF4aW1pemVkID0gZmFsc2U7XG4gICAgfVxuICAgIG1vdmVPblRvcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJhY2tkcm9wKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhNb2RhbEluZGV4ID0gdGhpcy5nZXRNYXhNb2RhbEluZGV4KCk7XG4gICAgICAgICAgICBsZXQgekluZGV4ID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm1vZGFsUm9vdCkuekluZGV4KSB8fCAwO1xuICAgICAgICAgICAgaWYgKHpJbmRleCA8PSBtYXhNb2RhbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgekluZGV4ID0gbWF4TW9kYWxJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbFJvb3Quc3R5bGUuekluZGV4ID0gekluZGV4LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0RGlhbG9nU3R5bGVzKCkge1xuICAgICAgICB0aGlzLm1vZGFsUm9vdC5zdHlsZS5kaXNwbGF5ID0gdGhpcy52aXNpYmxlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICh0aGlzLnZpc2libGUgJiYgdGhpcy5iYWNrZHJvcCkgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgIH1cbiAgICBzZXRNYXhpbWl6ZUljb25TdHlsZXMoKSB7XG4gICAgICAgIHRoaXMubWF4aW1pemVJY29uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLm1heGltaXphYmxlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgY29uc3QgY2xzID0gdGhpcy5tYXhpbWl6ZWQgPyAnZHQtaWNvbi1ub3JtYWxpemUnIDogJ2R0LWljb24tbWF4aW1pemUnO1xuICAgICAgICB0aGlzLm1heGltaXplSWNvbi5jbGFzc05hbWUgPSAndWktaWNvbiAnICsgY2xzO1xuICAgIH1cbiAgICBvbkNsb3NlSWNvbkNsaWNrKCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICB9XG4gICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uV2luZG93UmVzaXplKCkge1xuICAgICAgICB0aGlzLmNlbnRlcigpO1xuICAgIH1cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnd2ViLW1vZGFsJywgTW9kYWxDb21wb25lbnQpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kYWwuY29tcG9uZW50LmpzLm1hcCIsImV4cG9ydCBjbGFzcyBIZWFkZXIge1xuXG4gIHNldCBzdGF0ZSh2YWw6IHN0cmluZykge1xuICAgIHRoaXMudXBkYXRlU291cmNlTGluayh2YWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBuYXZiYXJFeHBhbmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBtYWluTmF2OiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBuYXZiYXJUb2dnbGU6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHNvdXJjZUxpbms6IEhUTUxBbmNob3JFbGVtZW50O1xuICBwcml2YXRlIGdpdGh1Ykljb246IEhUTUxBbmNob3JFbGVtZW50O1xuICBwcml2YXRlIGxpbmsgPSAnaHR0cHM6Ly9naXRodWIuY29tL21hemRpay9tYXpkaWstbGliJztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1haW5OYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1uYXYnKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLm5hdmJhclRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYXZiYXItdG9nZ2xlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5zb3VyY2VMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvdXJjZS1saW5rJykgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgdGhpcy5naXRodWJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dpdGh1Yi1pY29uJykgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG5cbiAgICB0aGlzLnNvdXJjZUxpbmsuaHJlZiA9IHRoaXMubGluaztcbiAgICB0aGlzLmdpdGh1Ykljb24uaHJlZiA9IHRoaXMubGluaztcblxuICAgIHRoaXMubmF2YmFyVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5uYXZiYXJFeHBhbmQgPSAhdGhpcy5uYXZiYXJFeHBhbmQ7XG4gICAgICB0aGlzLnVwZGF0ZVN0eWxlcygpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdHlsZXMoKSB7XG4gICAgaWYgKHRoaXMubmF2YmFyRXhwYW5kKSB7XG4gICAgICB0aGlzLm1haW5OYXYuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWV4cGFuZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1haW5OYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2YmFyLWV4cGFuZCcpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU291cmNlTGluayhzdGF0ZTogc3RyaW5nKSB7XG4gICAgY29uc3QgbGluazogc3RyaW5nID0gdGhpcy5saW5rICsgJy9ibG9iL21hc3Rlci9wYWNrYWdlcy93ZWIvc3JjL3BhZ2VzLyc7XG4gICAgdGhpcy5zb3VyY2VMaW5rLmhyZWYgPSAoc3RhdGUpID8gbGluayArIHN0YXRlICsgJy50cycgOiBsaW5rO1xuICB9XG5cbn1cbiIsImltcG9ydCAnLi9zdHlsZXMvYXBwLmNzcyc7XG5pbXBvcnQgJy4vc3R5bGVzL2FsbC5jc3MnO1xuaW1wb3J0ICdAbWF6ZGlrLWxpYi9tb2RhbCc7XG5pbXBvcnQgJ0BtYXpkaWstbGliL25hdi1tZW51JztcbmltcG9ydCB7IE5hdk1lbnVDb21wb25lbnQgfSBmcm9tICdAbWF6ZGlrLWxpYi9uYXYtbWVudSc7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tICcuL2hlYWRlcic7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSAnLi9wYWdlJztcblxuY2xhc3MgQXBwIHtcblxuICBjdXJyZW50UGFnZTogUGFnZSA9IG51bGw7XG4gIGluZGV4UGFnZVRpdGxlOiBzdHJpbmcgPSBkb2N1bWVudC50aXRsZTtcbiAgaGVhZGVyOiBIZWFkZXI7XG4gIG1haW46IEhUTUxFbGVtZW50O1xuICBuYXZNZW51OiBOYXZNZW51Q29tcG9uZW50O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcigpO1xuICAgIHRoaXMubWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcbiAgICB0aGlzLm5hdk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF2LW1lbnUnKTtcbiAgICB0aGlzLm5hdk1lbnUubm9kZXMgPSB0aGlzLmdldE5hdk1lbnVOb2RlcygpO1xuXG4gICAgY29uc3QgcGFnZSA9IGxvY2F0aW9uLmhhc2guc2xpY2UoMSkgfHwgJ21vZGFsLWJhc2ljJztcbiAgICB0aGlzLnNldFBhZ2UocGFnZSwgJycpO1xuICAgIHRoaXMubmF2TWVudS5lbnN1cmVWaXNpYmxlKHBhZ2UpO1xuXG4gICAgdGhpcy5uYXZNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2xpbmtDbGlja2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xuICAgICAgdGhpcy5kZXN0cm95KHRoaXMuY3VycmVudFBhZ2UpO1xuICAgICAgdGhpcy5zZXRQYWdlKGV2ZW50LmRldGFpbC5pZCwgZXZlbnQuZGV0YWlsLm5hbWUpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc2V0UGFnZShuYW1lOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0KGAuL3BhZ2VzLyR7bmFtZX0udHNgKTtcbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBgJHt0aXRsZX1gLCBgLyMke25hbWV9YCk7XG4gICAgICB0aGlzLmN1cnJlbnRQYWdlID0gbmV3IG1vZHVsZS5kZWZhdWx0O1xuICAgICAgdGhpcy5tYWluLmlubmVySFRNTCA9IHRoaXMuY3VycmVudFBhZ2UudGVtcGxhdGU7XG4gICAgICB0aGlzLmN1cnJlbnRQYWdlLmxvYWQoKTtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGl0bGUgPyB0aXRsZSArICcgLSAnICsgdGhpcy5pbmRleFBhZ2VUaXRsZSA6IHRoaXMuaW5kZXhQYWdlVGl0bGU7XG4gICAgICB0aGlzLmhlYWRlci5zdGF0ZSA9IG5hbWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubWFpbi50ZXh0Q29udGVudCA9IGVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkZXN0cm95KHBhZ2U6IFBhZ2UpIHtcbiAgICBpZiAocGFnZSAmJiB0eXBlb2YgcGFnZS5vbkRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcGFnZS5vbkRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldE5hdk1lbnVOb2RlcygpOiBhbnlbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ01vZGFsJyxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7IGlkOiAnbW9kYWwtYmFzaWMnLCBuYW1lOiAnQmFzaWMgbW9kYWwnIH0sXG4gICAgICAgICAgeyBpZDogJ21vZGFsLW5lc3RlZCcsIG5hbWU6ICdOZXN0ZWQgbW9kYWxzJyB9LFxuICAgICAgICAgIHsgaWQ6ICdtb2RhbC1wYW5lbHMnLCBuYW1lOiAnUGFuZWxzJyB9LFxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnQmFzZScsXG4gICAgICAgIGV4cGFuZGVkOiB0cnVlLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHsgaWQ6ICdzZWxlY3QtbGlzdCcsIG5hbWU6ICdTZWxlY3QgbGlzdCcgfSxcbiAgICAgICAgICB7IGlkOiAnZHJvcGRvd24tc2VsZWN0JywgbmFtZTogJ0Ryb3Bkb3duIHNlbGVjdCcgfSxcbiAgICAgICAgICB7IGlkOiAncmVzaXphYmxlJywgbmFtZTogJ1Jlc2l6YWJsZScgfSxcbiAgICAgICAgICB7IGlkOiAnZHJhZ2dhYmxlJywgbmFtZTogJ0RyYWdnYWJsZScgfSxcbiAgICAgICAgICB7IGlkOiAnZHJhZy1kcm9wJywgbmFtZTogJ0RyYWcgYW5kIGRyb3AnIH0sXG4gICAgICAgICAgeyBpZDogJ2NvbnRleHQtbWVudScsIG5hbWU6ICdDb250ZXh0IG1lbnUnIH0sXG4gICAgICAgICAgeyBpZDogJ2Ryb3Bkb3duJywgbmFtZTogJ0Ryb3Bkb3duJyB9LFxuICAgICAgICAgIHsgaWQ6ICdpbmxpbmUtZWRpdCcsIG5hbWU6ICdJbmxpbmUgZWRpdCcgfSxcbiAgICAgICAgICB7IGlkOiAnbmF2LW1lbnUnLCBuYW1lOiAnTmF2aWdhdGlvbiBtZW51JyB9LFxuICAgICAgICBdXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBuZXcgQXBwKCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=