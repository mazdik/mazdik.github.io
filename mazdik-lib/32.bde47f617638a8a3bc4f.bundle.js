(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{28:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var s=n(65),i=n(66);class o{constructor(){this.listeners=[]}get template(){return'<p>Events: contextmenu, mouseover, mouseout</p>\n    <div style="position: relative;">\n      <web-data-table></web-data-table>\n      <div class="dt-message dt-message-success" style="word-break: break-all;"></div>\n      <div class="tooltip"></div>\n    </div>\n    '}load(){const e=document.querySelector("web-data-table"),t=Object(i.b)(),n=new s.DataTable(t,new s.Settings);e.table=n,n.events.emitLoading(!0),fetch("assets/players.json").then(e=>e.json()).then(e=>{n.rows=e,n.events.emitLoading(!1)}),this.table=n,this.message=document.querySelector(".dt-message"),this.tooltip=document.querySelector(".tooltip"),this.element=document.querySelector("web-data-table .datatable"),this.addEventListeners()}onDestroy(){this.removeEventListeners()}addEventListeners(){this.listeners=[{eventName:"contextmenu",target:this.element,handler:this.onContextmenu.bind(this)},{eventName:"mouseover",target:this.element,handler:this.onMouseover.bind(this)},{eventName:"mouseout",target:this.element,handler:this.onMouseout.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onContextmenu(e){const t=s.EventHelper.findCellEvent(e,this.element);t&&this.printEvent("contextmenu",t)}onMouseover(e){if(this.currentElem)return;const t=s.EventHelper.findCellEventTarget(e,this.element);if(!t)return;this.currentElem=t;const n=s.EventHelper.findCellEvent(e,this.element);n&&(this.printEvent("mouseover",n),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showTooltip(n.event),this.timer=null},700))}onMouseout(e){if(!this.currentElem)return;let t=e.relatedTarget;if(t)for(;t;){if(t===this.currentElem)return;t=t.parentNode}this.currentElem=null;s.EventHelper.findCellEvent(e,this.element)&&this.hideTooltip()}showTooltip(e){const{left:t,top:n}=s.EventHelper.getRowPosition(e);this.tooltip.style.left=t+"px",this.tooltip.style.top=n+"px",this.tooltip.style.visibility="visible"}hideTooltip(){this.tooltip.style.visibility="hidden"}printEvent(e,t){this.message.innerHTML="",this.tooltip.innerHTML="",this.message.append(...this.createMessageElements(e,t)),this.tooltip.append(...this.createMessageElements(e,t))}createMessageElements(e,t){const n=[],s=document.createElement("b");s.innerText=e+": ",n.push(s);const i=this.table.columns[t.columnIndex].name,o=this.table.rows[t.rowIndex][i],r=JSON.stringify({columnName:i,cell:o},null,2),l=document.createTextNode(r);return n.push(l),n}}}}]);