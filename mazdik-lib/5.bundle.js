(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{16:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n.n(r);class s{constructor(e){this.element=e,this.listeners=[],this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"dragenter",target:this.element,handler:this.onDragEnter.bind(this)},{eventName:"dragover",target:this.element,handler:this.onDragOver.bind(this)},{eventName:"dragleave",target:this.element,handler:this.onDragLeave.bind(this)},{eventName:"drop",target:this.element,handler:this.onDrop.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onDragEnter(e){e.preventDefault()}onDragOver(e){e.preventDefault()}onDragLeave(e){e.preventDefault()}onDrop(e){e.preventDefault();const t=this.dragElementEvent.event.target.parentElement,n=Math.max(0,this.getNumberPosition(e.target));let r;r=t===this.element?{previousIndex:this.dragElementEvent.index,currentIndex:n,type:"reorder"}:{previousIndex:this.dragElementEvent.index,currentIndex:n,type:"move"},this.element.dispatchEvent(new CustomEvent("dropElement",{detail:r}))}getNumberPosition(e){const t=this.dragElementEvent.event.target.parentElement,n=this.element;if(e===t)return t.children?t.children.length:0;if(e===n)return n.children?n.children.length:0;let r=0;for(;e=e.previousSibling;)r++;return r-1}}var i=n(0);class o{constructor(e,t){this.droppables=[],this.listeners=[],e.forEach(e=>{this.droppables.push(new s(e)),this.listeners.push({eventName:"dropElement",target:e,handler:t=>{this.onDrop(t.detail,e)}})}),t.forEach((e,t)=>{e.dataset.index=t.toString(),e.draggable=!0,this.listeners.push({eventName:"dragstart",target:e,handler:this.onDragStart.bind(this)})}),this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}destroy(){this.removeEventListeners(),this.droppables.forEach(e=>{e.removeEventListeners()})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onDragStart(e){const t=e.target.dataset.index;e.dataTransfer.setData("text",t),e.dataTransfer.effectAllowed="move";const n={event:e,index:parseInt(t,10)};this.droppables.forEach(e=>e.dragElementEvent=n),this.source=e.target.parentElement}onDrop(e,t){const n=Array.from(this.source.children),r=Array.from(t.children);"reorder"===e.type?(Object(i.b)(r,e.previousIndex,e.currentIndex),r.forEach((e,t)=>e.dataset.index=t.toString()),t.append(...r)):(Object(i.c)(n,r,e.previousIndex,e.currentIndex),n.forEach((e,t)=>e.dataset.index=t.toString()),r.forEach((e,t)=>e.dataset.index=t.toString()),this.source.append(...n),t.append(...r))}}n.d(t,"default",(function(){return d}));class d{get template(){return a.a}load(){const e=[[{name:"Task 1",text:"Write a program that prints ‘Hello World’ to the screen"},{name:"Task 2",text:"Write a program that asks the user for their name and greets them with their name"},{name:"Task 3",text:"Modify the previous program such that only the users Alice and Bob are greeted with their names"}],[{name:"Task 4",text:"Write a program that asks the user for a number n and prints the sum of the numbers 1 to n"},{name:"Task 5",text:"Modify the previous program such that only multiples of three or five are considered in the sum"},{name:"Task 6",text:"Write a program that prints a multiplication table for numbers up to 12"}],[{name:"Task 7",text:"Write a function that returns the largest element in a list"},{name:"Task 8",text:"Write function that reverses a list, preferably in place"},{name:"Task 9",text:"Write a function that checks whether an element occurs in a list"}],[{name:"Task 10",text:"Write a function that returns the elements on odd positions in a list"},{name:"Task 11",text:"Write a function that computes the running total of a list"},{name:"Task 12",text:"Write a function that tests whether a string is a palindrome"}],[{name:"Task 13",text:"Write a program that prints all prime numbers"},{name:"Task 14",text:"Write a guessing game where the user has to guess a secret number"},{name:"Task 15",text:"Write a program that prints the next 20 leap years"}]];const t=document.querySelector("#drag-drop-demo"),{columnElements:n,issueElements:r}=function(){const t=[];let n=[];return e.forEach(e=>{const r=document.createElement("div");r.className="dd-column";const a=function(e){const t=[];return e.forEach(e=>{const n=document.createElement("div");n.className="dd-issue";const r=document.createElement("div");r.className="dd-title",r.textContent=e.name,n.append(r);const a=document.createElement("div");a.className="dd-text",a.textContent=e.text,n.append(a),t.push(n)}),t}(e);r.append(...a),n=n.concat(a),t.push(r)}),{columnElements:t,issueElements:n}}();t.append(...n),this.dragDrop=new o(n,r)}onDestroy(){this.dragDrop.destroy()}}},23:function(e,t){e.exports='<div class="drag-drop-demo" id="drag-drop-demo"></div>\n'}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZHJhZy1kcm9wL2xpYi9kcm9wcGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL2RyYWctZHJvcC9saWIvZHJhZy1kcm9wLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9kcmFnLWRyb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2RyYWctZHJvcC5odG1sIl0sIm5hbWVzIjpbIkRyb3BwYWJsZSIsImVsZW1lbnQiLCJ0aGlzIiwibGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJldmVudE5hbWUiLCJ0YXJnZXQiLCJoYW5kbGVyIiwib25EcmFnRW50ZXIiLCJiaW5kIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwib25Ecm9wIiwiZm9yRWFjaCIsIngiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJkcmFnUGFyZW50RWxlbWVudCIsImRyYWdFbGVtZW50RXZlbnQiLCJwYXJlbnRFbGVtZW50IiwicG9zaXRpb24iLCJNYXRoIiwibWF4IiwiZ2V0TnVtYmVyUG9zaXRpb24iLCJyZXN1bHRFdmVudCIsInByZXZpb3VzSW5kZXgiLCJpbmRleCIsImN1cnJlbnRJbmRleCIsInR5cGUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJlbGVtIiwiZHJhZ1RhcmdldCIsImRyb3BUYXJnZXQiLCJjaGlsZHJlbiIsImxlbmd0aCIsInNwYW5Db3VudCIsInByZXZpb3VzU2libGluZyIsImRyb3BwYWJsZUVsZW1lbnRzIiwiZHJhZ2dhYmxlRWxlbWVudHMiLCJkcm9wcGFibGVzIiwicHVzaCIsImkiLCJkYXRhc2V0IiwidG9TdHJpbmciLCJkcmFnZ2FibGUiLCJvbkRyYWdTdGFydCIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsImVmZmVjdEFsbG93ZWQiLCJwYXJzZUludCIsInNvdXJjZSIsInNvdXJjZUNoaWxkcmVucyIsIkFycmF5IiwiZnJvbSIsInRhcmdldENoaWxkcmVucyIsImFwcGVuZCIsImRhdGEiLCJuYW1lIiwidGV4dCIsImRpdiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbHVtbkVsZW1lbnRzIiwiaXNzdWVFbGVtZW50cyIsIml0ZW0iLCJjb2x1bW4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaXNzdWVzIiwiaXRlbXMiLCJlbGVtZW50cyIsIm9wdGlvbiIsImlzc3VlIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZUlzc3VlcyIsImNvbmNhdCIsImNyZWF0ZUNvbHVtbnMiLCJkcmFnRHJvcCIsImRlc3Ryb3kiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoicUhBQU8sTUFBTUEsRUFDVCxZQUFZQyxHQUNSQyxLQUFLRCxRQUFVQSxFQUNmQyxLQUFLQyxVQUFZLEdBQ2pCRCxLQUFLRSxvQkFFVCxvQkFDSUYsS0FBS0MsVUFBWSxDQUNiLENBQ0lFLFVBQVcsWUFDWEMsT0FBUUosS0FBS0QsUUFDYk0sUUFBU0wsS0FBS00sWUFBWUMsS0FBS1AsT0FFbkMsQ0FDSUcsVUFBVyxXQUNYQyxPQUFRSixLQUFLRCxRQUNiTSxRQUFTTCxLQUFLUSxXQUFXRCxLQUFLUCxPQUVsQyxDQUNJRyxVQUFXLFlBQ1hDLE9BQVFKLEtBQUtELFFBQ2JNLFFBQVNMLEtBQUtTLFlBQVlGLEtBQUtQLE9BRW5DLENBQ0lHLFVBQVcsT0FDWEMsT0FBUUosS0FBS0QsUUFDYk0sUUFBU0wsS0FBS1UsT0FBT0gsS0FBS1AsUUFHbENBLEtBQUtDLFVBQVVVLFFBQVFDLElBQ25CQSxFQUFFUixPQUFPUyxpQkFBaUJELEVBQUVULFVBQVdTLEVBQUVQLFdBR2pELHVCQUNJTCxLQUFLQyxVQUFVVSxRQUFRQyxJQUNuQkEsRUFBRVIsT0FBT1Usb0JBQW9CRixFQUFFVCxVQUFXUyxFQUFFUCxXQUdwRCxZQUFZVSxHQUNSQSxFQUFNQyxpQkFFVixXQUFXRCxHQUNQQSxFQUFN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RUFBUVosU0FBU00sY0FBYyxPQUNyQ00sRUFBTUwsVUFBWSxXQUVsQixNQUFNTSxFQUFRYixTQUFTTSxjQUFjLE9BQ3JDTyxFQUFNTixVQUFZLFdBQ2xCTSxFQUFNQyxZQUFjSCxFQUFPZCxLQUMzQmUsRUFBTWpCLE9BQU9rQixHQUViLE1BQU1mLEVBQU9FLFNBQVNNLGNBQWMsT0FDcENSLEVBQUtTLFVBQVksVUFDakJULEVBQUtnQixZQUFjSCxFQUFPYixLQUMxQmMsRUFBTWpCLE9BQU9HLEdBRWJZLEVBQVMvQixLQUFLaUMsS0FHVEYsRUFVVUssQ0FBYVgsR0FDNUJDLEVBQU9WLFVBQVVhLEdBRWpCTCxFQUFnQkEsRUFBY2EsT0FBT1IsR0FDckNOLEVBQWV2QixLQUFLMEIsS0FFZixDQUFFSCxpQkFBZ0JDLGlCQUllYyxHQUMxQ2xCLEVBQUlKLFVBQVVPLEdBRWRqRSxLQUFLaUYsU0FBVyxJQUFJLEVBQVNoQixFQUFnQkMsR0FHL0MsWUFDRWxFLEtBQUtpRixTQUFTQyxhLGlCQzNGbEJDLEVBQU9DLFFBQVUiLCJmaWxlIjoiNS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRHJvcHBhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2RyYWdlbnRlcicsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5vbkRyYWdFbnRlci5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2RyYWdvdmVyJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLm9uRHJhZ092ZXIuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdkcmFnbGVhdmUnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25EcmFnTGVhdmUuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdkcm9wJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLm9uRHJvcC5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKHggPT4ge1xuICAgICAgICAgICAgeC50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih4LmV2ZW50TmFtZSwgeC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKHggPT4ge1xuICAgICAgICAgICAgeC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih4LmV2ZW50TmFtZSwgeC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uRHJhZ0VudGVyKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIG9uRHJhZ092ZXIoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgb25EcmFnTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGRyYWdQYXJlbnRFbGVtZW50ID0gdGhpcy5kcmFnRWxlbWVudEV2ZW50LmV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgubWF4KDAsIHRoaXMuZ2V0TnVtYmVyUG9zaXRpb24oZXZlbnQudGFyZ2V0KSk7XG4gICAgICAgIGxldCByZXN1bHRFdmVudDtcbiAgICAgICAgaWYgKGRyYWdQYXJlbnRFbGVtZW50ID09PSB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdEV2ZW50ID0geyBwcmV2aW91c0luZGV4OiB0aGlzLmRyYWdFbGVtZW50RXZlbnQuaW5kZXgsIGN1cnJlbnRJbmRleDogcG9zaXRpb24sIHR5cGU6ICdyZW9yZGVyJyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0RXZlbnQgPSB7IHByZXZpb3VzSW5kZXg6IHRoaXMuZHJhZ0VsZW1lbnRFdmVudC5pbmRleCwgY3VycmVudEluZGV4OiBwb3NpdGlvbiwgdHlwZTogJ21vdmUnIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkcm9wRWxlbWVudCcsIHsgZGV0YWlsOiByZXN1bHRFdmVudCB9KSk7XG4gICAgfVxuICAgIGdldE51bWJlclBvc2l0aW9uKGVsZW0pIHtcbiAgICAgICAgY29uc3QgZHJhZ1RhcmdldCA9IHRoaXMuZHJhZ0VsZW1lbnRFdmVudC5ldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgZHJvcFRhcmdldCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW0gPT09IGRyYWdUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBkcmFnVGFyZ2V0LmNoaWxkcmVuID8gZHJhZ1RhcmdldC5jaGlsZHJlbi5sZW5ndGggOiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtID09PSBkcm9wVGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZHJvcFRhcmdldC5jaGlsZHJlbiA/IGRyb3BUYXJnZXQuY2hpbGRyZW4ubGVuZ3RoIDogMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BhbkNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGVsZW0gPSBlbGVtLnByZXZpb3VzU2libGluZykge1xuICAgICAgICAgICAgc3BhbkNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwYW5Db3VudCAtIDE7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJvcHBhYmxlLmpzLm1hcCIsImltcG9ydCB7IGFycmF5TW92ZSwgYXJyYXlUcmFuc2ZlciB9IGZyb20gJ0BtYXpkaWstbGliL2NvbW1vbic7XG5pbXBvcnQgeyBEcm9wcGFibGUgfSBmcm9tICcuL2Ryb3BwYWJsZSc7XG5leHBvcnQgY2xhc3MgRHJhZ0Ryb3Age1xuICAgIGNvbnN0cnVjdG9yKGRyb3BwYWJsZUVsZW1lbnRzLCBkcmFnZ2FibGVFbGVtZW50cykge1xuICAgICAgICB0aGlzLmRyb3BwYWJsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgZHJvcHBhYmxlRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMuZHJvcHBhYmxlcy5wdXNoKG5ldyBEcm9wcGFibGUoZWxlbWVudCkpO1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiAnZHJvcEVsZW1lbnQnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyb3AoZXZlbnQuZGV0YWlsLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRyYWdnYWJsZUVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YXNldC5pbmRleCA9IGkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2RyYWdzdGFydCcsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKHggPT4ge1xuICAgICAgICAgICAgeC50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih4LmV2ZW50TmFtZSwgeC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5kcm9wcGFibGVzLmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgICB4LnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgICAgIHgudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoeC5ldmVudE5hbWUsIHguaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkRyYWdTdGFydChldmVudCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dCcsIGluZGV4KTtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICAgIGNvbnN0IGRyYWdFbGVtZW50RXZlbnQgPSB7IGV2ZW50LCBpbmRleDogcGFyc2VJbnQoaW5kZXgsIDEwKSB9O1xuICAgICAgICB0aGlzLmRyb3BwYWJsZXMuZm9yRWFjaCh4ID0+IHguZHJhZ0VsZW1lbnRFdmVudCA9IGRyYWdFbGVtZW50RXZlbnQpO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICBvbkRyb3AoZXZlbnQsIHRhcmdldCkge1xuICAgICAgICBjb25zdCBzb3VyY2VDaGlsZHJlbnMgPSBBcnJheS5mcm9tKHRoaXMuc291cmNlLmNoaWxkcmVuKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q2hpbGRyZW5zID0gQXJyYXkuZnJvbSh0YXJnZXQuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3Jlb3JkZXInKSB7XG4gICAgICAgICAgICBhcnJheU1vdmUodGFyZ2V0Q2hpbGRyZW5zLCBldmVudC5wcmV2aW91c0luZGV4LCBldmVudC5jdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgdGFyZ2V0Q2hpbGRyZW5zLmZvckVhY2goKHgsIGkpID0+IHguZGF0YXNldC5pbmRleCA9IGkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0YXJnZXQuYXBwZW5kKC4uLnRhcmdldENoaWxkcmVucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcnJheVRyYW5zZmVyKHNvdXJjZUNoaWxkcmVucywgdGFyZ2V0Q2hpbGRyZW5zLCBldmVudC5wcmV2aW91c0luZGV4LCBldmVudC5jdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgc291cmNlQ2hpbGRyZW5zLmZvckVhY2goKHgsIGkpID0+IHguZGF0YXNldC5pbmRleCA9IGkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0YXJnZXRDaGlsZHJlbnMuZm9yRWFjaCgoeCwgaSkgPT4geC5kYXRhc2V0LmluZGV4ID0gaS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmFwcGVuZCguLi5zb3VyY2VDaGlsZHJlbnMpO1xuICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZCguLi50YXJnZXRDaGlsZHJlbnMpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJhZy1kcm9wLmpzLm1hcCIsImltcG9ydCB7IFBhZ2UgfSBmcm9tICcuLi9wYWdlJztcbmltcG9ydCBodG1sIGZyb20gJy4vZHJhZy1kcm9wLmh0bWwnO1xuaW1wb3J0IHsgRHJhZ0Ryb3AgfSBmcm9tICdAbWF6ZGlrLWxpYi9kcmFnLWRyb3AnO1xuXG5jbGFzcyBJdGVtIHtcbiAgbmFtZTogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdEcm9wRGVtbyBpbXBsZW1lbnRzIFBhZ2Uge1xuXG4gIGdldCB0ZW1wbGF0ZSgpOiBzdHJpbmcgeyByZXR1cm4gaHRtbDsgfVxuXG4gIHByaXZhdGUgZHJhZ0Ryb3A6IERyYWdEcm9wO1xuXG4gIGxvYWQoKSB7XG4gICAgY29uc3QgZGF0YTogSXRlbVtdW10gPSBbXG4gICAgICBbXG4gICAgICAgIHsgbmFtZTogJ1Rhc2sgMScsIHRleHQ6ICdXcml0ZSBhIHByb2dyYW0gdGhhdCBwcmludHMg4oCYSGVsbG8gV29ybGTigJkgdG8gdGhlIHNjcmVlbicgfSxcbiAgICAgICAgeyBuYW1lOiAnVGFzayAyJywgdGV4dDogJ1dyaXRlIGEgcHJvZ3JhbSB0aGF0IGFza3MgdGhlIHVzZXIgZm9yIHRoZWlyIG5hbWUgYW5kIGdyZWV0cyB0aGVtIHdpdGggdGhlaXIgbmFtZScgfSxcbiAgICAgICAgeyBuYW1lOiAnVGFzayAzJywgdGV4dDogJ01vZGlmeSB0aGUgcHJldmlvdXMgcHJvZ3JhbSBzdWNoIHRoYXQgb25seSB0aGUgdXNlcnMgQWxpY2UgYW5kIEJvYiBhcmUgZ3JlZXRlZCB3aXRoIHRoZWlyIG5hbWVzJyB9LFxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgeyBuYW1lOiAnVGFzayA0JywgdGV4dDogJ1dyaXRlIGEgcHJvZ3JhbSB0aGF0IGFza3MgdGhlIHVzZXIgZm9yIGEgbnVtYmVyIG4gYW5kIHByaW50cyB0aGUgc3VtIG9mIHRoZSBudW1iZXJzIDEgdG8gbicgfSxcbiAgICAgICAgeyBuYW1lOiAnVGFzayA1JywgdGV4dDogJ01vZGlmeSB0aGUgcHJldmlvdXMgcHJvZ3JhbSBzdWNoIHRoYXQgb25seSBtdWx0aXBsZXMgb2YgdGhyZWUgb3IgZml2ZSBhcmUgY29uc2lkZXJlZCBpbiB0aGUgc3VtJyB9LFxuICAgICAgICB7IG5hbWU6ICdUYXNrIDYnLCB0ZXh0OiAnV3JpdGUgYSBwcm9ncmFtIHRoYXQgcHJpbnRzIGEgbXVsdGlwbGljYXRpb24gdGFibGUgZm9yIG51bWJlcnMgdXAgdG8gMTInIH0sXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICB7IG5hbWU6ICdUYXNrIDcnLCB0ZXh0OiAnV3JpdGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxhcmdlc3QgZWxlbWVudCBpbiBhIGxpc3QnIH0sXG4gICAgICAgIHsgbmFtZTogJ1Rhc2sgOCcsIHRleHQ6ICdXcml0ZSBmdW5jdGlvbiB0aGF0IHJldmVyc2VzIGEgbGlzdCwgcHJlZmVyYWJseSBpbiBwbGFjZScgfSxcbiAgICAgICAgeyBuYW1lOiAnVGFzayA5JywgdGV4dDogJ1dyaXRlIGEgZnVuY3Rpb24gdGhhdCBjaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IG9jY3VycyBpbiBhIGxpc3QnIH0sXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICB7IG5hbWU6ICdUYXNrIDEwJywgdGV4dDogJ1dyaXRlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBlbGVtZW50cyBvbiBvZGQgcG9zaXRpb25zIGluIGEgbGlzdCcgfSxcbiAgICAgICAgeyBuYW1lOiAnVGFzayAxMScsIHRleHQ6ICdXcml0ZSBhIGZ1bmN0aW9uIHRoYXQgY29tcHV0ZXMgdGhlIHJ1bm5pbmcgdG90YWwgb2YgYSBsaXN0JyB9LFxuICAgICAgICB7IG5hbWU6ICdUYXNrIDEyJywgdGV4dDogJ1dyaXRlIGEgZnVuY3Rpb24gdGhhdCB0ZXN0cyB3aGV0aGVyIGEgc3RyaW5nIGlzIGEgcGFsaW5kcm9tZScgfSxcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIHsgbmFtZTogJ1Rhc2sgMTMnLCB0ZXh0OiAnV3JpdGUgYSBwcm9ncmFtIHRoYXQgcHJpbnRzIGFsbCBwcmltZSBudW1iZXJzJyB9LFxuICAgICAgICB7IG5hbWU6ICdUYXNrIDE0JywgdGV4dDogJ1dyaXRlIGEgZ3Vlc3NpbmcgZ2FtZSB3aGVyZSB0aGUgdXNlciBoYXMgdG8gZ3Vlc3MgYSBzZWNyZXQgbnVtYmVyJyB9LFxuICAgICAgICB7IG5hbWU6ICdUYXNrIDE1JywgdGV4dDogJ1dyaXRlIGEgcHJvZ3JhbSB0aGF0IHByaW50cyB0aGUgbmV4dCAyMCBsZWFwIHllYXJzJyB9LFxuICAgICAgXVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJc3N1ZXMoaXRlbXM6IEl0ZW1bXSk6IEhUTUxFbGVtZW50W10ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcblxuICAgICAgaXRlbXMuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICBjb25zdCBpc3N1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpc3N1ZS5jbGFzc05hbWUgPSAnZGQtaXNzdWUnO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdkZC10aXRsZSc7XG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gb3B0aW9uLm5hbWU7XG4gICAgICAgIGlzc3VlLmFwcGVuZCh0aXRsZSk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZXh0LmNsYXNzTmFtZSA9ICdkZC10ZXh0JztcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IG9wdGlvbi50ZXh0O1xuICAgICAgICBpc3N1ZS5hcHBlbmQodGV4dCk7XG5cbiAgICAgICAgZWxlbWVudHMucHVzaChpc3N1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbHVtbnMoKSB7XG4gICAgICBjb25zdCBjb2x1bW5FbGVtZW50cyA9IFtdO1xuICAgICAgbGV0IGlzc3VlRWxlbWVudHMgPSBbXTtcblxuICAgICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9ICdkZC1jb2x1bW4nO1xuICAgICAgICBjb25zdCBpc3N1ZXMgPSBjcmVhdGVJc3N1ZXMoaXRlbSk7XG4gICAgICAgIGNvbHVtbi5hcHBlbmQoLi4uaXNzdWVzKTtcblxuICAgICAgICBpc3N1ZUVsZW1lbnRzID0gaXNzdWVFbGVtZW50cy5jb25jYXQoaXNzdWVzKTtcbiAgICAgICAgY29sdW1uRWxlbWVudHMucHVzaChjb2x1bW4pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBjb2x1bW5FbGVtZW50cywgaXNzdWVFbGVtZW50cyB9O1xuICAgIH1cblxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcmFnLWRyb3AtZGVtbycpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGNvbnN0IHsgY29sdW1uRWxlbWVudHMsIGlzc3VlRWxlbWVudHMgfSA9IGNyZWF0ZUNvbHVtbnMoKTtcbiAgICBkaXYuYXBwZW5kKC4uLmNvbHVtbkVsZW1lbnRzKTtcblxuICAgIHRoaXMuZHJhZ0Ryb3AgPSBuZXcgRHJhZ0Ryb3AoY29sdW1uRWxlbWVudHMsIGlzc3VlRWxlbWVudHMpO1xuICB9XG5cbiAgb25EZXN0cm95KCkge1xuICAgIHRoaXMuZHJhZ0Ryb3AuZGVzdHJveSgpO1xuICB9XG5cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJkcmFnLWRyb3AtZGVtb1xcXCIgaWQ9XFxcImRyYWctZHJvcC1kZW1vXFxcIj48L2Rpdj5cXG5cIjsiXSwic291cmNlUm9vdCI6IiJ9