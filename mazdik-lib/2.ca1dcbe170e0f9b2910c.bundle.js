(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{127:function(t,e,s){"use strict";var i=s(0),n=s(95);class l extends HTMLElement{constructor(){super(),this.sourceElements=[],this.targetElements=[],this.listeners=[]}set sourceTitle(t){this.sourceList.previousSibling.textContent=t}set targetTitle(t){this.targetList.previousSibling.textContent=t}get source(){return this._source}set source(t){this._source=t}get target(){return this._target}set target(t){this._target=t,this.createSourceElements(),this.createTargetElements(),this.renderLists()}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners(),this.dragDrop.destroy()}onInit(){const t=(~~(1e3*Math.random())).toString(),e=document.createElement("template");e.innerHTML=function(t){return`\n<div class="dt-listbox-panel">\n  <label></label>\n  <div class="dt-list-menu" id="sourceList${t}"></div>\n</div>\n<div class="dt-listbox-panel">\n  <button class="dt-button" id="moveRightAllButton${t}" title="move all to the right">\n    <i class="dt-icon-quotation-r large"></i>\n  </button>\n  <button class="dt-button" id="moveRightButton${t}" title="move selected to the right">\n    <i class="dt-icon-arrow-right large"></i>\n  </button>\n  <button class="dt-button" id="moveLeftButton${t}" title="move selected to the left">\n    <i class="dt-icon-arrow-left large"></i>\n  </button>\n  <button class="dt-button" id="moveLeftAllButton${t}" title="move all to the left">\n    <i class="dt-icon-quotation-l large"></i>\n  </button>\n</div>\n<div class="dt-listbox-panel">\n  <label></label>\n  <div class="dt-list-menu" id="targetList${t}"></div>\n</div>\n<div class="dt-listbox-panel">\n  <button class="dt-button" id="moveTopButton${t}" title="move top">\n    <i class="dt-icon-tab-up large"></i>\n  </button>\n  <button class="dt-button" id="moveUpButton${t}" title="move up">\n    <i class="dt-icon-arrow-up large"></i>\n  </button>\n  <button class="dt-button" id="moveDownButton${t}" title="move down">\n    <i class="dt-icon-arrow-down large"></i>\n  </button>\n  <button class="dt-button" id="moveBottomButton${t}" title="move bottom">\n    <i class="dt-icon-tab-down large"></i>\n  </button>\n</div>\n  `}(t),this.append(e.content.cloneNode(!0)),this.sourceList=this.querySelector("#sourceList"+t),this.targetList=this.querySelector("#targetList"+t),this.moveRightAllButton=this.querySelector("#moveRightAllButton"+t),this.moveRightButton=this.querySelector("#moveRightButton"+t),this.moveLeftButton=this.querySelector("#moveLeftButton"+t),this.moveLeftAllButton=this.querySelector("#moveLeftAllButton"+t),this.moveTopButton=this.querySelector("#moveTopButton"+t),this.moveUpButton=this.querySelector("#moveUpButton"+t),this.moveDownButton=this.querySelector("#moveDownButton"+t),this.moveBottomButton=this.querySelector("#moveBottomButton"+t),this.classList.add("dt-listbox"),this.dragDrop=new n.DragDrop([this.sourceList,this.targetList],[]),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"click",target:this.sourceList,handler:this.onClickSourceList.bind(this)},{eventName:"click",target:this.targetList,handler:this.onClickTargetList.bind(this)},{eventName:"droppableElementChange",target:this.sourceList,handler:this.onDroppableElementChange.bind(this)},{eventName:"droppableElementChange",target:this.targetList,handler:this.onDroppableElementChange.bind(this)},{eventName:"click",target:this.moveRightAllButton,handler:this.moveRightAll.bind(this)},{eventName:"click",target:this.moveRightButton,handler:this.moveRight.bind(this)},{eventName:"click",target:this.moveLeftButton,handler:this.moveLeft.bind(this)},{eventName:"click",target:this.moveLeftAllButton,handler:this.moveLeftAll.bind(this)},{eventName:"click",target:this.moveTopButton,handler:this.moveTop.bind(this)},{eventName:"click",target:this.moveUpButton,handler:this.moveUp.bind(this)},{eventName:"click",target:this.moveDownButton,handler:this.moveDown.bind(this)},{eventName:"click",target:this.moveBottomButton,handler:this.moveBottom.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}createSourceElements(){this.source&&this.source.length&&this.target&&this.target.length&&(this._source=this.source.filter(t=>this.target.every(e=>e.id!==t.id))),this.sourceElements=this.createListContent(this._source),this.dragDrop.registerDraggableElements(this.sourceElements)}createTargetElements(){this.targetElements=this.createListContent(this._target),this.dragDrop.registerDraggableElements(this.targetElements)}moveRight(){if(!Object(i.isBlank)(this.sourceModel)&&!Object(i.isBlank)(this.sourceElements)){const t=this.sourceElements.findIndex(t=>t.dataset.id===this.sourceModel);Object(i.arrayTransfer)(this.sourceElements,this.targetElements,t,this.targetElements.length),this.sourceModel=null,this.emitEvent()}}moveRightAll(){Object(i.isBlank)(this.sourceElements)||(this.targetElements=[...this.targetElements,...this.sourceElements],this.sourceElements=[],this.sourceModel=null,this.emitEvent())}moveLeft(){if(!Object(i.isBlank)(this.targetModel)&&!Object(i.isBlank)(this.targetElements)){const t=this.targetElements.findIndex(t=>t.dataset.id===this.targetModel);Object(i.arrayTransfer)(this.targetElements,this.sourceElements,t,this.sourceElements.length),this.targetModel=null,this.emitEvent()}}moveLeftAll(){Object(i.isBlank)(this.targetElements)||(this.targetElements.forEach(t=>this.sourceElements.push(t)),this.targetElements=[],this.targetModel=null,this.emitEvent())}moveUp(){if(!Object(i.isBlank)(this.targetModel)&&this.targetElements.length>1){const t=this.targetElements.findIndex(t=>t.dataset.id===this.targetModel);0!==t&&(Object(i.arrayMove)(this.targetElements,t,t-1),this.targetList.children[t]&&this.targetList.children[t].scrollIntoView({block:"center",behavior:"smooth"}),this.emitEvent())}}moveTop(){if(!Object(i.isBlank)(this.targetModel)&&this.targetElements.length>1){const t=this.targetElements.findIndex(t=>t.dataset.id===this.targetModel);0!==t&&(Object(i.arrayMove)(this.targetElements,t,0),this.targetList.scrollTop=0,this.emitEvent())}}moveDown(){if(!Object(i.isBlank)(this.targetModel)&&this.targetElements.length>1){const t=this.targetElements.findIndex(t=>t.dataset.id===this.targetModel);t!==this.targetElements.length-1&&(Object(i.arrayMove)(this.targetElements,t,t+1),this.targetList.children[t]&&this.targetList.children[t].scrollIntoView({block:"center",behavior:"smooth"}),this.emitEvent())}}moveBottom(){if(!Object(i.isBlank)(this.targetModel)&&this.targetElements.length>1){const t=this.targetElements.findIndex(t=>t.dataset.id===this.targetModel);t!==this.targetElements.length-1&&(Object(i.arrayMove)(this.targetElements,t,this.targetElements.length),this.targetList.scrollTop=this.targetList.scrollHeight,this.emitEvent())}}emitEvent(t=!0){t&&this.renderLists();const e=[...this.source,...this.target],s=this.targetElements.map(t=>e.find(e=>e.id===t.dataset.id));this.dispatchEvent(new CustomEvent("targetChange",{detail:s}))}createListContent(t){const e=[];return t.forEach(t=>{const s=document.createElement("div");s.classList.add("dt-list-menu-item"),s.textContent=t.name,s.dataset.id=t.id,e.push(s)}),e}renderSourceList(){this.sourceList.innerHTML="",this.sourceList.append(...this.sourceElements),this.updateStyles()}renderTargetList(){this.targetList.innerHTML="",this.targetList.append(...this.targetElements),this.updateStyles()}renderLists(){this.renderSourceList(),this.renderTargetList()}onClickSourceList(t){const e=this.getListItemElement(t);e&&(t.stopPropagation(),this.sourceModel=e.dataset.id,this.updateStyles())}onClickTargetList(t){const e=this.getListItemElement(t);e&&(t.stopPropagation(),this.targetModel=e.dataset.id,this.updateStyles())}getListItemElement(t){const e=t.target;return e.classList.contains("dt-list-menu-item")?e:e.closest(".dt-list-menu-item")}updateStyles(){this.sourceElements.forEach(t=>{Object(i.toggleClass)(t,"active",t.dataset.id===this.sourceModel)}),this.targetElements.forEach(t=>{Object(i.toggleClass)(t,"active",t.dataset.id===this.targetModel)});const t=Object(i.isBlank)(this.targetModel);this.moveRightButton.disabled=Object(i.isBlank)(this.sourceModel),this.moveLeftButton.disabled=t,this.moveTopButton.disabled=t,this.moveUpButton.disabled=t,this.moveDownButton.disabled=t,this.moveBottomButton.disabled=t}onDroppableElementChange(){this.sourceElements=Array.from(this.sourceList.children),this.targetElements=Array.from(this.targetList.children),this.sourceModel=null,this.targetModel=null,this.updateStyles(),this.emitEvent(!1)}}customElements.define("web-dual-list-box",l)},140:function(t,e,s){"use strict";var i=s(0),n=s(77);s(12),s(127);class l extends HTMLElement{constructor(){super(),this.listeners=[],this.selectColumns=[],this.selectedColumns=[]}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){const t=(~~(1e3*Math.random())).toString(),e=document.createElement("template");e.innerHTML=function(t){return`\n  <web-modal>\n    <template select="app-modal-header">\n      <span id="modalEditFormTitle${t}">Modal</span>\n    </template>\n    <template select="app-modal-body">\n      <web-dual-list-box></web-dual-list-box>\n    </template>\n    <template select="app-modal-footer">\n      <button class="dt-button" id="modalEditFormSave${t}">Save</button>\n      <button class="dt-button dt-green" id="modalEditFormClose${t}" style="float: right;">Close</button>\n    </ng-container>\n    </template>\n  </web-modal>\n  `}(t),this.append(e.content.cloneNode(!0)),this.modalEditFormTitle=this.querySelector("#modalEditFormTitle"+t),this.modalEditFormSave=this.querySelector("#modalEditFormSave"+t),this.modalEditFormClose=this.querySelector("#modalEditFormClose"+t),this.modal=this.querySelector("web-modal"),this.dualListBox=document.querySelector("web-dual-list-box"),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"targetChange",target:this.dualListBox,handler:this.onSelectionChange.bind(this)},{eventName:"click",target:this.modalEditFormSave,handler:this.onClickSave.bind(this)},{eventName:"click",target:this.modalEditFormClose,handler:this.onClickClose.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}onSelectionChange(t){this.selectedColumns=t.detail}createSelectItems(){this.selectedColumns=this.table.columns.filter(t=>!t.tableHidden).map(t=>({id:t.name,name:t.title})),this.selectColumns=this.table.columns.map(t=>({id:t.name,name:t.title}))}onClickSave(){this.table.columns.forEach(t=>{t.tableHidden=!0,t.index=99}),this.selectedColumns.forEach((t,e)=>{const s=this.table.columns.findIndex(e=>e.name===t.id);this.table.columns[s].tableHidden=!1,this.table.columns[s].index=e}),this.table.columns.sort((t,e)=>t.index>e.index?1:t.index<e.index?-1:0),this.dispatchEvent(new CustomEvent("columnsChanged")),this.modal.hide()}onClickClose(){this.modal.hide()}open(){this.modalEditFormTitle.textContent=this.table.messages.columns,this.modalEditFormSave.textContent=this.table.messages.save,this.modalEditFormClose.textContent=this.table.messages.close,this.createSelectItems(),this.dualListBox.source=this.selectColumns,this.dualListBox.target=this.selectedColumns,this.modal.show()}}customElements.define("web-dt-column-toggler",l);class r extends HTMLElement{constructor(){super(),this.listeners=[]}get table(){return this._table}set table(t){this._table=t,this.onInitTable()}get globalFilter(){return this._globalFilter}set globalFilter(t){this._globalFilter=t,this.updateStyles()}get createAction(){return this._createAction}set createAction(t){this._createAction=t,this.updateStyles()}get exportAction(){return this._exportAction}set exportAction(t){this._exportAction=t,this.updateStyles()}get columnToggleAction(){return this._columnToggleAction}set columnToggleAction(t){this._columnToggleAction=t,this.updateStyles()}get clearAllFiltersAction(){return this._clearAllFiltersAction}set clearAllFiltersAction(t){this._clearAllFiltersAction=t,this.updateStyles()}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.dropdown.destroy(),this.removeEventListeners()}onInit(){this.classList.add("dt-toolbar"),this.createWrapper=document.createElement("div"),this.createWrapper.classList.add("dt-toolbar-col"),this.append(this.createWrapper),this.createButton=document.createElement("button"),this.createButton.classList.add("dt-button"),this.createWrapper.append(this.createButton),this.filterWrapper=document.createElement("div"),this.filterWrapper.classList.add("dt-toolbar-col","dt-global-filter"),this.append(this.filterWrapper);const t=document.createElement("div");t.classList.add("dt-input-group"),this.filterWrapper.append(t),this.filterInput=document.createElement("input"),this.filterInput.classList.add("dt-input"),t.append(this.filterInput),this.filterButton=document.createElement("button"),this.filterButton.classList.add("dt-button"),t.append(this.filterButton),this.dropdownWrapper=document.createElement("div"),this.dropdownWrapper.classList.add("dt-toolbar-col"),this.append(this.dropdownWrapper),this.dropdownButton=document.createElement("button"),this.dropdownButton.classList.add("dt-button"),this.dropdownWrapper.append(this.dropdownButton);const e=document.createElement("div");e.classList.add("dt-context-menu"),this.dropdownWrapper.append(e),this.columnToggleMenu=document.createElement("div"),this.columnToggleMenu.classList.add("dt-list-menu-item"),e.append(this.columnToggleMenu),this.exportMenu=document.createElement("div"),this.exportMenu.classList.add("dt-list-menu-item"),e.append(this.exportMenu),this.clearAllFiltersMenu=document.createElement("div"),this.clearAllFiltersMenu.classList.add("dt-list-menu-item"),e.append(this.clearAllFiltersMenu),this.dropdown=new n.b([this.dropdownWrapper]),this.dtColumnToggler=document.createElement("web-dt-column-toggler"),this.append(this.dtColumnToggler),this.updateStyles(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"input",target:this.filterInput,handler:this.onInputGlobalSearch.bind(this)},{eventName:"keypress",target:this.filterInput,handler:this.onKeyPressGlobalSearch.bind(this)},{eventName:"click",target:this.filterButton,handler:this.onClickGlobalSearch.bind(this)},{eventName:"click",target:this.createButton,handler:this.onClickCreateAction.bind(this)},{eventName:"clickElement",target:this.dropdownWrapper,handler:this.onClickDropdown.bind(this)},{eventName:"click",target:this.columnToggleMenu,handler:this.onClickColumnToggleMenu.bind(this)},{eventName:"click",target:this.exportMenu,handler:this.downloadCsv.bind(this)},{eventName:"click",target:this.clearAllFiltersMenu,handler:this.clearAllFilters.bind(this)},{eventName:"columnsChanged",target:this.dtColumnToggler,handler:this.onColumnsChanged.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}addListener(t){this.listeners.push(t),t.target.addEventListener(t.eventName,t.handler)}onInitTable(){this.filterInput.placeholder=this.table.messages.search,this.filterInput.value=this.table.dataFilter.globalFilterValue,this.filterButton.textContent=this.table.messages.go,this.createButton.textContent=this.table.messages.create;const t=document.createTextNode(this.table.messages.actions);this.dropdownButton.append(t);const e=document.createElement("i");e.classList.add("dt-icon-node"),this.dropdownButton.append(e),this.columnToggleMenu.textContent=this.table.messages.columns,this.exportMenu.textContent=this.table.messages.export,this.clearAllFiltersMenu.textContent=this.table.messages.clearFilters,this.dtColumnToggler.table=this.table,this.addListener({eventName:"filter",target:this.table.events.element,handler:this.onFilter.bind(this)})}updateStyles(){this.filterWrapper.style.display=this.globalFilter?"block":"none",this.createWrapper.style.display=this.createAction?"block":"none";const t=this.exportAction||this.columnToggleAction||this.clearAllFiltersAction;this.dropdownWrapper.style.display=t?"block":"none",this.columnToggleMenu.style.display=this.columnToggleAction?"block":"none",this.exportMenu.style.display=this.exportAction?"block":"none",this.clearAllFiltersMenu.style.display=this.clearAllFiltersAction?"block":"none"}onInputGlobalSearch(t){this.table.dataFilter.globalFilterValue=t.target.value}onKeyPressGlobalSearch(t){t.which===i.Keys.ENTER&&this.table.events.emitFilter()}onClickGlobalSearch(){this.table.events.emitFilter()}onFilter(){this.filterInput&&(this.filterInput.value=this.table.dataFilter.globalFilterValue)}downloadCsv(){const t=this.table.columns.map(t=>t.name),e=this.table.columns.map(t=>t.title),s=[];this.table.rows.forEach(t=>{const e=t.clone();this.table.columns.forEach(t=>{e[t.name]=t.getValueView(e)}),s.push(e)}),Object(i.downloadCSV)({rows:s,keys:t,titles:e})}onClickCreateAction(){this.dispatchEvent(new CustomEvent("createAction"))}onClickDropdown(){Object(i.toggleClass)(this.clearAllFiltersMenu,"disabled",!this.table.dataFilter.hasFilters())}clearAllFilters(){this.table.dataFilter.hasFilters()&&(this.table.dataFilter.clear(),this.table.events.emitFilter())}onClickColumnToggleMenu(){this.dtColumnToggler.open()}onColumnsChanged(){this.dispatchEvent(new CustomEvent("columnsChanged"))}}customElements.define("web-dt-toolbar",r)},80:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{constructor(t){this.element=t,this.listeners=[],this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"dragenter",target:this.element,handler:this.onDragEnter.bind(this)},{eventName:"dragover",target:this.element,handler:this.onDragOver.bind(this)},{eventName:"dragleave",target:this.element,handler:this.onDragLeave.bind(this)},{eventName:"drop",target:this.element,handler:this.onDrop.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}onDragEnter(t){t.preventDefault()}onDragOver(t){t.preventDefault()}onDragLeave(t){t.preventDefault()}onDrop(t){t.preventDefault();const e=this.dragElementEvent.event.target.parentElement,s=Math.max(0,this.getNumberPosition(t.target));let i;i=e===this.element?{previousIndex:this.dragElementEvent.index,currentIndex:s,type:"reorder"}:{previousIndex:this.dragElementEvent.index,currentIndex:s,type:"move"},this.element.dispatchEvent(new CustomEvent("dropElement",{detail:i}))}getNumberPosition(t){const e=this.dragElementEvent.event.target.parentElement,s=this.element;if(t===e)return e.children?e.children.length:0;if(t===s)return s.children?s.children.length:0;let i=0;for(;t=t.previousSibling;)i++;return i-1}}},88:function(t,e){},89:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var i=s(0),n=s(80);class l{constructor(t,e){this.droppables=[],this.listeners=[],this.draggableElements=[],this.registerDroppableElements(t),this.registerDraggableElements(e)}destroy(){this.removeEventListeners(),this.droppables.forEach(t=>{t.removeEventListeners()})}registerDroppableElements(t){const e=[];t.forEach(t=>{this.droppables.push(new n.a(t)),e.push({eventName:"dropElement",target:t,handler:e=>{this.onDrop(e.detail,t)}})}),e.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)}),this.listeners=[...this.listeners,...e]}registerDraggableElements(t){const e=[];t.forEach(t=>{t.draggable=!0,e.push({eventName:"dragstart",target:t,handler:this.onDragStart.bind(this)}),this.draggableElements.push(t)}),this.draggableElements.forEach((t,e)=>t.dataset.index=e.toString()),e.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)}),this.listeners=[...this.listeners,...e]}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}onDragStart(t){const e=t.target.dataset.index;t.dataTransfer.setData("text",e),t.dataTransfer.effectAllowed="move";const s={event:t,index:parseInt(e,10)};this.droppables.forEach(t=>t.dragElementEvent=s),this.source=t.target.parentElement}onDrop(t,e){const s=Array.from(this.source.children),n=Array.from(e.children);"reorder"===t.type?(Object(i.arrayMove)(n,t.previousIndex,t.currentIndex),n.forEach((t,e)=>t.dataset.index=e.toString()),e.append(...n)):(Object(i.arrayTransfer)(s,n,t.previousIndex,t.currentIndex),s.forEach((t,e)=>t.dataset.index=e.toString()),n.forEach((t,e)=>t.dataset.index=e.toString()),this.source.append(...s),e.append(...n)),e.dispatchEvent(new CustomEvent("droppableElementChange"))}}},95:function(t,e,s){"use strict";s(80);var i=s(88);s.o(i,"DragDrop")&&s.d(e,"DragDrop",(function(){return i.DragDrop}));var n=s(89);s.d(e,"DragDrop",(function(){return n.a}))}}]);