(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{21:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return s}));a(34);class s{get template(){return'<web-pagination class="pagination-demo"></web-pagination>'}load(){const t=document.querySelector("web-pagination");t.totalItems=100,t.perPage=10,t.currentPage=1,t.pageSizeOptions=[10,20,30,50],t.addEventListener("pageChanged",t=>{console.log(t.detail)})}}},34:function(t,e,a){"use strict";var s=a(0);class i{static getTotalPages(t,e){const a=e<1?1:Math.ceil(t/e);return Math.max(a||0,1)}static getPages(t,e){const a=[];let s=1,i=e;3<e&&(s=Math.max(t-Math.floor(1.5),1),i=s+3-1,i>e&&(i=e,s=i-3+1));for(let t=s;t<=i;t++)a.push(t);return a}}i.getRangeLabel=(t,e,a)=>{if(0===a||0===e)return`0 of ${a}`;const s=(t-1)*e;return`${s+1} - ${s<(a=Math.max(a,0))?Math.min(s+e,a):s+e} of ${a}`};class n extends HTMLElement{constructor(){super(),this._perPage=10,this._totalItems=0,this._currentPage=1,this._pageSizeOptions=[],this.listeners=[],this.pageElements=[],this.classList.add("pagination"),this.render(),this.addEventListeners()}get perPage(){return this._perPage}set perPage(t){this._perPage=t,this.totalPages=i.getTotalPages(this.totalItems,this.perPage),this.pages=i.getPages(this.currentPage,this.totalPages),this.renderPages(),this.setSelectedIndex()}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this.totalPages=i.getTotalPages(this.totalItems,this.perPage),this.pages=i.getPages(this.currentPage,this.totalPages),this.renderPages()}get currentPage(){return this._currentPage}set currentPage(t){this._currentPage=t>this.totalPages?this.totalPages:t||1,this.pages=i.getPages(this.currentPage,this.totalPages),this.renderPages()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).sort((t,e)=>t-e),this.loadSelect()}disconnectedCallback(){this.removeEventListeners()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onChangePageSize.bind(this)},{eventName:"click",target:this.navigation,handler:this.onClick.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}setPage(t){t>0&&t<=this.totalPages&&t!==this.currentPage&&(this.currentPage=t,this.emitEvent())}onChangePageSize(t){this.perPage=parseInt(t.target.value,10),this.currentPage=this._currentPage,this.emitEvent()}emitEvent(){const t={currentPage:this.currentPage,perPage:this.perPage};this.dispatchEvent(new CustomEvent("pageChanged",{detail:t}))}render(){this.pageSize=document.createElement("div"),this.pageSize.classList.add("pagination-page-size"),this.select=document.createElement("select"),this.select.classList.add("pagination-page-size-select"),this.select.style.display="none",this.pageSize.append(this.select),this.rangeLabel=document.createElement("div"),this.rangeLabel.classList.add("pagination-range-label"),this.navigation=document.createElement("div"),this.navigation.classList.add("pagination-navigation"),this.append(this.pageSize),this.append(this.rangeLabel),this.append(this.navigation)}renderPages(){const t=[];t.push(this.createActionLink("first","&laquo;")),t.push(this.createActionLink("prev","&lsaquo;")),this.pages.forEach(e=>{const a=document.createElement("a");a.dataset.id=e.toString(),a.textContent=e.toString(),a.href="",t.push(a)}),t.push(this.createActionLink("next","&rsaquo;")),t.push(this.createActionLink("last","&raquo;")),this.navigation.innerHTML="",this.navigation.append(...t),this.pageElements=t,this.updateStyles(),this.setRangeLabel()}createActionLink(t,e){const a=document.createElement("a");return a.dataset.action=t,a.innerHTML=e,a.href="",a}loadSelect(){this.select.style.display="block",this.select.innerHTML="",this.pageSizeOptions.forEach(t=>{const e=t.toString();this.select.options.add(new Option(e,e))}),this.setSelectedIndex()}setSelectedIndex(){if(this.pageSizeOptions&&this.pageSizeOptions.length){const t=this.pageSizeOptions.findIndex(t=>t===this.perPage);this.select.selectedIndex=t}}onClick(t){const e=t.target,a="A"===e.tagName?e:e.closest("a");if(a)if(t.stopPropagation(),t.preventDefault(),a.blur(),Object(s.j)(a.dataset.id))"first"===a.dataset.action?this.setPage(1):"prev"===a.dataset.action?this.setPage(this.currentPage-1):"next"===a.dataset.action?this.setPage(this.currentPage+1):"last"===a.dataset.action&&this.setPage(this.totalPages);else{const t=parseInt(a.dataset.id,10);this.setPage(t)}}updateStyles(){this.pageElements.forEach(t=>{Object(s.m)(t,"active",this.currentPage.toString()===t.dataset.id),"first"!==t.dataset.action&&"prev"!==t.dataset.action||Object(s.m)(t,"disabled",1===this.currentPage),"next"!==t.dataset.action&&"last"!==t.dataset.action||Object(s.m)(t,"disabled",this.currentPage===this.totalPages)})}setRangeLabel(){this.rangeLabel.textContent=i.getRangeLabel(this.currentPage,this.perPage,this.totalItems)}}customElements.define("web-pagination",n)}}]);