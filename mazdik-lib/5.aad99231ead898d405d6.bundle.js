(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{44:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return a}));s(98);var i=s(81),n=s(0);class a{constructor(){this.dynElements=[new i.a({title:"Multiple Select",name:"multiple_select",type:"select-dropdown",options:[{id:"1",name:"CLERIC"},{id:"2",name:"RANGER"},{id:"3",name:"WARRIOR"},{id:"4",name:"GLADIATOR"},{id:"5",name:"SCOUT"},{id:"6",name:"MAGE"},{id:"7",name:"TEMPLAR"},{id:"8",name:"SORCERER"},{id:"9",name:"ASSASSIN"}],multiple:!0}),new i.a({title:"Name",name:"name",validatorFunc:n.Validators.get({required:!0,minLength:2,pattern:"^[a-zA-Z ]+$"})}),new i.a({title:"Race",name:"race",type:"select",options:[{id:"ASMODIANS",name:"ASMODIANS"},{id:"ELYOS",name:"ELYOS"}],validatorFunc:n.Validators.get({required:!0})}),new i.a({title:"Cascading Select",name:"note",type:"select-dropdown",getOptionsFunc:this.getOptions,optionsUrl:"assets/options.json",dependsElement:"race"}),new i.a({title:"Gender",name:"gender",type:"radio",options:[{id:"MALE",name:"MALE"},{id:"FEMALE",name:"FEMALE"}]}),new i.a({title:"Exp",name:"exp",type:"number",validatorFunc:n.Validators.get({required:!0,maxLength:10,pattern:"^[0-9]+$"})}),new i.a({title:"Last online",name:"last_online",type:"datetime-local"}),new i.a({title:"Account name",name:"account_name",type:"select-modal",getOptionsFunc:this.getOptions,optionsUrl:"assets/accounts.json",keyElement:"account_id"}),new i.a({title:"Account id",name:"account_id"}),new i.a({title:"Player class",name:"player_class",validatorFunc:this.customValidation}),new i.a({title:"Online",name:"online",type:"checkbox",options:[{id:"1",name:"Online"}]}),new i.a({title:"Comment",name:"comment",type:"textarea"})],this.item={multiple_select:["4"],name:"Defunct",race:"ASMODIANS",note:"ASM2",gender:"MALE",exp:7734770,last_online:"2013-04-14T22:51:14",account_name:"berserk",account_id:19,player_class:"CLERIC",online:1,comment:"test comment"}}get template(){return'<web-modal-edit-form></web-modal-edit-form>\n    <button class="dt-button" id="createButton">Create</button>&nbsp;\n    <button class="dt-button" id="updateButton">Edit</button>&nbsp;\n    <button class="dt-button" id="viewButton">View</button>\n    '}load(){const e=document.querySelector("web-modal-edit-form");e.dynElements=this.dynElements,e.item=this.item,e.saveMessage="Save!",e.closeMessage="Close!",e.addEventListener("create",e=>{console.log(e.detail)}),e.addEventListener("update",e=>{console.log(e.detail)});document.querySelector("#createButton").addEventListener("click",()=>{e.modalTitle="Create new item",e.create()});document.querySelector("#updateButton").addEventListener("click",()=>{e.modalTitle="Edit item",e.update()});document.querySelector("#viewButton").addEventListener("click",()=>{e.modalTitle="View item",e.view()})}customValidation(e,t){return null==t||0===t.length?["Custom validator "+e]:[]}getOptions(e,t){return fetch(e).then(e=>e.json()).then(e=>{const s=e.filter(e=>e.parentId===t);return new Promise(e=>{setTimeout(()=>e(s),1e3)})})}}},73:function(e,t){},74:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return l}));var i=s(0);class n{constructor(e){this.element=e,this.addEventListeners()}addEventListeners(){this.clickListener=this.onClick.bind(this),this.element.addEventListener("click",this.clickListener),this.windowClickListener=this.onWindowClick.bind(this),window.document.addEventListener("click",this.windowClickListener),this.windowKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.windowKeydownListener)}removeEventListeners(){this.element.removeEventListener("click",this.clickListener),window.document.removeEventListener("click",this.windowClickListener),window.document.removeEventListener("keydown",this.windowKeydownListener)}onClick(){this.selectContainerClicked=!0}onWindowClick(){this.selectContainerClicked||this.closeDropdown(),this.selectContainerClicked=!1}onKeyDown(e){e.keyCode!==i.Keys.ESCAPE&&"Escape"!==e.key||this.closeDropdown()}toggleDropdown(){this.isOpen?this.closeDropdown():this.openDropdown()}openDropdown(){this.isOpen||(this.isOpen=!0,this.element.dispatchEvent(new CustomEvent("open",{detail:this.isOpen})))}closeDropdown(){this.isOpen&&(this.isOpen=!1,this.element.dispatchEvent(new CustomEvent("open",{detail:this.isOpen})))}}class a{constructor(e){this.element=e,this.isOpen=!1,this.listeners=[],this.addEventListeners()}set clickedElement(e){e!==this.element&&this.isOpen&&(this.isOpen=!1,this.updateStyles())}addEventListeners(){this.listeners=[{eventName:"click",target:this.element,handler:this.toggleDropdown.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}toggle(){this.isOpen=!this.isOpen}toggleDropdown(e){e.stopPropagation(),this.toggle(),this.updateStyles(),this.element.dispatchEvent(new CustomEvent("clickElement",{detail:this.element}))}onWindowClick(e){const t=e.target;if(!t)return;this.element.contains(t)||(this.isOpen=!1),this.updateStyles()}updateStyles(){this.isOpen?this.element.classList.add("open"):this.element.classList.remove("open")}}class l{constructor(e){this.dropdowns=[],this.listeners=[],e.forEach(e=>{this.dropdowns.push(new a(e))}),this.addEventListeners(e)}destroy(){this.removeEventListeners(),this.dropdowns.forEach(e=>{e.removeEventListeners()})}addEventListeners(e){this.listeners=[{eventName:"click",target:window,handler:this.onWindowClick.bind(this)}],e.forEach(e=>{this.listeners.push({eventName:"clickElement",target:e,handler:this.onClickElement.bind(this)})}),this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onWindowClick(e){this.dropdowns.forEach(t=>{t.onWindowClick(e)})}onClickElement(e){this.dropdowns.forEach(t=>{t.clickedElement=e.detail})}}},75:function(e,t,s){"use strict";var i=s(0);class n{static getTotalPages(e,t){const s=t<1?1:Math.ceil(e/t);return Math.max(s||0,1)}static getPages(e,t){const s=[];let i=1,n=t;3<t&&(i=Math.max(e-Math.floor(1.5),1),n=i+3-1,n>t&&(n=t,i=n-3+1));for(let e=i;e<=n;e++)s.push(e);return s}}n.getRangeLabel=(e,t,s)=>{if(0===s||0===t)return"0 of "+s;const i=(e-1)*t;return`${i+1} - ${i<(s=Math.max(s,0))?Math.min(i+t,s):i+t} of ${s}`};class a extends HTMLElement{constructor(){super(),this._perPage=10,this._totalItems=0,this._currentPage=1,this._pageSizeOptions=[],this.listeners=[],this.pageElements=[]}get perPage(){return this._perPage}set perPage(e){this._perPage=e,this.totalPages=n.getTotalPages(this.totalItems,this.perPage),this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages(),this.setSelectedIndex()}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this.totalPages=n.getTotalPages(this.totalItems,this.perPage),this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages()}get currentPage(){return this._currentPage}set currentPage(e){this._currentPage=e>this.totalPages?this.totalPages:e||1,this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).sort((e,t)=>e-t),this.loadSelect(),this.select.style.display=Object(i.isBlank)(e)?"none":"block"}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){this.classList.add("pagination"),this.render(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onChangePageSize.bind(this)},{eventName:"click",target:this.navigation,handler:this.onClick.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}setPage(e){e>0&&e<=this.totalPages&&e!==this.currentPage&&(this.currentPage=e,this.emitEvent())}onChangePageSize(e){this.perPage=parseInt(e.target.value,10),this.currentPage=this._currentPage,this.emitEvent()}emitEvent(){const e={currentPage:this.currentPage,perPage:this.perPage};this.dispatchEvent(new CustomEvent("pageChanged",{detail:e}))}render(){this.pageSize=document.createElement("div"),this.pageSize.classList.add("pagination-page-size"),this.select=document.createElement("select"),this.select.classList.add("pagination-page-size-select"),this.select.style.display="none",this.pageSize.append(this.select),this.rangeLabel=document.createElement("div"),this.rangeLabel.classList.add("pagination-range-label"),this.navigation=document.createElement("div"),this.navigation.classList.add("pagination-navigation"),this.append(this.pageSize),this.append(this.rangeLabel),this.append(this.navigation)}renderPages(){const e=[];e.push(this.createActionLink("first","&laquo;")),e.push(this.createActionLink("prev","&lsaquo;")),this.pages.forEach(t=>{const s=document.createElement("a");s.dataset.id=t.toString(),s.textContent=t.toString(),s.href="",e.push(s)}),e.push(this.createActionLink("next","&rsaquo;")),e.push(this.createActionLink("last","&raquo;")),this.navigation.innerHTML="",this.navigation.append(...e),this.pageElements=e,this.updateStyles(),this.setRangeLabel()}createActionLink(e,t){const s=document.createElement("a");return s.dataset.action=e,s.innerHTML=t,s.href="",s}loadSelect(){this.select.style.display="block",this.select.innerHTML="",this.pageSizeOptions.forEach(e=>{const t=e.toString();this.select.options.add(new Option(t,t))}),this.setSelectedIndex()}setSelectedIndex(){if(this.pageSizeOptions&&this.pageSizeOptions.length){const e=this.pageSizeOptions.findIndex(e=>e===this.perPage);this.select.selectedIndex=e}}onClick(e){const t=e.target,s="A"===t.tagName?t:t.closest("a");if(s)if(e.stopPropagation(),e.preventDefault(),s.blur(),Object(i.isBlank)(s.dataset.id))"first"===s.dataset.action?this.setPage(1):"prev"===s.dataset.action?this.setPage(this.currentPage-1):"next"===s.dataset.action?this.setPage(this.currentPage+1):"last"===s.dataset.action&&this.setPage(this.totalPages);else{const e=parseInt(s.dataset.id,10);this.setPage(e)}}updateStyles(){this.pageElements.forEach(e=>{Object(i.toggleClass)(e,"active",this.currentPage.toString()===e.dataset.id),"first"!==e.dataset.action&&"prev"!==e.dataset.action||Object(i.toggleClass)(e,"disabled",1===this.currentPage),"next"!==e.dataset.action&&"last"!==e.dataset.action||Object(i.toggleClass)(e,"disabled",this.currentPage===this.totalPages)})}setRangeLabel(){this.rangeLabel.textContent=n.getRangeLabel(this.currentPage,this.perPage,this.totalItems)}}customElements.define("web-pagination",a)},79:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{constructor(e){this.multiple=!1,this.selectAllMessage="Select all",this.cancelMessage="Cancel",this.clearMessage="Clear",this.searchMessage="Search...",this.enableSelectAll=!0,this.enableFilterInput=!0,e&&Object.assign(this,e)}}class n extends HTMLElement{constructor(){super(),this._settings=new i,this._model=[],this.selectedOptions=[],this.listeners=[]}get settings(){return this._settings}set settings(e){this._settings=new i(e),this.contentInit()}get options(){return this._options||[]}set options(e){this._options=e,this.render()}get model(){return this._model}set model(e){this._model=e,this.selectedOptions=e&&e.length?e.slice(0):[],this.refreshStyles()}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen=e,!0===e&&(this.setFocus(),this.filterInput.value="",this.render())}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0),this.addEventListeners()}disconnectedCallback(){this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <input class="dt-input dt-form-group" id="filterInput${e}">\n  <ul class="dt-list-menu dt-list-menu-scroll" id="listMenu${e}"></ul>\n  <div class="dt-list-menu-row">\n    <button class="dt-button dt-button-sm" id="okButton${e}"></button>\n    <button class="dt-button dt-button-sm" id="cancelButton${e}"></button>\n    <button class="dt-button dt-button-sm" id="clearButton${e}"></button>\n  </div>\n  `}(e),this.append(t.content.cloneNode(!0)),this.filterInput=this.querySelector("#filterInput"+e),this.listMenu=this.querySelector("#listMenu"+e),this.okButton=this.querySelector("#okButton"+e),this.cancelButton=this.querySelector("#cancelButton"+e),this.clearButton=this.querySelector("#clearButton"+e),this.createElements(),this.contentInit()}addEventListeners(){this.listeners=[{eventName:"input",target:this.filterInput,handler:this.onInputFilter.bind(this)},{eventName:"click",target:this.okButton,handler:this.onClickOk.bind(this)},{eventName:"click",target:this.cancelButton,handler:this.onClickCancel.bind(this)},{eventName:"click",target:this.clearButton,handler:this.onClickClear.bind(this)},{eventName:"click",target:this.listMenu,handler:this.onClickListMenu.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}setSelectedOptions(e){const t=this.selectedOptions.indexOf(e);t>-1?this.selectedOptions.splice(t,1):(this.settings.multiple||(this.selectedOptions=[]),this.selectedOptions.push(e))}setSelected(e){this.setSelectedOptions(e),this.settings.multiple||this.selectionChangeEmit()}setSelectedAll(){this.allSelected?this.selectedOptions=[]:this.checkAll()}checkAll(){this.selectedOptions=this.options.map(e=>e.id),this.settings.multiple||this.selectionChangeEmit()}isSelected(e){return this.selectedOptions.indexOf(e)>-1}setFocus(){this.filterInput&&setTimeout(()=>{this.filterInput.focus()},1)}onClickOk(e){e.stopPropagation(),this.selectionChangeEmit()}onClickCancel(e){e.stopPropagation(),this.selectedOptions=this.model.slice(0),this.dispatchEvent(new CustomEvent("selectionCancel",{detail:!0})),this.refreshStyles()}onClickClear(e){e.stopPropagation(),this.selectedOptions.length>0&&(this.selectedOptions=[]),this.selectionChangeEmit(),this.refreshStyles()}get allSelected(){return this.options&&0!==this.options.length&&this.selectedOptions&&this.selectedOptions.length===this.options.length}get partiallySelected(){return 0!==this.selectedOptions.length&&!this.allSelected}selectionChangeEmit(){this.model.length===this.selectedOptions.length&&this.model.every((e,t)=>e===this.selectedOptions[t])?this.dispatchEvent(new CustomEvent("selectionCancel",{detail:!0})):(this.model=this.selectedOptions.slice(0),this.dispatchEvent(new CustomEvent("selectionChange",{detail:this.model})))}onInputFilter(){this.filteredOptions=this.filterOptionsByName(this.filterInput.value),this.render()}get viewOptions(){return this.filterInput.value?this.filteredOptions:this.options}filterOptionsByName(e){return e&&this.options?this.options.filter(t=>t.name.toLowerCase().indexOf(e.toLowerCase())>-1):this.options}createElements(){this.selectAll=document.createElement("li"),this.selectAll.classList.add("dt-list-menu-item","dt-list-menu-select-all"),this.selectAll.dataset.id="-1";const e=document.createElement("span");e.classList.add("dt-checkbox"),this.selectAll.append(e),this.checkboxAll=document.createElement("input"),this.checkboxAll.type="checkbox",e.append(this.checkboxAll);const t=document.createElement("label");e.append(t)}contentInit(){this.filterInput.placeholder=this.settings.searchMessage,this.okButton.textContent="OK",this.cancelButton.textContent=this.settings.cancelMessage,this.clearButton.textContent=this.settings.clearMessage,this.checkboxAll.nextElementSibling.textContent=this.settings.selectAllMessage,this.okButton.style.display=this.settings.multiple?"block":"none",this.selectAll.style.display=this.settings.multiple&&this.settings.enableSelectAll?"block":"none",this.filterInput.style.display=this.settings.enableFilterInput?"block":"none"}render(){this.listMenu.innerHTML="",this.listMenu.append(this.selectAll),this.listMenu.append(...this.createListContent()),this.refreshStyles()}createListContent(){const e=[];return this.viewOptions.forEach(t=>{const s=document.createElement("li");if(s.classList.add("dt-list-menu-item"),s.dataset.id=t.id,this.settings.multiple)s.append(this.createMultipleElement(t));else{const e=document.createElement("i");e.classList.add("dt-icon"),s.append(e);const i=document.createTextNode(t.name);s.append(i)}e.push(s)}),e}createMultipleElement(e){const t=document.createElement("span");t.classList.add("dt-checkbox");const s=document.createElement("input");s.type="checkbox",t.append(s);const i=document.createElement("label");return i.textContent=e.name,t.append(i),t}getDataId(e){const t="LI"===e.tagName?e:e.closest("li");return t&&t.dataset.id?t.dataset.id:null}get listContent(){return Array.from(this.listMenu.children)}onClickListMenu(e){const t=this.getDataId(e.target);null!=t&&(e.stopPropagation(),"-1"===t?this.setSelectedAll():this.setSelected(t),this.refreshStyles())}refreshStyles(){this.listContent.forEach(e=>{const t=this.getDataId(e);this.isSelected(t)?this.addActiveStyles(e):this.removeActiveStyles(e)}),this.checkboxAll.checked=this.allSelected,this.checkboxAll.indeterminate=this.partiallySelected}addActiveStyles(e){e.firstElementChild&&(this.settings.multiple?this.setInputChecked(e,!0):(e.classList.add("active"),e.firstElementChild.classList.add("dt-icon-ok")))}removeActiveStyles(e){e.firstElementChild&&(this.settings.multiple?this.setInputChecked(e,!1):(e.classList.remove("active"),e.firstElementChild.classList.remove("dt-icon-ok")))}setInputChecked(e,t){e.firstElementChild.firstElementChild.checked=t}}customElements.define("web-select-list",n)},84:function(e,t,s){"use strict";s(75),s(73)},87:function(e,t,s){"use strict";var i=s(0);class n extends HTMLElement{constructor(){super(),this.headerKeyMessage="Key",this.headerValueMessage="Value",this.reverse=!0,this.listeners=[]}get data(){return this._data}set data(e){this._data=e,this.renderRows()}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){this.renderTable(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"click",target:this.headerKey,handler:this.onClickHeaderKey.bind(this)},{eventName:"click",target:this.headerValue,handler:this.onClickHeaderValue.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}renderTable(){const e=document.createElement("table");e.classList.add("dt-detail-view");const t=document.createElement("thead");e.append(t);const s=document.createElement("tr");t.append(s);const i=document.createElement("th");i.textContent="№",s.append(i),this.headerKey=document.createElement("th"),this.headerKey.classList.add("sortable"),this.headerKey.textContent=this.headerKeyMessage,s.append(this.headerKey),this.headerValue=document.createElement("th"),this.headerValue.classList.add("sortable"),this.headerValue.textContent=this.headerValueMessage,s.append(this.headerValue),this.tbody=document.createElement("tbody"),e.append(this.tbody),this.append(e)}renderRows(){const e=this.orderedData?this.orderedData:this.data,t=[];e.forEach((e,s)=>{const i=document.createElement("tr"),n=document.createElement("td");n.textContent=(s+1).toString(),i.append(n);const a=document.createElement("td");a.textContent=e.key,i.append(a);const l=document.createElement("td");l.textContent=e.value,i.append(l),t.push(i)}),this.tbody.innerHTML="",this.tbody.append(...t)}onClickHeaderKey(){this.setOrder("key"),this.renderRows(),this.updateStyles()}onClickHeaderValue(){this.setOrder("value"),this.renderRows(),this.updateStyles()}setOrder(e){this.order===e&&(this.reverse=!this.reverse),this.order=e,this.orderedData=this.orderBy(this.data,this.order,this.reverse)}orderBy(e,t,s){return e&&t?(e.sort((e,s)=>e[t]>s[t]?1:e[t]<s[t]?-1:0),!1===s?e.reverse():e):e}isOrder(e){return this.order===e&&this.reverse}isOrderReverse(e){return this.order===e&&!this.reverse}updateStyles(){Object(i.toggleClass)(this.headerKey,"asc",this.isOrder("key")),Object(i.toggleClass)(this.headerKey,"desc",this.isOrderReverse("key")),Object(i.toggleClass)(this.headerValue,"asc",this.isOrder("value")),Object(i.toggleClass)(this.headerValue,"desc",this.isOrderReverse("value"))}}customElements.define("web-row-view",n)},88:function(e,t){},93:function(e,t,s){"use strict";s(87),s(88)},98:function(e,t,s){"use strict";s.d(t,"a",(function(){return i.a}));s(12);var i=s(81);s(93);class n extends HTMLElement{constructor(){super(),this.item={},this.listeners=[]}set dynElements(e){this.dynamicForm.dynElements=e}set modalTitle(e){this.modalEditFormTitle.textContent=e}set saveMessage(e){this.modalEditFormSave.textContent=e}set closeMessage(e){this.modalEditFormClose.textContent=e}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <web-modal>\n    <template select="app-modal-header">\n      <span id="modalEditFormTitle${e}">Modal</span>\n    </template>\n    <template select="app-modal-body">\n      <web-dynamic-form></web-dynamic-form>\n      <web-row-view></web-row-view>\n    </template>\n    <template select="app-modal-footer">\n      <button class="dt-button" id="modalEditFormSave${e}">Save</button>\n      <button class="dt-button dt-green" id="modalEditFormClose${e}" style="float: right;">Close</button>\n    </ng-container>\n    </template>\n  </web-modal>\n  `}(e),this.append(t.content.cloneNode(!0)),this.modalEditFormTitle=this.querySelector("#modalEditFormTitle"+e),this.modalEditFormSave=this.querySelector("#modalEditFormSave"+e),this.modalEditFormClose=this.querySelector("#modalEditFormClose"+e),this.modal=this.querySelector("web-modal"),this.dynamicForm=this.querySelector("web-dynamic-form"),this.rowView=this.querySelector("web-row-view"),this.dynamicForm.style.display="none",this.rowView.style.display="none",this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"valid",target:this.dynamicForm,handler:this.onFormValid.bind(this)},{eventName:"click",target:this.modalEditFormSave,handler:this.onClickSave.bind(this)},{eventName:"click",target:this.modalEditFormClose,handler:this.onClickClose.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onClickSave(){this.isNewItem?this.dispatchEvent(new CustomEvent("create",{detail:this.item})):this.dispatchEvent(new CustomEvent("update",{detail:this.item})),this.modal.hide()}onClickClose(){this.modal.hide()}onFormValid(e){this.modalEditFormSave.disabled=!e.detail}create(){this.rowView.style.display="none",this.dynamicForm.style.display="block",this.modalEditFormSave.style.visibility="visible",this.item={},this.dynamicForm.item=this.item,this.isNewItem=!0,this.modal.show()}update(e=!1){this.rowView.style.display="none",this.dynamicForm.style.display="block",this.modalEditFormSave.style.visibility="visible",this.dynamicForm.item=this.item,this.isNewItem=e,this.modal.show()}view(){this.rowView.style.display="block",this.dynamicForm.style.display="none",this.modalEditFormSave.style.visibility="hidden",this.rowView.data=this.getViewDataFunc?this.getViewDataFunc():this.getData(),this.modal.show()}getData(){return Object.keys(this.item).map(e=>({key:e,value:this.item[e]}))}}customElements.define("web-modal-edit-form",n)}}]);