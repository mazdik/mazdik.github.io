(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{118:function(t,e,s){"use strict";var i=s(0);s(12),s(80);class a extends HTMLElement{constructor(){super(),this.filterDelay=300,this.itemsPerPage=10,this.modalTitle="Search Dialog",this.searchInputPlaceholder="Search...",this._placeholder="Select",this.currentPage=1,this.optionsCopy=[],this.listeners=[],this.selectListElements=[]}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.selectInput.placeholder=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.selectInput.disabled=t;this.selectInput.nextElementSibling.disabled=t}get options(){return this._options}set options(t){this._options=t,this._options&&(this.optionsCopy=[...t],this.setSelectedName())}get model(){return this._model}set model(t){this._model!==t&&(this._model=t,this.dispatchEvent(new CustomEvent("valueChange",{detail:this._model})),this.setSelectedName())}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){const t=(~~(1e3*Math.random())).toString(),e=document.createElement("template");e.innerHTML=function(t){return`\n  <div class="dt-input-group" id="inputGroup${t}">\n    <input class="dt-input dt-select-input" id="selectInput${t}" readonly="readonly">\n    <button class="dt-button dt-white">\n      <i class="dt-icon dt-icon-return"></i>\n    </button>\n  </div>\n  <web-modal>\n    <template select="app-modal-header">\n      <span id="modalSelectTitle${t}">Modal</span>\n    </template>\n    <template select="app-modal-body">\n      <div class="dt-select-header">\n        <div class="dt-clearable-input">\n          <input class="dt-input select-input" id="filterInput${t}">\n          <span id="clearSearchIcon${t}">&times;</span>\n        </div>\n      </div>\n      <ul class="dt-list-menu" id="selectList${t}"></ul>\n    </template>\n    <template select="app-modal-footer">\n      <web-pagination></web-pagination>\n    </ng-container>\n    </template>\n  </web-modal>\n  `}(t),this.append(e.content.cloneNode(!0)),this.classList.add("dt-modal-select"),this.inputGroup=this.querySelector("#inputGroup"+t),this.selectInput=this.querySelector("#selectInput"+t),this.filterInput=this.querySelector("#filterInput"+t),this.selectList=this.querySelector("#selectList"+t),this.clearSearchIcon=this.querySelector("#clearSearchIcon"+t),this.modalSelectTitle=this.querySelector("#modalSelectTitle"+t),this.modal=this.querySelector("web-modal"),this.pagination=this.querySelector("web-pagination"),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"click",target:this.inputGroup,handler:this.onClickInputGroup.bind(this)},{eventName:"click",target:this.selectList,handler:this.onClickList.bind(this)},{eventName:"click",target:this.clearSearchIcon,handler:this.onClickClearSearch.bind(this)},{eventName:"input",target:this.filterInput,handler:this.onInputFilter.bind(this)},{eventName:"pageChanged",target:this.pagination,handler:this.onPageChanged.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}getOptions(){const t=this.filterInput.value;let e=[];this.optionsCopy&&this.optionsCopy.length&&t?(e=this.optionsCopy.filter(e=>e.name.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1),this.currentPage=1):e=this.optionsCopy,this.totalItems=e.length;return Object(i.arrayPaginate)(e,this.currentPage,this.itemsPerPage)}createListContent(t){const e=[];return t.forEach(t=>{const s=document.createElement("div");s.classList.add("dt-list-menu-item"),s.textContent=t.name,s.dataset.id=t.id,e.push(s)}),e}renderListContent(){const t=this.getOptions();this.selectListElements=this.createListContent(t),this.selectList.innerHTML="",this.selectList.append(...this.selectListElements)}getListItemElement(t){const e=t.target;return e.classList.contains("dt-list-menu-item")?e:e.closest(".dt-list-menu-item")}setSelectedName(){const t=Object(i.isBlank)(this.model)?"":this.model.toString(),e=(this.optionsCopy||[]).find(e=>e.id.toString()===t),s=e?e.name:"";this.selectInput.value=s,this.dispatchEvent(new CustomEvent("nameChanged",{detail:s}))}updateStyles(){const t=Object(i.isBlank)(this.model)?"":this.model.toString();this.selectListElements.forEach(e=>{Object(i.toggleClass)(e,"active",e.dataset.id===t)}),this.clearSearchIcon.style.display=this.filterInput.value.length>0?"block":"none"}onClickInputGroup(){this.disabled||(this.filterInput.value="",this.modalSelectTitle.textContent=this.modalTitle,this.selectInput.placeholder=this.placeholder,this.filterInput.placeholder=this.searchInputPlaceholder,this.renderListContent(),this.updateStyles(),this.modal.show(),this.pagination.totalItems=this.totalItems,this.pagination.perPage=this.itemsPerPage,this.pagination.currentPage=this.currentPage)}onClickList(t){const e=this.getListItemElement(t);e&&(t.stopPropagation(),this.model=e.dataset.id,this.modal.hide(),this.updateStyles())}onInputFilter(){this.filterTimeout&&clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.renderListContent(),this.filterTimeout=null},this.filterDelay),this.updateStyles()}onPageChanged(t){this.currentPage=t.detail.currentPage,this.itemsPerPage=t.detail.perPage,this.renderListContent(),this.updateStyles()}onClickClearSearch(){this.filterInput.value="",this.renderListContent(),this.updateStyles()}}customElements.define("web-modal-select",a)},47:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return i}));s(118);class i{get template(){return'<web-modal-select class="modal-select-demo"></web-modal-select>'}load(){const t=[];for(let e=1;e<=30;e++)t.push({id:e.toString(),name:"Select "+e});const e=document.querySelector("web-modal-select");e.model="5",e.options=t,e.addEventListener("valueChange",t=>{console.log(t.detail)})}}},70:function(t,e){},72:function(t,e,s){"use strict";var i=s(0);class a{static getTotalPages(t,e){const s=e<1?1:Math.ceil(t/e);return Math.max(s||0,1)}static getPages(t,e){const s=[];let i=1,a=e;3<e&&(i=Math.max(t-Math.floor(1.5),1),a=i+3-1,a>e&&(a=e,i=a-3+1));for(let t=i;t<=a;t++)s.push(t);return s}}a.getRangeLabel=(t,e,s)=>{if(0===s||0===e)return"0 of "+s;const i=(t-1)*e;return`${i+1} - ${i<(s=Math.max(s,0))?Math.min(i+e,s):i+e} of ${s}`};class n extends HTMLElement{constructor(){super(),this._perPage=10,this._totalItems=0,this._currentPage=1,this._pageSizeOptions=[],this.listeners=[],this.pageElements=[]}get perPage(){return this._perPage}set perPage(t){this._perPage=t,this.totalPages=a.getTotalPages(this.totalItems,this.perPage),this.pages=a.getPages(this.currentPage,this.totalPages),this.renderPages(),this.setSelectedIndex()}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this.totalPages=a.getTotalPages(this.totalItems,this.perPage),this.pages=a.getPages(this.currentPage,this.totalPages),this.renderPages()}get currentPage(){return this._currentPage}set currentPage(t){this._currentPage=t>this.totalPages?this.totalPages:t||1,this.pages=a.getPages(this.currentPage,this.totalPages),this.renderPages()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).sort((t,e)=>t-e),this.loadSelect(),this.select.style.display=Object(i.isBlank)(t)?"none":"block"}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){this.classList.add("pagination"),this.render(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onChangePageSize.bind(this)},{eventName:"click",target:this.navigation,handler:this.onClick.bind(this)}],this.listeners.forEach(t=>{t.target.addEventListener(t.eventName,t.handler)})}removeEventListeners(){this.listeners.forEach(t=>{t.target.removeEventListener(t.eventName,t.handler)})}setPage(t){t>0&&t<=this.totalPages&&t!==this.currentPage&&(this.currentPage=t,this.emitEvent())}onChangePageSize(t){this.perPage=parseInt(t.target.value,10),this.currentPage=this._currentPage,this.emitEvent()}emitEvent(){const t={currentPage:this.currentPage,perPage:this.perPage};this.dispatchEvent(new CustomEvent("pageChanged",{detail:t}))}render(){this.pageSize=document.createElement("div"),this.pageSize.classList.add("pagination-page-size"),this.select=document.createElement("select"),this.select.classList.add("pagination-page-size-select"),this.select.style.display="none",this.pageSize.append(this.select),this.rangeLabel=document.createElement("div"),this.rangeLabel.classList.add("pagination-range-label"),this.navigation=document.createElement("div"),this.navigation.classList.add("pagination-navigation"),this.append(this.pageSize),this.append(this.rangeLabel),this.append(this.navigation)}renderPages(){const t=[];t.push(this.createActionLink("first","&laquo;")),t.push(this.createActionLink("prev","&lsaquo;")),this.pages.forEach(e=>{const s=document.createElement("a");s.dataset.id=e.toString(),s.textContent=e.toString(),s.href="",t.push(s)}),t.push(this.createActionLink("next","&rsaquo;")),t.push(this.createActionLink("last","&raquo;")),this.navigation.innerHTML="",this.navigation.append(...t),this.pageElements=t,this.updateStyles(),this.setRangeLabel()}createActionLink(t,e){const s=document.createElement("a");return s.dataset.action=t,s.innerHTML=e,s.href="",s}loadSelect(){this.select.style.display="block",this.select.innerHTML="",this.pageSizeOptions.forEach(t=>{const e=t.toString();this.select.options.add(new Option(e,e))}),this.setSelectedIndex()}setSelectedIndex(){if(this.pageSizeOptions&&this.pageSizeOptions.length){const t=this.pageSizeOptions.findIndex(t=>t===this.perPage);this.select.selectedIndex=t}}onClick(t){const e=t.target,s="A"===e.tagName?e:e.closest("a");if(s)if(t.stopPropagation(),t.preventDefault(),s.blur(),Object(i.isBlank)(s.dataset.id))"first"===s.dataset.action?this.setPage(1):"prev"===s.dataset.action?this.setPage(this.currentPage-1):"next"===s.dataset.action?this.setPage(this.currentPage+1):"last"===s.dataset.action&&this.setPage(this.totalPages);else{const t=parseInt(s.dataset.id,10);this.setPage(t)}}updateStyles(){this.pageElements.forEach(t=>{Object(i.toggleClass)(t,"active",this.currentPage.toString()===t.dataset.id),"first"!==t.dataset.action&&"prev"!==t.dataset.action||Object(i.toggleClass)(t,"disabled",1===this.currentPage),"next"!==t.dataset.action&&"last"!==t.dataset.action||Object(i.toggleClass)(t,"disabled",this.currentPage===this.totalPages)})}setRangeLabel(){this.rangeLabel.textContent=a.getRangeLabel(this.currentPage,this.perPage,this.totalItems)}}customElements.define("web-pagination",n)},80:function(t,e,s){"use strict";s(72),s(70)}}]);