(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{54:function(e,t,s){"use strict";var i=s(0);class n{constructor(e){this.element=e,this.addEventListeners()}addEventListeners(){this.clickListener=this.onClick.bind(this),this.element.addEventListener("click",this.clickListener),this.windowClickListener=this.onWindowClick.bind(this),window.document.addEventListener("click",this.windowClickListener),this.windowKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.windowKeydownListener)}removeEventListeners(){this.element.removeEventListener("click",this.clickListener),window.document.removeEventListener("click",this.windowClickListener),window.document.removeEventListener("keydown",this.windowKeydownListener)}onClick(){this.selectContainerClicked=!0}onWindowClick(){this.selectContainerClicked||this.closeDropdown(),this.selectContainerClicked=!1}onKeyDown(e){e.keyCode!==i.a.ESCAPE&&"Escape"!==e.key||this.closeDropdown()}toggleDropdown(){this.isOpen?this.closeDropdown():this.openDropdown()}openDropdown(){this.isOpen||(this.isOpen=!0,this.element.dispatchEvent(new CustomEvent("open",{detail:this.isOpen})))}closeDropdown(){this.isOpen&&(this.isOpen=!1,this.element.dispatchEvent(new CustomEvent("open",{detail:this.isOpen})))}}class l{constructor(e){this.element=e,this.isOpen=!1,this.listeners=[],this.addEventListeners()}set clickedElement(e){e!==this.element&&this.isOpen&&(this.isOpen=!1,this.updateStyles())}addEventListeners(){this.listeners=[{eventName:"click",target:this.element,handler:this.toggleDropdown.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}toggle(){this.isOpen=!this.isOpen}toggleDropdown(e){e.stopPropagation(),this.toggle(),this.updateStyles(),this.element.dispatchEvent(new CustomEvent("clickElement",{detail:this.element}))}onWindowClick(e){const t=e.target;t&&(this.element.contains(t)||(this.isOpen=!1),this.updateStyles())}updateStyles(){this.isOpen?this.element.classList.add("open"):this.element.classList.remove("open")}}class a{constructor(e){this.dropdowns=[],this.listeners=[],e.forEach(e=>{this.dropdowns.push(new l(e))}),this.addEventListeners(e)}destroy(){this.removeEventListeners(),this.dropdowns.forEach(e=>{e.removeEventListeners()})}addEventListeners(e){this.listeners=[{eventName:"click",target:window,handler:this.onWindowClick.bind(this)}],e.forEach(e=>{this.listeners.push({eventName:"clickElement",target:e,handler:this.onClickElement.bind(this)})}),this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onWindowClick(e){this.dropdowns.forEach(t=>{t.onWindowClick(e)})}onClickElement(e){this.dropdowns.forEach(t=>{t.clickedElement=e.detail})}}s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return a}))},55:function(e,t,s){"use strict";class i{constructor(e){this.multiple=!1,this.selectAllMessage="Select all",this.cancelMessage="Cancel",this.clearMessage="Clear",this.searchMessage="Search...",this.enableSelectAll=!0,this.enableFilterInput=!0,e&&Object.assign(this,e)}}class n extends HTMLElement{constructor(){super(),this._settings=new i,this._model=[],this.selectedOptions=[],this.listeners=[]}get settings(){return this._settings}set settings(e){this._settings=new i(e),this.contentInit()}get options(){return this._options||[]}set options(e){this._options=e,this.render()}get model(){return this._model}set model(e){this._model=e,this.selectedOptions=e&&e.length?e.slice(0):[],this.refreshStyles()}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen=e,!0===e&&(this.setFocus(),this.filterInput.value="",this.render())}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0),this.addEventListeners()}disconnectedCallback(){this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <input class="dt-input dt-form-group" id="filterInput${e}">\n  <ul class="dt-list-menu dt-list-menu-scroll" id="listMenu${e}"></ul>\n  <div class="dt-list-menu-row">\n    <button class="dt-button dt-button-sm" id="okButton${e}"></button>\n    <button class="dt-button dt-button-sm" id="cancelButton${e}"></button>\n    <button class="dt-button dt-button-sm" id="clearButton${e}"></button>\n  </div>\n  `}(e),this.append(t.content.cloneNode(!0)),this.filterInput=this.querySelector("#filterInput"+e),this.listMenu=this.querySelector("#listMenu"+e),this.okButton=this.querySelector("#okButton"+e),this.cancelButton=this.querySelector("#cancelButton"+e),this.clearButton=this.querySelector("#clearButton"+e),this.createElements(),this.contentInit()}addEventListeners(){this.listeners=[{eventName:"input",target:this.filterInput,handler:this.onInputFilter.bind(this)},{eventName:"click",target:this.okButton,handler:this.onClickOk.bind(this)},{eventName:"click",target:this.cancelButton,handler:this.onClickCancel.bind(this)},{eventName:"click",target:this.clearButton,handler:this.onClickClear.bind(this)},{eventName:"click",target:this.listMenu,handler:this.onClickListMenu.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}setSelectedOptions(e){const t=this.selectedOptions.indexOf(e);t>-1?this.selectedOptions.splice(t,1):(this.settings.multiple||(this.selectedOptions=[]),this.selectedOptions.push(e))}setSelected(e){this.setSelectedOptions(e),this.settings.multiple||this.selectionChangeEmit()}setSelectedAll(){this.allSelected?this.selectedOptions=[]:this.checkAll()}checkAll(){this.selectedOptions=this.options.map(e=>e.id),this.settings.multiple||this.selectionChangeEmit()}isSelected(e){return this.selectedOptions.indexOf(e)>-1}setFocus(){this.filterInput&&setTimeout(()=>{this.filterInput.focus()},1)}onClickOk(e){e.stopPropagation(),this.selectionChangeEmit()}onClickCancel(e){e.stopPropagation(),this.selectedOptions=this.model.slice(0),this.dispatchEvent(new CustomEvent("selectionCancel",{detail:!0})),this.refreshStyles()}onClickClear(e){e.stopPropagation(),this.selectedOptions.length>0&&(this.selectedOptions=[]),this.selectionChangeEmit(),this.refreshStyles()}get allSelected(){return this.options&&0!==this.options.length&&this.selectedOptions&&this.selectedOptions.length===this.options.length}get partiallySelected(){return 0!==this.selectedOptions.length&&!this.allSelected}selectionChangeEmit(){this.model.length===this.selectedOptions.length&&this.model.every((e,t)=>e===this.selectedOptions[t])?this.dispatchEvent(new CustomEvent("selectionCancel",{detail:!0})):(this.model=this.selectedOptions.slice(0),this.dispatchEvent(new CustomEvent("selectionChange",{detail:this.model})))}onInputFilter(){this.filteredOptions=this.filterOptionsByName(this.filterInput.value),this.render()}get viewOptions(){return this.filterInput.value?this.filteredOptions:this.options}filterOptionsByName(e){return e&&this.options?this.options.filter(t=>t.name.toLowerCase().indexOf(e.toLowerCase())>-1):this.options}createElements(){this.selectAll=document.createElement("li"),this.selectAll.classList.add("dt-list-menu-item","dt-list-menu-select-all"),this.selectAll.dataset.id="-1";const e=document.createElement("span");e.classList.add("dt-checkbox"),this.selectAll.append(e),this.checkboxAll=document.createElement("input"),this.checkboxAll.type="checkbox",e.append(this.checkboxAll);const t=document.createElement("label");e.append(t)}contentInit(){this.filterInput.placeholder=this.settings.searchMessage,this.okButton.textContent="OK",this.cancelButton.textContent=this.settings.cancelMessage,this.clearButton.textContent=this.settings.clearMessage,this.checkboxAll.nextElementSibling.textContent=this.settings.selectAllMessage,this.okButton.style.display=this.settings.multiple?"block":"none",this.selectAll.style.display=this.settings.multiple&&this.settings.enableSelectAll?"block":"none",this.filterInput.style.display=this.settings.enableFilterInput?"block":"none"}render(){this.listMenu.innerHTML="",this.listMenu.append(this.selectAll),this.listMenu.append(...this.createListContent()),this.refreshStyles()}createListContent(){const e=[];return this.viewOptions.forEach(t=>{const s=document.createElement("li");if(s.classList.add("dt-list-menu-item"),s.dataset.id=t.id,this.settings.multiple)s.append(this.createMultipleElement(t));else{const e=document.createElement("i");e.classList.add("dt-icon"),s.append(e);const i=document.createTextNode(t.name);s.append(i)}e.push(s)}),e}createMultipleElement(e){const t=document.createElement("span");t.classList.add("dt-checkbox");const s=document.createElement("input");s.type="checkbox",t.append(s);const i=document.createElement("label");return i.textContent=e.name,t.append(i),t}getDataId(e){const t="LI"===e.tagName?e:e.closest("li");return t&&t.dataset.id?t.dataset.id:null}get listContent(){return Array.from(this.listMenu.children)}onClickListMenu(e){const t=this.getDataId(e.target);null!=t&&(e.stopPropagation(),"-1"===t?this.setSelectedAll():this.setSelected(t),this.refreshStyles())}refreshStyles(){this.listContent.forEach(e=>{const t=this.getDataId(e);this.isSelected(t)?this.addActiveStyles(e):this.removeActiveStyles(e)}),this.checkboxAll.checked=this.allSelected,this.checkboxAll.indeterminate=this.partiallySelected}addActiveStyles(e){e.firstElementChild&&(this.settings.multiple?this.setInputChecked(e,!0):(e.classList.add("active"),e.firstElementChild.classList.add("dt-icon-ok")))}removeActiveStyles(e){e.firstElementChild&&(this.settings.multiple?this.setInputChecked(e,!1):(e.classList.remove("active"),e.firstElementChild.classList.remove("dt-icon-ok")))}setInputChecked(e,t){e.firstElementChild.firstElementChild.checked=t}}customElements.define("web-select-list",n),s.d(t,"a",(function(){return i}))},56:function(e,t,s){"use strict";var i=s(0);class n{static getTotalPages(e,t){const s=t<1?1:Math.ceil(e/t);return Math.max(s||0,1)}static getPages(e,t){const s=[];let i=1,n=t;3<t&&(i=Math.max(e-Math.floor(1.5),1),n=i+3-1,n>t&&(n=t,i=n-3+1));for(let e=i;e<=n;e++)s.push(e);return s}}n.getRangeLabel=(e,t,s)=>{if(0===s||0===t)return`0 of ${s}`;const i=(e-1)*t;return`${i+1} - ${i<(s=Math.max(s,0))?Math.min(i+t,s):i+t} of ${s}`};class l extends HTMLElement{constructor(){super(),this._perPage=10,this._totalItems=0,this._currentPage=1,this._pageSizeOptions=[],this.listeners=[],this.pageElements=[]}get perPage(){return this._perPage}set perPage(e){this._perPage=e,this.totalPages=n.getTotalPages(this.totalItems,this.perPage),this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages(),this.setSelectedIndex()}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this.totalPages=n.getTotalPages(this.totalItems,this.perPage),this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages()}get currentPage(){return this._currentPage}set currentPage(e){this._currentPage=e>this.totalPages?this.totalPages:e||1,this.pages=n.getPages(this.currentPage,this.totalPages),this.renderPages()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).sort((e,t)=>e-t),this.loadSelect(),this.select.style.display=Object(i.o)(e)?"none":"block"}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){this.classList.add("pagination"),this.render(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onChangePageSize.bind(this)},{eventName:"click",target:this.navigation,handler:this.onClick.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}setPage(e){e>0&&e<=this.totalPages&&e!==this.currentPage&&(this.currentPage=e,this.emitEvent())}onChangePageSize(e){this.perPage=parseInt(e.target.value,10),this.currentPage=this._currentPage,this.emitEvent()}emitEvent(){const e={currentPage:this.currentPage,perPage:this.perPage};this.dispatchEvent(new CustomEvent("pageChanged",{detail:e}))}render(){this.pageSize=document.createElement("div"),this.pageSize.classList.add("pagination-page-size"),this.select=document.createElement("select"),this.select.classList.add("pagination-page-size-select"),this.select.style.display="none",this.pageSize.append(this.select),this.rangeLabel=document.createElement("div"),this.rangeLabel.classList.add("pagination-range-label"),this.navigation=document.createElement("div"),this.navigation.classList.add("pagination-navigation"),this.append(this.pageSize),this.append(this.rangeLabel),this.append(this.navigation)}renderPages(){const e=[];e.push(this.createActionLink("first","&laquo;")),e.push(this.createActionLink("prev","&lsaquo;")),this.pages.forEach(t=>{const s=document.createElement("a");s.dataset.id=t.toString(),s.textContent=t.toString(),s.href="",e.push(s)}),e.push(this.createActionLink("next","&rsaquo;")),e.push(this.createActionLink("last","&raquo;")),this.navigation.innerHTML="",this.navigation.append(...e),this.pageElements=e,this.updateStyles(),this.setRangeLabel()}createActionLink(e,t){const s=document.createElement("a");return s.dataset.action=e,s.innerHTML=t,s.href="",s}loadSelect(){this.select.style.display="block",this.select.innerHTML="",this.pageSizeOptions.forEach(e=>{const t=e.toString();this.select.options.add(new Option(t,t))}),this.setSelectedIndex()}setSelectedIndex(){if(this.pageSizeOptions&&this.pageSizeOptions.length){const e=this.pageSizeOptions.findIndex(e=>e===this.perPage);this.select.selectedIndex=e}}onClick(e){const t=e.target,s="A"===t.tagName?t:t.closest("a");if(s)if(e.stopPropagation(),e.preventDefault(),s.blur(),Object(i.o)(s.dataset.id))"first"===s.dataset.action?this.setPage(1):"prev"===s.dataset.action?this.setPage(this.currentPage-1):"next"===s.dataset.action?this.setPage(this.currentPage+1):"last"===s.dataset.action&&this.setPage(this.totalPages);else{const e=parseInt(s.dataset.id,10);this.setPage(e)}}updateStyles(){this.pageElements.forEach(e=>{Object(i.s)(e,"active",this.currentPage.toString()===e.dataset.id),"first"!==e.dataset.action&&"prev"!==e.dataset.action||Object(i.s)(e,"disabled",1===this.currentPage),"next"!==e.dataset.action&&"last"!==e.dataset.action||Object(i.s)(e,"disabled",this.currentPage===this.totalPages)})}setRangeLabel(){this.rangeLabel.textContent=n.getRangeLabel(this.currentPage,this.perPage,this.totalItems)}}customElements.define("web-pagination",l)},57:function(e,t,s){"use strict";var i=s(0);class n extends HTMLElement{constructor(){super(),this.listeners=[],this.wrapper=document.createElement("div"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("dt-group"),this.loader=document.createElement("i"),this.loader.classList.add("dt-loader"),this.loader.style.display="none",this.wrapper.append(this.loader),this.label=document.createElement("label"),this.wrapper.append(this.label),this.helpBlock=document.createElement("div"),this.helpBlock.classList.add("dt-help-block"),this.wrapper.append(this.helpBlock)}get dynElement(){return this._dynElement}set dynElement(e){this._dynElement=e,this.onInit()}set disabled(e){this.onDisabled(e)}set loading(e){this.loader.style.display=e?"inline-block":"none"}get value(){return this.dynElement.value}set value(e){this.dynElement.value!==e&&(this.dynElement.value=e,this.dispatchEvent(new CustomEvent("valueChange",{detail:this.dynElement})),this.validate())}connectedCallback(){this.isInitialized||(this.append(this.wrapper),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onInit(){this.label.textContent=this.dynElement.title,this.validate()}onDisabled(e){Object(i.s)(this.wrapper,"disabled",e)}validate(){this.dynElement.validate(),this.dispatchEvent(new CustomEvent("valid",{detail:!this.dynElement.hasError})),Object(i.s)(this.wrapper,"dt-has-error",this.dynElement.hasError);const e=[];this.dynElement.errors.forEach(t=>{const s=document.createElement("div");s.textContent=t,e.push(s)}),this.helpBlock.innerHTML="",this.helpBlock.append(...e)}updateValue(){}}class l extends n{constructor(){super(...arguments),this.firstCascade=!0}get dependsValue(){return this._dependsValue}set dependsValue(e){this._dependsValue!==e&&(this._dependsValue=e,this.setDependsOptions())}onInit(){super.onInit(),this._dependsValue=this.dynElement.item[this.dynElement.dependsElement],this.dynElement.optionsUrl?this.loadOptions():(this._options=this.dynElement.getOptions(this.dependsValue),this.onLoadOptions())}setDependsOptions(){this.dependsValue?this.dynElement.optionsUrl?this.loadOptions():(this._options=this.dynElement.getOptions(this.dependsValue),this.onLoadOptions()):this._options=[]}loadOptions(){this.dynElement.optionsUrl&&this.dynElement.getOptionsFunc&&(this.loading=!0,this.dynElement.getOptionsFunc(this.dynElement.optionsUrl,this._dependsValue).then(e=>{this._options=e,this.onLoadOptions()}).catch(()=>{this._options=[]}).finally(()=>{this.loading=!1}))}onLoadOptions(){this.setDefaultSelect(),this.validate()}getOptions(){return this._options}setDefaultSelect(){this.firstCascade&&Object(i.o)(this.value)&&(this.value="",this._options&&1===this._options.length&&(this.value=this._options[0].id)),this.firstCascade=!1}}s(59);s(64);const a=[{type:"input",name:"web-form-input"},{type:"select",name:"web-form-select"},{type:"textarea",name:"web-form-textarea"},{type:"checkbox",name:"web-form-checkbox-radio"},{type:"radio",name:"web-form-checkbox-radio"},{type:"select-dropdown",name:"web-form-select-dropdown"},{type:"select-modal",name:"web-form-select-modal"}];[{name:"web-form-input",model:class extends n{constructor(){super(),this.input=document.createElement("input"),this.input.classList.add("dt-input")}onInit(){super.onInit(),this.label.after(this.input),this.input.type=this.dynElement.type,this.input.placeholder=this.dynElement.title,this.input.value=this.getInputFormattedValue(),this.addEventListeners()}onDisabled(e){super.onDisabled(e),this.input.disabled=e}updateValue(){this.input.value=this.getInputFormattedValue()}addEventListeners(){this.listeners=[{eventName:"input",target:this.input,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.target.value}getInputFormattedValue(){const e=Object(i.n)(this.dynElement.type)?Object(i.m)(this.dynElement.type,this.value):this.value;return Object(i.o)(e)?null:e}}},{name:"web-form-select",model:class extends l{constructor(){super(),this.select=document.createElement("select"),this.select.classList.add("dt-input")}onInit(){super.onInit(),this.label.after(this.select),this.addEventListeners()}onDisabled(e){super.onDisabled(e),this.select.disabled=e}onLoadOptions(){super.onLoadOptions(),this.loadSelect(),this.setSelectedIndex()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.target.value}loadSelect(){this.select.options.length=0;const e=new Option(this.dynElement.selectPlaceholder,"",!1,!0);e.disabled=!0,e.hidden=!0,this.select.options.add(e);const t=this.getOptions();for(const e of t)this.select.options.add(new Option(e.name,e.id))}setSelectedIndex(){const e=this.getOptions();if(!Object(i.o)(e)&&!Object(i.o)(this.value)){let t=e.findIndex(e=>e.id===this.value.toString());t=t>=0?t+1:t,this.select.selectedIndex=t}}}},{name:"web-form-textarea",model:class extends n{constructor(){super(),this.textarea=document.createElement("textarea"),this.textarea.classList.add("dt-input")}onInit(){super.onInit(),this.label.after(this.textarea),this.textarea.placeholder=this.dynElement.title,this.textarea.value=Object(i.o)(this.value)?null:this.value,this.addEventListeners()}onDisabled(e){super.onDisabled(e),this.textarea.disabled=e}addEventListeners(){this.listeners=[{eventName:"input",target:this.textarea,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.target.value}}},{name:"web-form-checkbox-radio",model:class extends l{constructor(){super(),this.inputs=[],this.block=document.createElement("div")}onInit(){super.onInit(),this.label.after(this.block)}onDisabled(e){super.onDisabled(e),this.inputs.forEach(t=>t.disabled=e)}onLoadOptions(){super.onLoadOptions(),this.createElements(this.getOptions(),this.dynElement.type),this.addEventListeners()}createElements(e,t){this.block.innerHTML="",this.block=document.createElement("div"),e.forEach(e=>{const s=document.createElement("div");s.classList.add("dt-"+t),this.block.append(s);const i=document.createElement("input");i.type=t,i.name=this.dynElement.name,i.value=e.id,i.checked=this.isSelectActive(e),s.append(i);const n=document.createElement("label");n.textContent=e.name?e.name:e.id,s.append(n),this.inputs.push(i),this.listeners.push({eventName:"change",target:i,handler:this.onChange.bind(this)})})}addEventListeners(){this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}isSelectActive(e){return Array.isArray(this.value)?this.value.some(t=>t===e.id):this.value===e.id}onChange(e){const t=e.target;"checkbox"===this.dynElement.type?t.checked?this.check(t.value):this.uncheck(t.value):this.value=e.target.value}check(e){if(!Array.isArray(this.value))return this.value=e;-1===this.value.indexOf(e)&&this.value.push(e)}uncheck(e){if(!Array.isArray(this.value))return this.value=null;{const t=this.value.indexOf(e);t>-1&&this.value.splice(t,1)}}}},{name:"web-form-select-dropdown",model:class extends l{constructor(){super(),this.dropdownSelect=document.createElement("web-dropdown-select")}onInit(){super.onInit(),this.label.after(this.dropdownSelect),window.customElements.whenDefined("web-dropdown-select").then(()=>{this.dropdownSelect.settings={placeholder:this.dynElement.selectPlaceholder,searchMessage:this.dynElement.searchInputPlaceholder},this.dropdownSelect.options=this.getOptions(),this.dropdownSelect.value=this.value}),this.addEventListeners()}onDisabled(e){super.onDisabled(e),window.customElements.whenDefined("web-dropdown-select").then(()=>{this.dropdownSelect.settings={disabled:e}})}onLoadOptions(){super.onLoadOptions(),window.customElements.whenDefined("web-dropdown-select").then(()=>{this.dropdownSelect.options=this.getOptions()})}addEventListeners(){this.listeners=[{eventName:"valueChange",target:this.dropdownSelect,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.detail}}},{name:"web-form-select-modal",model:class extends l{constructor(){super(),this.modalSelect=document.createElement("web-modal-select")}onInit(){super.onInit(),this.label.after(this.modalSelect),window.customElements.whenDefined("web-modal-select").then(()=>{this.modalSelect.title=this.dynElement.title,this.modalSelect.placeholder=this.dynElement.selectPlaceholder,this.modalSelect.searchInputPlaceholder=this.dynElement.searchInputPlaceholder,this.modalSelect.options=this.getOptions(),this.modalSelect.model=this.value}),this.addEventListeners()}onDisabled(e){super.onDisabled(e),window.customElements.whenDefined("web-modal-select").then(()=>{this.modalSelect.disabled=e})}onLoadOptions(){super.onLoadOptions(),window.customElements.whenDefined("web-modal-select").then(()=>{this.modalSelect.options=this.getOptions()})}addEventListeners(){this.listeners=[{eventName:"valueChange",target:this.modalSelect,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.detail}}}].forEach(e=>{customElements.define(e.name,e.model)});class o extends HTMLElement{constructor(){super(),this._item={},this.elements=[],this.listeners=[],this.isNewItem=!0}get item(){return this._item}set item(e){this._item=e,this.isNewItem=!e,this.render()}get dynElements(){return this._dynElements}set dynElements(e){this._dynElements=e,this.render()}disconnectedCallback(){this.removeEventListeners(),this.elements=[]}render(){this.removeEventListeners(),this.elements=[],this.dynElements.forEach(e=>{if(!e.hidden){e.item=this.item;const t=this.createComponent(e);this.listeners.push({eventName:"valueChange",target:t,handler:this.onValueChange.bind(this)}),this.listeners.push({eventName:"valid",target:t,handler:this.onValid.bind(this)}),this.elements.push(t)}}),this.innerHTML="",this.append(...this.elements),this.addEventListeners()}addEventListeners(){this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}createComponent(e){const t=a.find(t=>t.type===e.type);let s;return s=t?document.createElement(t.name):document.createElement("web-form-input"),s.dynElement=e,s.disabled=this.isDisabled(e),s}isDisabled(e){return!this.isNewItem&&e.disableOnEdit}onValueChange(e){this.elements.forEach(t=>{t.dynElement.dependsElement===e.detail.name&&(t.dependsValue=this.item[t.dynElement.dependsElement]),t.dynElement.name===e.detail.keyElement&&(this.item[e.detail.keyElement]=e.detail.value,t.updateValue())})}onValid(){const e=this.dynElements.some(e=>e.hasError);this.dispatchEvent(new CustomEvent("valid",{detail:!e}))}}customElements.define("web-dynamic-form",o);class h extends class{constructor(){this.selectPlaceholder="Select...",this.searchInputPlaceholder="Search..."}}{constructor(e){super(),this.item={},this.errors=[],Object.assign(this,e)}get value(){return this.hasKeyElement?this.item[this.keyElement]:this.item[this.name]}set value(e){this.hasKeyElement?this.item[this.keyElement]=e:this.item[this.name]=e}get isDateType(){return Object(i.n)(this.type)}get hasError(){return this.errors&&this.errors.length>0}get hasKeyElement(){return this.keyElement&&("select"===this.type||"select-modal"===this.type||"select-dropdown"===this.type)}getOptions(e){if(this.options)return this.dependsElement&&!Object(i.o)(e)?this.options.filter(t=>t.parentId===e):this.options}validate(){this.validatorFunc&&(this.errors=this.validatorFunc(this.title,this.value))}}s.d(t,"a",(function(){return h}))},59:function(e,t,s){"use strict";var i=s(54),n=s(55);class l extends n.a{constructor(e){super(e),this.placeholder="Select",this.selectedMessage="Selected",this.disabled=!1,e&&Object.assign(this,e)}}class a extends HTMLElement{constructor(){super(),this._settings=new l,this.listeners=[]}get settings(){return this._settings}set settings(e){this._settings=new l(e),this.selectList.settings=this._settings,this.contentInit()}get options(){return this._options}set options(e){this._options=e,this.input.value=this.getName(this.selectList.model),this.selectList.options=e}set value(e){Array.isArray(e)?this.selectList.model=[...e]:this.selectList.model=e?[e]:[],this.input.value=this.getName(this.selectList.model)}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.dropdown.removeEventListeners(),this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <div class="dt-input-group" id="inputGroup${e}">\n    <input class="dt-input dt-select-input" readonly="readonly">\n    <button class="dt-button dt-white">\n      <i class="dt-icon"></i>\n    </button>\n  </div>\n  <div class="dt-dropdown-select-list" id="dropdownContent${e}">\n    <web-select-list></web-select-list>\n  </div>\n  `}(e),this.append(t.content.cloneNode(!0)),this.classList.add("dt-dropdown-select"),this.dropdown=new i.a(this),this.selectList=this.querySelector("web-select-list"),this.inputGroup=this.querySelector("#inputGroup"+e),this.dropdownContent=this.querySelector("#dropdownContent"+e),this.input=this.querySelector("input"),this.button=this.querySelector("button"),this.contentInit(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"open",target:this,handler:this.onOpenChange.bind(this)},{eventName:"click",target:this.inputGroup,handler:this.open.bind(this)},{eventName:"selectionChange",target:this.selectList,handler:this.onSelectionChange.bind(this)},{eventName:"selectionCancel",target:this.selectList,handler:this.onSelectionCancel.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}open(e){e.stopPropagation(),this.settings.disabled||this.dropdown.toggleDropdown()}onSelectionChange(e){this.input.value=this.getName(e.detail),this.selectionChangeEmit(e.detail),this.dropdown.closeDropdown()}onSelectionCancel(){this.dropdown.closeDropdown()}getName(e){if(e&&e.length&&this.options&&this.options.length){if(this.settings.multiple&&e.length>1)return this.settings.selectedMessage+": "+e.length;{const t=this.options.find(t=>t.id===e[0]);return t?t.name:""}}return null}selectionChangeEmit(e){if(this.settings.multiple)this.dispatchEvent(new CustomEvent("valueChange",{detail:e}));else{const t=e&&e.length?e[0]:null;this.dispatchEvent(new CustomEvent("valueChange",{detail:t}))}}onOpenChange(){this.refreshStyles(),this.selectList.isOpen=this.dropdown.isOpen}contentInit(){this.input.placeholder=this.settings.placeholder,this.input.disabled=this.settings.disabled,this.button.disabled=this.settings.disabled,this.refreshStyles()}refreshStyles(){this.dropdownContent.style.display=this.dropdown.isOpen?"block":"none",this.dropdown.isOpen?(this.button.firstElementChild.classList.add("asc"),this.button.firstElementChild.classList.remove("desc")):(this.button.firstElementChild.classList.remove("asc"),this.button.firstElementChild.classList.add("desc"))}}customElements.define("web-dropdown-select",a)},64:function(e,t,s){"use strict";var i=s(0);s(3),s(56);class n extends HTMLElement{constructor(){super(),this.filterDelay=300,this.itemsPerPage=10,this.modalTitle="Search Dialog",this.searchInputPlaceholder="Search...",this._placeholder="Select",this.currentPage=1,this.optionsCopy=[],this.listeners=[],this.selectListElements=[]}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.selectInput.placeholder=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.selectInput.disabled=e,this.selectInput.nextElementSibling.disabled=e}get options(){return this._options}set options(e){this._options=e,this._options&&(this.optionsCopy=[...e],this.setSelectedName())}get model(){return this._model}set model(e){this._model!==e&&(this._model=e,this.dispatchEvent(new CustomEvent("valueChange",{detail:this._model})),this.setSelectedName())}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <div class="dt-input-group" id="inputGroup${e}">\n    <input class="dt-input dt-select-input" id="selectInput${e}" readonly="readonly">\n    <button class="dt-button dt-white">\n      <i class="dt-icon dt-icon-return"></i>\n    </button>\n  </div>\n  <web-modal>\n    <template select="app-modal-header">\n      <span id="modalSelectTitle${e}">Modal</span>\n    </template>\n    <template select="app-modal-body">\n      <div class="dt-select-header">\n        <div class="dt-clearable-input">\n          <input class="dt-input select-input" id="filterInput${e}">\n          <span id="clearSearchIcon${e}">&times;</span>\n        </div>\n      </div>\n      <ul class="dt-list-menu" id="selectList${e}"></ul>\n    </template>\n    <template select="app-modal-footer">\n      <web-pagination></web-pagination>\n    </ng-container>\n    </template>\n  </web-modal>\n  `}(e),this.append(t.content.cloneNode(!0)),this.classList.add("dt-modal-select"),this.inputGroup=this.querySelector("#inputGroup"+e),this.selectInput=this.querySelector("#selectInput"+e),this.filterInput=this.querySelector("#filterInput"+e),this.selectList=this.querySelector("#selectList"+e),this.clearSearchIcon=this.querySelector("#clearSearchIcon"+e),this.modalSelectTitle=this.querySelector("#modalSelectTitle"+e),this.modal=this.querySelector("web-modal"),this.pagination=this.querySelector("web-pagination"),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"click",target:this.inputGroup,handler:this.onClickInputGroup.bind(this)},{eventName:"click",target:this.selectList,handler:this.onClickList.bind(this)},{eventName:"click",target:this.clearSearchIcon,handler:this.onClickClearSearch.bind(this)},{eventName:"input",target:this.filterInput,handler:this.onInputFilter.bind(this)},{eventName:"pageChanged",target:this.pagination,handler:this.onPageChanged.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}getOptions(){const e=this.filterInput.value;let t=[];return this.optionsCopy&&this.optionsCopy.length&&e?(t=this.optionsCopy.filter(t=>t.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1),this.currentPage=1):t=this.optionsCopy,this.totalItems=t.length,Object(i.e)(t,this.currentPage,this.itemsPerPage)}createListContent(e){const t=[];return e.forEach(e=>{const s=document.createElement("div");s.classList.add("dt-list-menu-item"),s.textContent=e.name,s.dataset.id=e.id,t.push(s)}),t}renderListContent(){const e=this.getOptions();this.selectListElements=this.createListContent(e),this.selectList.innerHTML="",this.selectList.append(...this.selectListElements)}getListItemElement(e){const t=e.target;return t.classList.contains("dt-list-menu-item")?t:t.closest(".dt-list-menu-item")}setSelectedName(){const e=Object(i.o)(this.model)?"":this.model.toString(),t=(this.optionsCopy||[]).find(t=>t.id.toString()===e),s=t?t.name:"";this.selectInput.value=s}updateStyles(){const e=Object(i.o)(this.model)?"":this.model.toString();this.selectListElements.forEach(t=>{Object(i.s)(t,"active",t.dataset.id===e)}),this.clearSearchIcon.style.display=this.filterInput.value.length>0?"block":"none"}onClickInputGroup(){this.disabled||(this.filterInput.value="",this.modalSelectTitle.textContent=this.modalTitle,this.selectInput.placeholder=this.placeholder,this.filterInput.placeholder=this.searchInputPlaceholder,this.renderListContent(),this.updateStyles(),this.modal.show(),this.pagination.totalItems=this.totalItems,this.pagination.perPage=this.itemsPerPage,this.pagination.currentPage=this.currentPage)}onClickList(e){const t=this.getListItemElement(e);t&&(e.stopPropagation(),this.model=t.dataset.id,this.modal.hide(),this.updateStyles())}onInputFilter(){this.filterTimeout&&clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.renderListContent(),this.filterTimeout=null},this.filterDelay),this.updateStyles()}onPageChanged(e){this.currentPage=e.detail.currentPage,this.itemsPerPage=e.detail.perPage,this.renderListContent(),this.updateStyles()}onClickClearSearch(){this.filterInput.value="",this.renderListContent(),this.updateStyles()}}customElements.define("web-modal-select",n)}}]);