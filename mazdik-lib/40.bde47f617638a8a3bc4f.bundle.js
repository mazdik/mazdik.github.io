(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{64:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var s=n(65),a=n(66),r=n(0);class o{constructor(){this.elements=new Map,this.listeners=[]}create(e){const{table:t,row:n}=e,s=document.createElement("div");s.classList.add("datatable-body-row","datatable-group-header"),s.style.height=t.dimensions.rowHeight+"px";const a=this.createCellElement(t,n);return s.append(a),this.elements.set(n,s),this.refresh(e),s}destroy(){this.removeEventListeners(),this.elements.forEach(e=>e.remove()),this.elements.clear()}refresh(e){const{table:t,row:n}=e,s=this.elements.get(n);if(s){const e=s.children[0],a=e.children[0];Object(r.toggleClass)(a,"dt-icon-collapsed",!n.expanded);e.children[1].innerText=t.rowGroup.getRowGroupName(n)+" ("+t.rowGroup.getRowGroupSize(n)+")"}}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}createCellElement(e,t){const n=document.createElement("div");n.classList.add("datatable-body-cell","dt-sticky","dt-pointer"),n.style.left="0";const s=document.createElement("i");s.classList.add("dt-icon-node"),n.append(s);const a=document.createElement("span");n.append(a);const r={eventName:"click",target:n,handler:this.onExpanded.bind(this,e,t)};return this.listeners.push(r),r.target.addEventListener(r.eventName,r.handler),n}onExpanded(e,t){if(t.expanded=!t.expanded,t.expanded){e.rowGroup.getGroupRows(t,e.rows).forEach(e=>e.$$height=null)}else{e.rowGroup.getGroupRows(t,e.rows).forEach(e=>e.$$height=0)}e.events.emitUpdateStyles()}}class d{get template(){return"<web-data-table></web-data-table>"}load(){this.component=document.querySelector("web-data-table");const e=Object(a.b)();e.find(e=>"race"===e.name).tableHidden=!0;const t=new s.Settings({groupRowsBy:["race"],rowHeightProp:"$$height",rowGroupTemplate:new o}),n=new s.DataTable(e,t);n.pager.perPage=50,this.component.table=n,n.events.emitLoading(!0),fetch("assets/players.json").then(e=>e.json()).then(e=>{e.forEach(e=>e.expanded=!0),n.rows=e,n.events.emitLoading(!1)})}}}}]);