(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{120:function(e,t,s){"use strict";var n=s(74),i=s(79);class l extends i.a{constructor(e){super(e),this.placeholder="Select",this.selectedMessage="Selected",this.disabled=!1,e&&Object.assign(this,e)}}class a extends HTMLElement{constructor(){super(),this._settings=new l,this.listeners=[]}get settings(){return this._settings}set settings(e){this._settings=new l(e),this.selectList.settings=this._settings,this.contentInit()}get options(){return this._options}set options(e){this._options=e,this.input.value=this.getName(this.selectList.model),this.selectList.options=e}set value(e){Array.isArray(e)?this.selectList.model=[...e]:this.selectList.model=e?[e]:[],this.input.value=this.getName(this.selectList.model)}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.dropdown.removeEventListeners(),this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <div class="dt-input-group" id="inputGroup${e}">\n    <input class="dt-input dt-select-input" readonly="readonly">\n    <button class="dt-button dt-white">\n      <i class="dt-icon"></i>\n    </button>\n  </div>\n  <div class="dt-dropdown-select-list" id="dropdownContent${e}">\n    <web-select-list></web-select-list>\n  </div>\n  `}(e),this.append(t.content.cloneNode(!0)),this.classList.add("dt-dropdown-select"),this.dropdown=new n.a(this),this.selectList=this.querySelector("web-select-list"),this.inputGroup=this.querySelector("#inputGroup"+e),this.dropdownContent=this.querySelector("#dropdownContent"+e),this.input=this.querySelector("input"),this.button=this.querySelector("button"),this.contentInit(),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"open",target:this,handler:this.onOpenChange.bind(this)},{eventName:"click",target:this.inputGroup,handler:this.open.bind(this)},{eventName:"selectionChange",target:this.selectList,handler:this.onSelectionChange.bind(this)},{eventName:"selectionCancel",target:this.selectList,handler:this.onSelectionCancel.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}open(e){e.stopPropagation(),this.settings.disabled||this.dropdown.toggleDropdown()}onSelectionChange(e){this.input.value=this.getName(e.detail),this.selectionChangeEmit(e.detail),this.dropdown.closeDropdown()}onSelectionCancel(){this.dropdown.closeDropdown()}getName(e){if(e&&e.length&&this.options&&this.options.length){if(this.settings.multiple&&e.length>1)return this.settings.selectedMessage+": "+e.length;{const t=this.options.find(t=>t.id===e[0]);return t?t.name:""}}return null}selectionChangeEmit(e){if(this.settings.multiple)this.dispatchEvent(new CustomEvent("valueChange",{detail:e}));else{const t=e&&e.length?e[0]:null;this.dispatchEvent(new CustomEvent("valueChange",{detail:t}))}}onOpenChange(){this.refreshStyles(),this.selectList.isOpen=this.dropdown.isOpen}contentInit(){this.input.placeholder=this.settings.placeholder,this.input.disabled=this.settings.disabled,this.button.disabled=this.settings.disabled,this.refreshStyles()}refreshStyles(){this.dropdownContent.style.display=this.dropdown.isOpen?"block":"none",this.dropdown.isOpen?(this.button.firstElementChild.classList.add("asc"),this.button.firstElementChild.classList.remove("desc")):(this.button.firstElementChild.classList.remove("asc"),this.button.firstElementChild.classList.add("desc"))}}customElements.define("web-dropdown-select",a)},124:function(e,t,s){"use strict";var n=s(0);s(12),s(84);class i extends HTMLElement{constructor(){super(),this.filterDelay=300,this.itemsPerPage=10,this.modalTitle="Search Dialog",this.searchInputPlaceholder="Search...",this._placeholder="Select",this.currentPage=1,this.optionsCopy=[],this.listeners=[],this.selectListElements=[]}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.selectInput.placeholder=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.selectInput.disabled=e;this.selectInput.nextElementSibling.disabled=e}get options(){return this._options}set options(e){this._options=e,this._options&&(this.optionsCopy=[...e],this.setSelectedName())}get model(){return this._model}set model(e){this._model!==e&&(this._model=e,this.dispatchEvent(new CustomEvent("valueChange",{detail:this._model})),this.setSelectedName())}connectedCallback(){this.isInitialized||(this.onInit(),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}onInit(){const e=(~~(1e3*Math.random())).toString(),t=document.createElement("template");t.innerHTML=function(e){return`\n  <div class="dt-input-group" id="inputGroup${e}">\n    <input class="dt-input dt-select-input" id="selectInput${e}" readonly="readonly">\n    <button class="dt-button dt-white">\n      <i class="dt-icon dt-icon-return"></i>\n    </button>\n  </div>\n  <web-modal>\n    <template select="app-modal-header">\n      <span id="modalSelectTitle${e}">Modal</span>\n    </template>\n    <template select="app-modal-body">\n      <div class="dt-select-header">\n        <div class="dt-clearable-input">\n          <input class="dt-input select-input" id="filterInput${e}">\n          <span id="clearSearchIcon${e}">&times;</span>\n        </div>\n      </div>\n      <ul class="dt-list-menu" id="selectList${e}"></ul>\n    </template>\n    <template select="app-modal-footer">\n      <web-pagination></web-pagination>\n    </ng-container>\n    </template>\n  </web-modal>\n  `}(e),this.append(t.content.cloneNode(!0)),this.classList.add("dt-modal-select"),this.inputGroup=this.querySelector("#inputGroup"+e),this.selectInput=this.querySelector("#selectInput"+e),this.filterInput=this.querySelector("#filterInput"+e),this.selectList=this.querySelector("#selectList"+e),this.clearSearchIcon=this.querySelector("#clearSearchIcon"+e),this.modalSelectTitle=this.querySelector("#modalSelectTitle"+e),this.modal=this.querySelector("web-modal"),this.pagination=this.querySelector("web-pagination"),this.addEventListeners()}addEventListeners(){this.listeners=[{eventName:"click",target:this.inputGroup,handler:this.onClickInputGroup.bind(this)},{eventName:"click",target:this.selectList,handler:this.onClickList.bind(this)},{eventName:"click",target:this.clearSearchIcon,handler:this.onClickClearSearch.bind(this)},{eventName:"input",target:this.filterInput,handler:this.onInputFilter.bind(this)},{eventName:"pageChanged",target:this.pagination,handler:this.onPageChanged.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}getOptions(){const e=this.filterInput.value;let t=[];this.optionsCopy&&this.optionsCopy.length&&e?(t=this.optionsCopy.filter(t=>t.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1),this.currentPage=1):t=this.optionsCopy,this.totalItems=t.length;return Object(n.arrayPaginate)(t,this.currentPage,this.itemsPerPage)}createListContent(e){const t=[];return e.forEach(e=>{const s=document.createElement("div");s.classList.add("dt-list-menu-item"),s.textContent=e.name,s.dataset.id=e.id,t.push(s)}),t}renderListContent(){const e=this.getOptions();this.selectListElements=this.createListContent(e),this.selectList.innerHTML="",this.selectList.append(...this.selectListElements)}getListItemElement(e){const t=e.target;return t.classList.contains("dt-list-menu-item")?t:t.closest(".dt-list-menu-item")}setSelectedName(){const e=Object(n.isBlank)(this.model)?"":this.model.toString(),t=(this.optionsCopy||[]).find(t=>t.id.toString()===e),s=t?t.name:"";this.selectInput.value=s,this.dispatchEvent(new CustomEvent("nameChanged",{detail:s}))}updateStyles(){const e=Object(n.isBlank)(this.model)?"":this.model.toString();this.selectListElements.forEach(t=>{Object(n.toggleClass)(t,"active",t.dataset.id===e)}),this.clearSearchIcon.style.display=this.filterInput.value.length>0?"block":"none"}onClickInputGroup(){this.disabled||(this.filterInput.value="",this.modalSelectTitle.textContent=this.modalTitle,this.selectInput.placeholder=this.placeholder,this.filterInput.placeholder=this.searchInputPlaceholder,this.renderListContent(),this.updateStyles(),this.modal.show(),this.pagination.totalItems=this.totalItems,this.pagination.perPage=this.itemsPerPage,this.pagination.currentPage=this.currentPage)}onClickList(e){const t=this.getListItemElement(e);t&&(e.stopPropagation(),this.model=t.dataset.id,this.modal.hide(),this.updateStyles())}onInputFilter(){this.filterTimeout&&clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.renderListContent(),this.filterTimeout=null},this.filterDelay),this.updateStyles()}onPageChanged(e){this.currentPage=e.detail.currentPage,this.itemsPerPage=e.detail.perPage,this.renderListContent(),this.updateStyles()}onClickClearSearch(){this.filterInput.value="",this.renderListContent(),this.updateStyles()}}customElements.define("web-modal-select",i)},81:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s(0);class i extends HTMLElement{constructor(){super(),this.listeners=[],this.wrapper=document.createElement("div"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("dt-group"),this.loader=document.createElement("i"),this.loader.classList.add("dt-loader"),this.loader.style.display="none",this.wrapper.append(this.loader),this.label=document.createElement("label"),this.wrapper.append(this.label),this.helpBlock=document.createElement("div"),this.helpBlock.classList.add("dt-help-block"),this.wrapper.append(this.helpBlock)}get dynElement(){return this._dynElement}set dynElement(e){this._dynElement=e,this.onInit()}set disabled(e){this.onDisabled(e)}set loading(e){this.loader.style.display=e?"inline-block":"none"}get value(){return this.dynElement.value}set value(e){this.dynElement.value!==e&&(this.dynElement.value=e,this.dispatchEvent(new CustomEvent("valueChange",{detail:this.dynElement})),this.validate())}connectedCallback(){this.isInitialized||(this.append(this.wrapper),this.isInitialized=!0)}disconnectedCallback(){this.removeEventListeners()}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onInit(){this.label.textContent=this.dynElement.title,this.validate()}onDisabled(e){Object(n.toggleClass)(this.wrapper,"disabled",e)}validate(){this.dynElement.validate(),this.dispatchEvent(new CustomEvent("valid",{detail:!this.dynElement.hasError})),Object(n.toggleClass)(this.wrapper,"dt-has-error",this.dynElement.hasError);const e=[];this.dynElement.errors.forEach(t=>{const s=document.createElement("div");s.textContent=t,e.push(s)}),this.helpBlock.innerHTML="",this.helpBlock.append(...e)}updateValue(){}}class l extends i{constructor(){super(...arguments),this.firstCascade=!0}get dependsValue(){return this._dependsValue}set dependsValue(e){this._dependsValue!==e&&(this._dependsValue=e,this.setDependsOptions())}onInit(){super.onInit(),this._dependsValue=this.dynElement.item[this.dynElement.dependsElement],this.dynElement.optionsUrl?this.loadOptions():(this._options=this.dynElement.getOptions(this.dependsValue),this.onLoadOptions())}setDependsOptions(){this.dependsValue?this.dynElement.optionsUrl?this.loadOptions():(this._options=this.dynElement.getOptions(this.dependsValue),this.onLoadOptions()):this._options=[]}loadOptions(){this.dynElement.optionsUrl&&this.dynElement.getOptionsFunc&&(this.loading=!0,this.dynElement.getOptionsFunc(this.dynElement.optionsUrl,this._dependsValue).then(e=>{this._options=e,this.onLoadOptions()}).catch(()=>{this._options=[]}).finally(()=>{this.loading=!1}))}onLoadOptions(){this.setDefaultSelect(),this.validate()}getOptions(){return this._options}setDefaultSelect(){this.firstCascade&&Object(n.isBlank)(this.value)&&(this.value="",this._options&&1===this._options.length&&(this.value=this._options[0].id)),this.firstCascade=!1}}s(120);s(124);const a=[{type:"input",name:"web-form-input"},{type:"select",name:"web-form-select"},{type:"textarea",name:"web-form-textarea"},{type:"checkbox",name:"web-form-checkbox-radio"},{type:"radio",name:"web-form-checkbox-radio"},{type:"select-dropdown",name:"web-form-select-dropdown"},{type:"select-modal",name:"web-form-select-modal"}];[{name:"web-form-input",model:class extends i{constructor(){super(),this.input=document.createElement("input"),this.input.classList.add("dt-input")}onInit(){super.onInit(),this.label.after(this.input),this.input.type=this.dynElement.type,this.input.placeholder=this.dynElement.title,this.input.value=this.getInputFormattedValue(),this.addEventListeners()}onDisabled(e){super.onDisabled(e),this.input.disabled=e}updateValue(){this.input.value=this.getInputFormattedValue()}addEventListeners(){this.listeners=[{eventName:"input",target:this.input,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.target.value}getInputFormattedValue(){const e=Object(n.inputIsDateType)(this.dynElement.type)?Object(n.inputFormattedDate)(this.dynElement.type,this.value):this.value;return Object(n.isBlank)(e)?null:e}}},{name:"web-form-select",model:class extends l{constructor(){super(),this.select=document.createElement("select"),this.select.classList.add("dt-input")}onInit(){super.onInit(),this.label.after(this.select),this.addEventListeners()}onDisabled(e){super.onDisabled(e),this.select.disabled=e}onLoadOptions(){super.onLoadOptions(),this.loadSelect(),this.setSelectedIndex()}addEventListeners(){this.listeners=[{eventName:"change",target:this.select,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.target.value}loadSelect(){this.select.options.length=0;const e=new Option(this.dynElement.selectPlaceholder,"",!1,!0);e.disabled=!0,e.hidden=!0,this.select.options.add(e);const t=this.getOptions();for(const e of t)this.select.options.add(new Option(e.name,e.id))}setSelectedIndex(){const e=this.getOptions();if(!Object(n.isBlank)(e)&&!Object(n.isBlank)(this.value)){let t=e.findIndex(e=>e.id===this.value.toString());t=t>=0?t+1:t,this.select.selectedIndex=t}}}},{name:"web-form-textarea",model:class extends i{constructor(){super(),this.textarea=document.createElement("textarea"),this.textarea.classList.add("dt-input")}onInit(){super.onInit(),this.label.after(this.textarea),this.textarea.placeholder=this.dynElement.title,this.textarea.value=Object(n.isBlank)(this.value)?null:this.value,this.addEventListeners()}onDisabled(e){super.onDisabled(e),this.textarea.disabled=e}addEventListeners(){this.listeners=[{eventName:"input",target:this.textarea,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.target.value}}},{name:"web-form-checkbox-radio",model:class extends l{constructor(){super(),this.inputs=[],this.block=document.createElement("div")}onInit(){super.onInit(),this.label.after(this.block)}onDisabled(e){super.onDisabled(e),this.inputs.forEach(t=>t.disabled=e)}onLoadOptions(){super.onLoadOptions(),this.createElements(this.getOptions(),this.dynElement.type),this.addEventListeners()}createElements(e,t){this.block.innerHTML="",this.block=document.createElement("div"),e.forEach(e=>{const s=document.createElement("div");s.classList.add("dt-"+t),this.block.append(s);const n=document.createElement("input");n.type=t,n.name=this.dynElement.name,n.value=e.id,n.checked=this.isSelectActive(e),s.append(n);const i=document.createElement("label");i.textContent=e.name?e.name:e.id,s.append(i),this.inputs.push(n),this.listeners.push({eventName:"change",target:n,handler:this.onChange.bind(this)})})}addEventListeners(){this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}isSelectActive(e){return Array.isArray(this.value)?this.value.some(t=>t===e.id):this.value===e.id}onChange(e){const t=e.target;"checkbox"===this.dynElement.type?t.checked?this.check(t.value):this.uncheck(t.value):this.value=e.target.value}check(e){if(!Array.isArray(this.value))return this.value=e;-1===this.value.indexOf(e)&&this.value.push(e)}uncheck(e){if(!Array.isArray(this.value))return this.value=null;{const t=this.value.indexOf(e);t>-1&&this.value.splice(t,1)}}}},{name:"web-form-select-dropdown",model:class extends l{constructor(){super(),this.dropdownSelect=document.createElement("web-dropdown-select")}onInit(){super.onInit(),this.label.after(this.dropdownSelect),window.customElements.whenDefined("web-dropdown-select").then(()=>{this.setDropdownSelectSettings(),this.dropdownSelect.options=this.getOptions(),this.dropdownSelect.value=this.value}),this.addEventListeners()}onDisabled(e){super.onDisabled(e),window.customElements.whenDefined("web-dropdown-select").then(()=>{this.setDropdownSelectSettings(e)})}onLoadOptions(){super.onLoadOptions(),window.customElements.whenDefined("web-dropdown-select").then(()=>{this.setDropdownSelectSettings(),this.dropdownSelect.options=this.getOptions()})}addEventListeners(){this.listeners=[{eventName:"valueChange",target:this.dropdownSelect,handler:this.onInput.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.detail}setDropdownSelectSettings(e=!1){this.dropdownSelect.settings={multiple:this.dynElement.multiple,placeholder:this.dynElement.selectPlaceholder,searchMessage:this.dynElement.searchInputPlaceholder,selectAllMessage:this.dynElement.selectAllMessage,cancelMessage:this.dynElement.cancelMessage,clearMessage:this.dynElement.clearMessage,selectedMessage:this.dynElement.selectedMessage,disabled:e}}}},{name:"web-form-select-modal",model:class extends l{constructor(){super(),this.modalSelect=document.createElement("web-modal-select")}onInit(){super.onInit(),this.label.after(this.modalSelect),window.customElements.whenDefined("web-modal-select").then(()=>{this.modalSelect.title=this.dynElement.title,this.modalSelect.placeholder=this.dynElement.selectPlaceholder,this.modalSelect.searchInputPlaceholder=this.dynElement.searchInputPlaceholder,this.modalSelect.options=this.getOptions(),this.modalSelect.model=this.value}),this.addEventListeners()}onDisabled(e){super.onDisabled(e),window.customElements.whenDefined("web-modal-select").then(()=>{this.modalSelect.disabled=e})}onLoadOptions(){super.onLoadOptions(),window.customElements.whenDefined("web-modal-select").then(()=>{this.modalSelect.options=this.getOptions()})}addEventListeners(){this.listeners=[{eventName:"valueChange",target:this.modalSelect,handler:this.onInput.bind(this)},{eventName:"nameChanged",target:this.modalSelect,handler:this.onNameChanged.bind(this)}],this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}onInput(e){this.value=e.detail}onNameChanged(e){this.dynElement.keyElement&&(this.dynElement.item[this.dynElement.name]=e.detail)}}}].forEach(e=>{customElements.define(e.name,e.model)});class o extends HTMLElement{constructor(){super(),this._item={},this.elements=[],this.listeners=[],this.isNewItem=!0}get item(){return this._item}set item(e){this._item=e,this.isNewItem=!e,this.render()}get dynElements(){return this._dynElements}set dynElements(e){this._dynElements=e,this.render()}disconnectedCallback(){this.removeEventListeners(),this.elements=[]}render(){this.removeEventListeners(),this.elements=[],this.dynElements.forEach(e=>{if(!e.hidden){e.item=this.item;const t=this.createComponent(e);this.listeners.push({eventName:"valueChange",target:t,handler:this.onValueChange.bind(this)}),this.listeners.push({eventName:"valid",target:t,handler:this.onValid.bind(this)}),this.elements.push(t)}}),this.innerHTML="",this.append(...this.elements),this.addEventListeners()}addEventListeners(){this.listeners.forEach(e=>{e.target.addEventListener(e.eventName,e.handler)})}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}createComponent(e){const t=a.find(t=>t.type===e.type);let s;return s=t?document.createElement(t.name):document.createElement("web-form-input"),s.dynElement=e,s.disabled=this.isDisabled(e),s}isDisabled(e){return!this.isNewItem&&e.disableOnEdit}onValueChange(e){this.elements.forEach(t=>{t.dynElement.dependsElement===e.detail.name&&(t.dependsValue=this.item[t.dynElement.dependsElement]),t.dynElement.name===e.detail.keyElement&&(this.item[e.detail.keyElement]=e.detail.value,t.updateValue())})}onValid(){const e=this.dynElements.some(e=>e.hasError);this.dispatchEvent(new CustomEvent("valid",{detail:!e}))}}customElements.define("web-dynamic-form",o);class d extends class{constructor(){this.selectPlaceholder="Select...",this.searchInputPlaceholder="Search...",this.selectAllMessage="Select all",this.cancelMessage="Cancel",this.clearMessage="Clear",this.selectedMessage="Selected"}}{constructor(e){super(),this.item={},this.errors=[],Object.assign(this,e)}get value(){return this.hasKeyElement?this.item[this.keyElement]:this.item[this.name]}set value(e){this.hasKeyElement?this.item[this.keyElement]=e:this.item[this.name]=e}get isDateType(){return Object(n.inputIsDateType)(this.type)}get hasError(){return this.errors&&this.errors.length>0}get hasKeyElement(){return this.keyElement&&("select"===this.type||"select-modal"===this.type||"select-dropdown"===this.type)}getOptions(e){if(this.options)return this.dependsElement&&!Object(n.isBlank)(e)?this.options.filter(t=>t.parentId===e):this.options}validate(){this.validatorFunc&&(this.errors=this.validatorFunc(this.title,this.value))}}}}]);