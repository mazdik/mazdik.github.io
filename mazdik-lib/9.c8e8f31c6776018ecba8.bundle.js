(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{49:function(e,t,n){"use strict";n.r(t);var a=n(67),s=n.n(a),l=n(52),r=n(53);class o{constructor(e){this.onClickFunc=e,this.elements=new Map,this.listeners=[]}create(e){const{cell:t}=e,n=document.createElement("a");return n.href="#",this.addListener({eventName:"click",target:n,handler:this.onClickCell.bind(this,t)}),this.elements.set(t,n),this.refresh(e),n}destroy(){this.removeEventListeners(),this.elements.clear()}refresh(e){const{cell:t}=e,n=this.elements.get(t);n&&(n.textContent=t.viewValue)}addListener(e){this.listeners.push(e),e.target.addEventListener(e.eventName,e.handler)}removeEventListeners(){this.listeners.forEach(e=>{e.target.removeEventListener(e.eventName,e.handler)})}onClickCell(e,t){t.preventDefault(),this.onClickFunc(e)}}n.d(t,"default",(function(){return i}));class i{constructor(){this.rank=[],this.inventory=[]}get template(){return s.a}load(){this.rankModal=document.querySelector("#rankModal"),this.inventoryModal=document.querySelector("#inventoryModal"),this.createTablePlayers(),this.createTableInventory(),this.createTableRank(),this.loadRows()}createTablePlayers(){const e=Object(r.b)();e.splice(7);const t=new o(this.onClickCellRank.bind(this)),n=new o(this.onClickCellInventory.bind(this));e[0].cellTemplate=t,e[1].cellTemplate=n,this.dtPlayers=new l.b(e,new l.e),document.querySelector("#dtPlayers").table=this.dtPlayers}createTableInventory(){const e=Object(r.a)();this.dtInventory=new l.b(e,new l.e),document.querySelector("#dtInventory").table=this.dtInventory}createTableRank(){const e=Object(r.c)();this.dtRank=new l.b(e,new l.e),document.querySelector("#dtRank").table=this.dtRank}loadRows(){this.dtPlayers.events.emitLoading(!0),fetch("assets/players.json").then(e=>e.json()).then(e=>{this.dtPlayers.rows=e,this.dtPlayers.events.emitLoading(!1)}),fetch("assets/rank.json").then(e=>e.json()).then(e=>{this.rank=e,this.dtRank.rows=this.rank}),fetch("assets/inventory.json").then(e=>e.json()).then(e=>{this.inventory=e,this.dtInventory.rows=this.inventory})}onClickCellRank(e){this.dtRank.rows=this.rank.filter(t=>t.player_id===e.value),this.rankModal.show()}onClickCellInventory(e){this.dtInventory.rows=this.inventory.filter(t=>t.itemOwner===e.row.id),this.inventoryModal.show()}}},67:function(e,t){e.exports='<web-data-table id="dtPlayers"></web-data-table>\n\n<web-modal id="rankModal" class="rank-modal">\n  <template select="app-modal-header">\n    <span>Rank</span>\n  </template>\n  <template select="app-modal-body">\n    <web-data-table id="dtRank"></web-data-table>\n  </template>\n</web-modal>\n\n<web-modal id="inventoryModal" class="inventory-modal">\n  <template select="app-modal-header">\n    <span>Inventory</span>\n  </template>\n  <template select="app-modal-body">\n    <web-data-table id="dtInventory"></web-data-table>\n  </template>\n</web-modal>\n'}}]);