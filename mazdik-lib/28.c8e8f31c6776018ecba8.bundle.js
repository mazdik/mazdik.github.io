(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{17:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return i}));var n=s(52),a=s(53);class i{constructor(){this.rank=[],this.inventory=[]}get template(){return'<web-data-table id="dtPlayers" class="data-table-demo"></web-data-table>\n    <div style="display:flex;">\n      <div style="width: 59%;">\n        <web-data-table id="dtInventory"></web-data-table>\n      </div>\n      <div style="width: 1%;"></div>\n      <div style="width: 40%;">\n        <web-data-table id="dtRank"></web-data-table>\n      </div>\n    </div>\n    '}load(){this.createTablePlayers(),this.loadRows(),this.dtPlayers.events.element.addEventListener("selection",()=>this.masterChanged()),this.createTableInventory(),this.createTableRank()}createTablePlayers(){const t=Object(a.b)();this.dtPlayers=new n.b(t,new n.e),document.querySelector("#dtPlayers").table=this.dtPlayers}createTableInventory(){const t=Object(a.a)();this.dtInventory=new n.b(t,new n.e),document.querySelector("#dtInventory").table=this.dtInventory}createTableRank(){const t=Object(a.c)();this.dtRank=new n.b(t,new n.e),document.querySelector("#dtRank").table=this.dtRank}loadRows(){this.dtPlayers.events.emitLoading(!0),fetch("assets/players.json").then(t=>t.json()).then(t=>{this.dtPlayers.rows=t,this.dtPlayers.events.emitLoading(!1);const e=this.dtPlayers.rows[0].id;this.dtPlayers.selectRow(0),fetch("assets/rank.json").then(t=>t.json()).then(t=>{this.rank=t,this.dtRank.rows=this.rank.filter(t=>t.player_id===e)}),fetch("assets/inventory.json").then(t=>t.json()).then(t=>{this.inventory=t,this.dtInventory.rows=this.inventory.filter(t=>t.itemOwner===e)})})}masterChanged(){const t=this.dtPlayers.selection.getSelection();if(this.dtPlayers.rows.length>0&&0!==t.length&&this.dtPlayers.rows[t[0]]){const e=this.dtPlayers.rows[t[0]].id;this.dtRank.rows=this.rank.filter(t=>t.player_id===e),this.dtInventory.rows=this.inventory.filter(t=>t.itemOwner===e)}else this.dtRank.rows=[],this.dtInventory.rows=[]}}}}]);